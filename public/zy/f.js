webpackJsonp([12],[function(t,a,n){(function(a){"use strict";t.exports=a["MK"]=n(153)}).call(a,function(){return this}())},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function l(t,a){var n={};for(var i in t)a.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}a.__esModule=!0;var o=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=n(14),s=i(r),d=n(26),u=i(d),c=n(43),f=i(c),h=n(38),p=(i(h),n(51)),m=i(p),g=s["default"].createClass({displayName:"TextBox",mixins:[m["default"]],getInitialState:function(){return{placeholder:!this.props.value,focus:!1}},componentWillUpdate:function(t){this.setState({placeholder:!t.value})},getContent:function(){return u["default"].findDOMNode(this.refs.input)},handleStopPop:function(e){e.stopPropagation()},handleMouseDown:function(e){e.preventDefault(),u["default"].findDOMNode(this.refs.input).focus()},handleFocus:function(e){this.setState({focus:!0}),this.props.onFocus&&this.props.onFocus(e)},handleBlur:function(e){this.setState({focus:!1}),this.props.onBlur&&this.props.onBlur(e);var t=window.navigator.userAgent,a=/micromessenger/i.test(t),n=t.match(/(iPad).*OS\s([\d_]+)/)||t.match(/(iPod)(.*OS\s([\d_]+))?/)||t.match(/(iPhone\sOS)\s([\d_]+)/);if(n&&a){var i,l,o=1;l=setInterval(function(){i=document.documentElement.scrollTop||document.body.scrollTop,i-=o,window.scrollTo(0,Math.max(i,0)),clearInterval(l)},100)}},render:function(){var t=this.props,a=t.className,n=t.style,i=t.themeColor,r=t.iconStyle,d=t.icon,u=t.placeholder,c=t.component,h=(t.onFocus,t.onBlur,l(t,["className","style","themeColor","iconStyle","icon","placeholder","component","onFocus","onBlur"])),p=this.state.placeholder,m=c||"input",g={};return this.state.focus&&(g={color:i}),a.indexOf("error")>-1&&(g={color:"#DA2824"}),s["default"].createElement("div",{className:(0,f["default"])(a,{"is_focus":this.state.focus,"has-icon":d}),style:n},d?s["default"].createElement("i",{key:"ctIcon",className:"iconfont fbi_icon",style:_.assign({},r,g)},d):null,p&&u?s["default"].createElement("span",{className:"fbi_placeholder",style:{left:n.paddingLeft||0},onMouseDown:this.handleMouseDown},u):null,s["default"].createElement(m,o({className:"fbi_input aria-content",tabIndex:0},h,{ref:"input",style:{fontSize:n.fontSize,lineHeight:n.lineHeight},autoComplete:"off",spellCheck:!1,onMouseDown:h.onMouseDown,onKeyDown:this.handleStopPop,onFocus:this.handleFocus,onBlur:this.handleBlur})))}});a["default"]=g,t.exports=a["default"]},,function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}a.__esModule=!0;var l=n(14),o=i(l),r=n(43),s=i(r),d=n(8),u=i(d),c=n(60),f=i(c),h=n(47),p=i(h),m=n(9),g=n(57),v=i(g),y=n(62),b=n(51),S=i(b);a["default"]=o["default"].createClass({displayName:"Component(Input)",mixins:[S["default"],f["default"]],handleWeChatScan:function(){var t=this;window.wx.scanQRCode({desc:"scanQRCode desc",needResult:1,success:function(a){a&&a.resultStr&&p["default"].dispatch({type:"setValue",id:t.props.data.id,value:a.resultStr})}})},handleChange:function(e){p["default"].dispatch({type:"setValue",id:this.props.data.id,value:e.target.value})},handleBlur:function(e){p["default"].dispatch({type:"inputBlur",id:this.props.data.id,value:e.target.value})},renderTips:function(){var t=this.props,a=t.data,n=t.fill,i=t.valid,l=this.formStyle(),r=l.tipsStyle;if(1!==a.isWordLimit)return null;var d=null,c=null,f=!1,h=(i||[]).indexOf("tip")>-1;return u["default"].isNumber(a.wordLimitFrom)&&u["default"].isNumber(a.wordLimitTo)?(d=[o["default"].createElement("span",{className:(0,s["default"])("fbc_tip_input",{error:h}),key:"inputLength"},(n||"").length),o["default"].createElement("span",{key:"tipContent"},"/"+a.wordLimitFrom+"~"+a.wordLimitTo)],c=m.lang.ariaInputWordRange({from:a.wordLimitFrom,to:a.wordLimitTo})):u["default"].isNumber(a.wordLimitFrom)?(f=!0,d=m.lang.cInputWordLimitFormFunc({num:a.wordLimitFrom}),c=m.lang.ariaInputWordLimitFormFunc({from:a.wordLimitFrom})):u["default"].isNumber(a.wordLimitTo)&&(d=[o["default"].createElement("span",{className:(0,s["default"])("fbc_tip_input",{error:h}),key:"inputLength"},(n||"").length),o["default"].createElement("span",{key:"tipContent"},"/"+a.wordLimitTo)],c=m.lang.ariaInputWordLimitToFunc({to:a.wordLimitTo})),o["default"].createElement("p",{className:(0,s["default"])("fbc_tips",{error:h&&f}),"aria-label":c,style:r,id:"tips"+a.id},d)},render:function(){var t=this.props,a=t.data,n=t.fill,i=t.valid,l=t.componentStyle,r=t.isMobile,d=t.style,c=t.itemNum,f=t.themeColor,h=this.formStyle(),p=h.inputStyle,g=h.textAreaStyle,b=h.inputWithIconStyle,S=h.inputIconStyle,C="input",_=0===+a.isOnlySingle;_&&(C="textarea");var w=y.FIELD_INFO_MAPPING[a.type],E=10*(r?10:a.cpWidth||8),I={},N={};r||2!==+a.cpLayout||(I={"float":"left",paddingTop:6,width:((d.bodyStyle||{}).cpTitleWidth||20)+"%"},N={"float":"left",width:100-((d.bodyStyle||{}).cpTitleWidth||20)+"%"},c&&c>1&&(I.width="auto",I.maxWidth=105-E+"%",N.width=E-5+"%",E=100));var k=[];return k=i&&i.length>0?["err"+a.id,"title"+a.id,"subtitle"+a.id,"tips"+a.id,"placehoder"+a.id]:["title"+a.id,"subtitle"+a.id,"tips"+a.id,"placehoder"+a.id],o["default"].createElement("div",{className:(0,s["default"])("fb_component",a.type),id:a.id,style:l},o["default"].createElement("div",{className:"fb_componentText",style:I},this.renderTitle(a),this.renderSubtitle(a),this.renderTips(),this.renderError(i)),o["default"].createElement("div",{className:"fb_componentBody",style:N},o["default"].createElement("div",{className:(0,s["default"])("fbc_content","fbc_widthCp",{isUseWeChatScan:a.isUseWeChatScan&&window.IN_WECHAT}),style:{width:E+"%"}},o["default"].createElement("span",{className:"aria-placeholder",id:"placehoder"+a.id,"aria-label":(_?m.lang.ariaMultiLine:"")+(a.placeholder||"")+"."}),o["default"].createElement(v["default"],{component:C,className:(0,s["default"])("fbc_input",{"textarea":_,error:i&&i.length>0}),tabIndex:1,"aria-labelledby":k.join(" "),"aria-required":a.isRequired,ref:"input",type:"text",spellCheck:!1,autoComplete:"off",icon:"input"!==a.type&&w?w.icon:null,iconStyle:S,themeColor:d.themeColor,style:"input"!==a.type&&w?b:_?g:p,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:a.placeholder||"",value:n||""}),a.isUseWeChatScan&&window.IN_WECHAT?o["default"].createElement("a",{className:"iconfont fbc_scanIcon",style:u["default"].assign(S,{color:f||"#2D8FD9"}),onClick:this.handleWeChatScan},String.fromCharCode(58960)):null)))}}),t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function l(t){return d["default"].createElement("a",{className:"fbc_descriptionLink",href:(0,m.linkify)(t.data.url),tabIndex:1,target:"_blank",key:"linkDom"+t.key},t.content,d["default"].createElement("span",{className:"iconfont"},String.fromCharCode(59086)))}a.__esModule=!0;var o=n(8),r=i(o),s=n(14),d=i(s),u=n(43),c=i(u),f=n(55),h=i(f),p=n(32),m=(i(p),n(38)),g=n(48),v=n(61),y=n(9),b=n(47),S=i(b),C=n(45),_=i(C),w=n(42),E=["",v.serialNumberGenerator.numberSimple,v.serialNumberGenerator.numberRightBrackets,v.serialNumberGenerator.numberAllBrackets,v.serialNumberGenerator.numberAllMiddleBrackets,v.serialNumberGenerator.numberWithBar,v.serialNumberGenerator.cnNumberSimple,v.serialNumberGenerator.cnNumberAllBrackets,v.serialNumberGenerator.romanNumberUpper,v.serialNumberGenerator.romanNumberLower,v.serialNumberGenerator.numberWithQ],I=(0,w.crateTextRender)({entity:{LINK:{component:l}}});a["default"]={getRawContent:function(t){return r["default"].isString(t)?t:r["default"].isArray(t)?t.join("\n"):void 0},renderRichContent:function(t,a){return a&&(_["default"].getExt("renderRichText")||(a=null)),I.render(t,a)},__wxBlurJumpBackFixer:function(){var t=window.navigator.userAgent,a=/micromessenger/i.test(t),n=t.match(/(iPad).*OS\s([\d_]+)/)||t.match(/(iPod)(.*OS\s([\d_]+))?/)||t.match(/(iPhone\sOS)\s([\d_]+)/);if(n&&a){var i,l,o=1;l=setInterval(function(){i=document.documentElement.scrollTop||document.body.scrollTop,i-=o,window.scrollTo(0,Math.max(i,0)),clearInterval(l)},100)}},handleAddMobile:function(){S["default"].dispatch({type:"inputMultiAdd",id:this.props.data.id})},renderTitle:function(t,a){var n=null,i=this.props,l=i.showQuestionNo,o=i.num,r=i.questionNoType;t.isRequired&&(n=d["default"].createElement("span",{className:"fbc_required",tabIndex:-1,"aria-label":"("+y.lang.ariaRequired+")"},"*"));var s=null;return a&&(s=d["default"].createElement("a",{className:"iconfont fbc_addIcon",tabIndex:1,role:"button",title:y.lang.cMultiInputInsert,onClick:this.handleAddMobile},String.fromCharCode(58979))),d["default"].createElement("p",{className:(0,c["default"])("fbc_title",{"has-addIcon":a}),style:this.formStyle().titleStyle,id:"title"+t.id},l&&o?E[r](o):null,this.renderRichContent(t.title||"",t.title_style||null),n,a?String.fromCharCode(160):"",s)},renderSubtitle:function(t,a){if(!t.subtitle||0===t.subtitle.length||1===t.subtitle.length&&!t.subtitle[0])return null;var n=null;return a&&(n=d["default"].createElement("a",{className:"iconfont fbc_addIcon",title:y.lang.cMultiInputInsert,onClick:this.handleAddMobile},String.fromCharCode(58979))),d["default"].createElement("p",{className:(0,c["default"])("fbc_describe",{"has-addIcon":a}),style:this.formStyle().describeStyle,id:"subtitle"+t.id},this.renderRichContent(t.subtitle||"",t.subtitle_style||null),a?String.fromCharCode(160):"",n)},renderError:function(t){var a=this.props.data;if(!t)return null;var n=r["default"].without(t,"tip","tipHint");return 0===n.length?null:d["default"].createElement("p",{className:"fbc_errorTips",id:"err"+a.id},(0,g.getErrorContent)(n[0],a.id))},formStyle:function(){var t=this.props,a=t.style,n=t.data,i=t.isMobile,l=a.lineHeight/10,o=a.themeColor,s=a.bodyStyle||{},d=a.submitStyle||{},u=["","left","center","right"],c={textAlign:u[n.titleAlign],lineHeight:l+(i?.2:0),fontSize:(s.titleFontSize||16)+(i?1:0),fontWeight:s.titleFontWeight?"bold":"normal",color:s.titleColor},f={textAlign:u[n.subTitleAlign||n.picSubTitleAlign],lineHeight:l,fontSize:s.describeFontSize,fontWeight:s.describeFontWeight?"bold":"normal",color:s.describeColor},p=h["default"].convertToRGBObj.fromHex(s.describeColor||"#666666"),m={lineHeight:l,fontSize:(s.describeFontSize||14)-2,color:"rgba("+[p.r,p.g,p.b,.7]+")"},g={lineHeight:l,fontSize:s.optionFontSize},v={height:Math.floor((l||1.4)*(s.optionFontSize||14)+12),lineHeight:l,fontSize:s.optionFontSize},b={lineHeight:l,fontSize:s.optionFontSize,color:d.fontColor,backgroundColor:d.btnColor},S={lineHeight:l,fontSize:s.optionFontSize,color:s.describeColor},C={};C="ar"===y.currentLang?r["default"].assign({},v,{paddingRight:Math.max(14,s.optionFontSize||14)*(16/14)+6}):r["default"].assign({},v,{paddingLeft:Math.max(14,s.optionFontSize||14)*(16/14)+6});var _=h["default"].convertToRGBObj.fromHex(o||"#2D8FD9"),w={height:Math.floor((l||1.4)*(s.optionFontSize||14)+10)+"px",lineHeight:Math.floor((l||1.4)*(s.optionFontSize||14)+10)+"px",fontSize:Math.max(16,s.optionFontSize||14),color:"rgba("+[_.r,_.g,_.b,.6]+")"},E={lineHeight:l,fontSize:s.optionFontSize,fontWeight:s.optionFontWeight?"bold":"normal",color:s.optionColor},I={fontSize:(s.optionFontSize||14)-2,color:s.describeColor||"#666666"},N={minHeight:Math.floor((l||1.4)*(s.optionFontSize||14)+10),lineHeight:l+(i?.2:0),fontSize:(s.optionFontSize||14)+(i?1:0),fontWeight:s.optionFontWeight?"bold":"normal",color:s.optionColor},k={fontSize:(s.optionFontSize||14)-2,fontWeight:"normal",color:"rgba("+[p.r,p.g,p.b,.7]+")"},T={height:Math.floor((l||1.4)*(s.optionFontSize||14)+12),lineHeight:l,fontSize:s.optionFontSize,fontWeight:s.optionFontWeight?"bold":"normal"},M={height:Math.floor((l||1.4)*(s.optionFontSize||14)+12),lineHeight:l,fontSize:s.optionFontSize,fontWeight:s.optionFontWeight?"bold":"normal"},x={lineHeight:l,fontSize:s.optionFontSize,fontWeight:s.optionFontWeight?"bold":"normal"},D={fontSize:d.submitFontSize,fontWeight:d.fontWeight?"bold":"normal",color:d.fontColor,backgroundColor:d.btnColor},P={fontSize:d.submitFontSize,fontWeight:d.fontWeight?"bold":"normal"};return i&&(v.height+=6,C.height+=6,w.height=Math.floor((l||1.4)*(s.optionFontSize||14)+15)+"px",w.lineHeight=Math.floor((l||1.4)*(s.optionFontSize||14)+15)+"px",T.height+=6),{titleStyle:c,describeStyle:f,tipsStyle:m,textAreaStyle:g,inputStyle:v,inputUnitStyle:S,inputWithIconStyle:C,inputIconStyle:w,inputBtnStyle:b,commodityNameStyle:E,commodityDescribeStyle:I,optionStyle:N,optionTipsStyle:k,selectStyle:T,selectPlaceholderStyle:M,selectArrowStyle:x,buttonStyle:D,buttonDisabledStyle:P}}},t.exports=a["default"]},function(t,a){"use strict";function n(t){t=""+t;var a=["〇","一","二","三","四","五","六","七","八","九"];return t.split("").map(function(t){return a[t]}).join("")}function i(t){for(var a="",n=["ↂ","Mↂ","ↁ","Mↁ","M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],i=[1e4,9e3,5e3,4e3,1e3,900,500,400,100,90,50,40,10,9,5,4,1],l=0;0!=t;++l)for(;t>=i[l];)t-=i[l],a+=n[l];return a}function l(t){var a="",n=Math.floor(Math.round(10*t/27)/10),i=t-26*n;return n>0&&(a=String.fromCharCode(n+64)),i>0&&(a+=String.fromCharCode(i+64)),a}a.__esModule=!0;a.serialNumberGenerator={numberSimple:function(t){return t+". "},numberRightBrackets:function(t){return t+") "},numberAllBrackets:function(t){return"("+t+") "},numberAllMiddleBrackets:function(t){return"["+t+"] "},numberWithBar:function(t){return"-"+t+"- "},cnNumberSimple:function(t){return n(t)+"、"},cnNumberAllBrackets:function(t){return"（"+n(t)+"）"},romanNumberLower:function(t){return i(t).toLowerCase()+". "},romanNumberUpper:function(t){return i(t).toUpperCase()+". "},alphaNumberLower:function(t){return l(t).toLowerCase()+". "},alphaNumberUpper:function(t){return" "+l(t).toUpperCase()+" . "},numberWithQ:function(t){return"Q"+t+".  "}}},,function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function l(t,a){switch(t){case"1":return S.serialNumberGenerator.alphaNumberUpper(a);case"2":return S.serialNumberGenerator.alphaNumberLower(a);case"3":return S.serialNumberGenerator.numberSimple(a);case"4":return S.serialNumberGenerator.romanNumberUpper(a);default:return""}}a.__esModule=!0;var o=n(14),r=i(o),s=n(43),d=i(s),u=n(25),c=(i(u),n(8)),f=i(c),h=n(60),p=i(h),m=n(64),g=n(57),v=i(g),y=n(47),b=i(y),S=n(61),C=n(48),_=n(9),w=n(51),E=i(w);a["default"]=r["default"].createClass({displayName:"Component(Radio&Checkbox)",mixins:[E["default"],p["default"]],componentDidMount:function(){this.unsubscribe=b["default"].addChangeListener(this.handleARIA_stateChange)},componentDidUpdate:function(){if(this.refocus){var t=this.refs["item"+this.refocus];this.refocus=null,t&&(t.blur(),window.setTimeout(function(){t&&t.focus()},10))}},componentWillUnmount:function(){this.unsubscribe&&this.unsubscribe()},handleARIA_stateChange:function(t){this.ariaFocus&&"setSelector"===t.type&&(this.refocus=t.value),this.ariaFocus=!1},currentLayout:function(){var t=this.props.isMobile,a=this.props.data,n=a.optionsLayout;return t&&(n=Math.min(2,n||0),a.isAfterInput&&(n=0),a.isLimitOptions&&a.isShowOptionLimit&&a.optionsQuotaInfo&&(n=0)),n},isFill:function(t,a){function n(t,a){return i&&t?a:t}var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(f["default"].isArray(t)){for(var l=0,o=t.length;l<o;l++)if(f["default"].isObject(t[l])){if(t[l].id===a)return n(!0,t[l])}else if(t[l]===a)return n(!0,t[l]);return!1}return n(t===a,t)},handleSelectOption:function(t){this.refocus=null;var a=this.props.data;b["default"].dispatch({type:"setSelector",id:a.id,value:t,isCheckbox:"checkbox"===a.type||a.isCheckbox})},handleARIA_SelectOption:function(t,e){13!==e.keyCode&&32!==e.keyCode||(this.ariaFocus=!0,this.handleSelectOption(t))},handleARIA_StopPop:function(e){e.stopPropagation()},handleOptionInputMouseDown:function(e){e.stopPropagation()},handleOptionInputClick:function(e){e.stopPropagation()},handleOptionInputChange:function(t,e){var a=this.props.data;b["default"].dispatch({type:"setSelectorValue",id:a.id,optionId:t,value:e.target.value})},handleOptionInputBlur:function(t,e){var a=this.props.data;b["default"].dispatch({type:"blurSelectorInput",id:a.id,optionId:t,value:e.target.value})},renderOptionInput:function(t,a,n,i){var l=this.props.isMobile,o=this.formStyle(),s=o.inputStyle,u=r["default"].createElement(v["default"],{component:"input",className:(0,d["default"])("fbc_input","fbc_optionInput",{"error":n}),type:"text",key:t+"input",tabIndex:1,"aria-invalid":n,"aria-describedby":["opt"+t,"optionInfoAdd"+t].join(" "),"aria-required":i,style:s,defaultValue:a,onMouseDown:this.handleOptionInputMouseDown,onClick:this.handleOptionInputClick,onKeyDown:this.handleARIA_StopPop,onChange:this.handleOptionInputChange.bind(this,t),onBlur:this.handleOptionInputBlur.bind(this,t)}),c=r["default"].createElement("span",{className:"aria-optionInput-content-add","aria-label":_.lang.ariaOptionContentAdd+(i?"("+_.lang.ariaRequired+")":""),id:"optionInfoAdd"+t});return l?r["default"].createElement("div",{className:"fbc_optionInputWrapper",key:t+"inputWrapper"},c,u):[c,u]},renderOptions:function(){var t=this.props,a=t.data,n=t.fill,i=t.valid,o=t.isMobile,s=t.mode,u=this.formStyle(),c=u.optionStyle,h=u.optionTipsStyle,p=a.options||[],g=[],v=!1;i&&i.indexOf("inputRequired")>-1&&(v=!0,g=(0,C.getErrorInfo)("inputRequired",a.id));var y="checkbox"===a.type||a.isCheckbox,b=y?m.CommonCheckbox:m.CommonRadio,S=[],w=null,E=0,I=!1;y&&1===a.isLimitChooseNum&&void 0!==a.chooseNumTo&&""!==a.chooseNumTo&&n&&n.length>=a.chooseNumTo&&(I=!0);for(var N=this.currentLayout(),k=0,T=p.length;k<T;k++)if(w=p[k],1!==s||w.sId){var M=this.isFill(n,w.sId),x=this.isFill(n,w.sId,!0),D=!1,P=null;if(a.isLimitOptions&&a.optionsQuotaInfo&&w.sId in a.optionsQuotaInfo){var O=a.optionsQuotaInfo[w.sId],L=null;if(L=f["default"].isNumber(O[1])?O[1]:null,null!==L){var F=L-O[0];if(F<=0&&1===a.isHideFullOption)continue;F<=0&&(D=!0),a.isShowOptionLimit?P=r["default"].createElement("span",{className:"fbc_optionTips",style:h},_.lang.cQuotaRemainingFunc({remaining:F>0?F:0})):D&&(P=r["default"].createElement("span",{className:"fbc_optionTips",style:f["default"].assign({},h,{color:"#ccc"})},_.lang.cQuotaRemainingFull))}}E++,S.push(r["default"].createElement("li",{key:"item"+k,className:(0,d["default"])("fbc_optionsLi","aria-content",{"has-input":a.isAfterInput&&M,"clearB":E%N===1}),tabIndex:1,role:y?"checkbox":"radio","aria-checked":M,checked:M,"aria-disabled":!M&&(I||D),"aria-label":w.value,ref:"item"+w.sId,id:"opt"+w.sId,onClick:!I&&!D||M?this.handleSelectOption.bind(this,w.sId):null,onKeyDown:!I&&!D||M?this.handleARIA_SelectOption.bind(this,w.sId):null},r["default"].createElement("p",{className:(0,d["default"])("fbc_optionVal",a.type,{checked:M,disabled:!M&&(I||D),isFull:!M&&D}),style:c},r["default"].createElement(b,{className:"fbc_optionSvg",fallbackClassName:"fbc_optionIcon",checked:M,"aria-checked":M,"aria-disabled":!M&&(I||D),disabled:!M&&(I||D),style:{padding:1,paddingTop:Math.ceil(Math.max((c.minHeight-(o?18:20))/2,0))}}),r["default"].createElement("span",{className:"fbc_optionLabel"},(a.isAutoNo?l(a.autoNo,E):"")+w.value,M&&a.isAfterInput&&a.afterInputIsRequired?r["default"].createElement("span",{className:"fbc_required",key:w.sId+"inputRequired","aria-label":_.lang.ariaRequired},"*"):null),P),a.isAfterInput&&M?this.renderOptionInput(w.sId,f["default"].isObject(x)?x.value:"",v&&g.indexOf(w.sId)>-1,a.afterInputIsRequired):null))}else console.error("component ID LOST ->."+w.id+" : "+w.value);if(1===a.isAddOtherOption){E++;var R=this.isFill(n,a.otherId),A=this.isFill(n,a.otherId,!0),W=null,B=a.otherId,U=!1,H=!1;if(a.isLimitOptions&&a.optionsQuotaInfo&&B in a.optionsQuotaInfo){var V=a.optionsQuotaInfo[B],z=V[1]-V[0];z<=0&&1===a.isHideFullOption&&(U=!0),z<=0&&(H=!0),a.isShowOptionLimit?W=r["default"].createElement("span",{className:"fbc_optionTips",style:h},_.lang.cQuotaRemainingFunc({remaining:z>0?z:0})):H&&(W=r["default"].createElement("span",{className:"fbc_optionTips",style:f["default"].assign({},h,{color:"#ccc"})},_.lang.cQuotaRemainingFull))}U||S.push(r["default"].createElement("li",{key:"other",className:(0,d["default"])("fbc_optionsLi","aria-content",{"has-input":R,clearB:E%N===1}),tabIndex:1,role:y?"checkbox":"radio","aria-checked":R,checked:R,"aria-disabled":!R&&(I||H),"aria-label":a.otherOptionTitle||_.lang.cOptionOtherDefault,ref:"item"+B,id:"opt"+B,onClick:!I&&!H||R?this.handleSelectOption.bind(this,B):null,onKeyDown:!I&&!H||R?this.handleARIA_SelectOption.bind(this,B):null},r["default"].createElement("p",{className:(0,d["default"])("fbc_optionVal",a.type,{checked:R,disabled:!R&&(I||H),isFull:!R&&H}),style:c},r["default"].createElement(b,{className:"fbc_optionSvg",fallbackClassName:"fbc_optionIcon",checked:R,"aria-checked":R,"aria-disabled":!R&&(I||H),disabled:!R&&(I||H),style:{padding:1,paddingTop:Math.ceil(Math.max((c.minHeight-(o?20:16))/2,0))}}),r["default"].createElement("span",{className:"fbc_optionLabel"},(a.isAutoNo?l(a.autoNo,E):"")+(a.otherOptionTitle||_.lang.cOptionOtherDefault),R&&a.otherOptionIsRequired?r["default"].createElement("span",{className:"fbc_required",key:"otherRequired",tabIndex:-1,"aria-label":_.lang.ariaRequired},"*"):null),W),R?this.renderOptionInput(B,f["default"].isObject(A)?A.value:"",i&&i.indexOf("otherInputRequired")>-1,a.otherOptionIsRequired):null))}return a.isLimitOptions&&a.optionsQuotaInfo&&0===S.length&&p.length>0&&S.push(r["default"].createElement("li",{className:"fbc_emptyTip"},_.lang.cOptionNull)),S},renderTips:function(){var t=this.props,a=t.data,n=(t.fill,t.valid),i=this.formStyle(),l=i.tipsStyle;if("checkbox"!==a.type&&!a.isCheckbox)return null;if(1!==a.isLimitChooseNum)return null;var o="";return void 0!==a.chooseNumFrom&&""!==a.chooseNumFrom&&void 0!==a.chooseNumTo&&""!==a.chooseNumTo?o+=a.chooseNumFrom==a.chooseNumTo?_.lang.cOptionsLimitEqualFunc({num:a.chooseNumFrom}):_.lang.cOptionsLimitRangeFunc({numForm:a.chooseNumFrom,numTo:a.chooseNumTo}):void 0!==a.chooseNumFrom&&""!==a.chooseNumFrom?o+=_.lang.cOptionsMoreThanNumFunc({numForm:a.chooseNumFrom}):void 0!==a.chooseNumTo&&""!==a.chooseNumTo&&(o+=_.lang.cOptionsLessThanNumFunc({numTo:a.chooseNumTo})),r["default"].createElement("p",{className:(0,d["default"])("fbc_tips",{error:(n||[]).indexOf("tip")>-1}),style:l},o)},render:function(){var t=this.props,a=t.data,n=t.valid,i=t.isMobile,l=t.componentStyle,o=t.style,s=t.itemNum,u="checkbox"===a.type||a.isCheckbox,c=this.currentLayout(),f={},h={};return i||2!==+a.cpLayout||(f={"float":"left",paddingTop:6,width:((o.bodyStyle||{}).cpTitleWidth||20)+"%"},h={"float":"left",width:100-((o.bodyStyle||{}).cpTitleWidth||20)+"%"},s&&s>1&&(f.width="auto",f.maxWidth="20%",h.width="80%")),r["default"].createElement("div",{className:(0,d["default"])("fb_component",a.type),id:a.id,style:l},r["default"].createElement("div",{className:"fb_componentText",style:f},this.renderTitle(a),this.renderSubtitle(a),this.renderTips(),this.renderError(n)),r["default"].createElement("div",{className:"fb_componentBody",style:h},r["default"].createElement("ul",{className:(0,d["default"])("fbc_content","aria-content",c?"layout-"+c:""),role:u?"checkboxgroup":"radiogroup",tabIndex:1,"aria-labelledby":["title"+a.id,"subtitle"+a.id,"tips"+a.id,"err"+a.id].join(" ")},this.renderOptions(),r["default"].createElement("li",{className:"clearB"}))))}}),t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function l(t,a){var n={};for(var i in t)a.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}a.__esModule=!0;var o=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=n(14),s=i(r),d=n(29),u=i(d),c=n(43),f=i(c),h=n(51),p=i(h),m=s["default"].createClass({displayName:"CRadio",mixins:[p["default"]],render:function(){var t=this.props,a=t.disabled,n=t.selected,i=t.checked,r=t.className,d=t.fallbackClassName,c=t.style,h=l(t,["disabled","selected","checked","className","fallbackClassName","style"]),p=n||i;if(u["default"].browserCheck.msie&&parseInt(u["default"].browserCheck.version)<9)return s["default"].createElement("i",{className:(0,f["default"])(d,{"selected":p,"disabled":a})}," ");var m=a?"#F7F7F7":"#FFFFFF",g=a?"#DEDEDE":"currentColor";return p&&(g=a?"#DEDEDE":"currentColor"),s["default"].createElement("svg",o({className:(0,f["default"])(r,{"selected":p})},h,{style:_.assign({},c,{pointerEvents:"visible"}),xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",preserveAspectRatio:"xMinYMin meet"}),s["default"].createElement("circle",{fill:m,stroke:g,strokeWidth:2,cx:15,cy:15,r:14}),p?s["default"].createElement("circle",{fill:g,cx:15,cy:15,r:7}):null)}}),g=s["default"].createClass({displayName:"CCheckbox",mixins:[p["default"]],render:function(){var t=this.props,a=t.disabled,n=t.selected,i=t.checked,r=t.className,d=t.fallbackClassName,c=t.style,h=l(t,["disabled","selected","checked","className","fallbackClassName","style"]),p=n||i;if(u["default"].browserCheck.msie&&parseInt(u["default"].browserCheck.version)<9)return s["default"].createElement("i",{className:(0,f["default"])(d,"checkbox",{"selected":p,"disabled":a})}," ");var m=a?"#F7F7F7":"#FFFFFF",g=a?"#DEDEDE":"currentColor";return p&&(m=a?"#DEDEDE":"currentColor",g=a?"#DEDEDE":"currentColor"),s["default"].createElement("svg",o({className:(0,f["default"])(r,{"selected":p})},h,{style:_.assign({},c,{pointerEvents:"visible"}),xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",preserveAspectRatio:"xMinYMin meet"}),s["default"].createElement("rect",{x:1,y:1,fill:m,stroke:g,strokeWidth:2,width:28,height:28}),p?s["default"].createElement("polygon",{fill:"#FFF",points:"12.08,22.77 25.51,8.58 22.42,5.34 11.97,16.15 7.71,11.67 4.61,14.91"}):null)}});a["default"]={CommonRadio:m,CommonCheckbox:g},t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}a.__esModule=!0;var l=n(14),o=i(l),r=n(43),s=i(r),d=n(8),u=i(d),c=n(25),f=(i(c),n(35)),h=n(60),p=i(h),m=n(47),g=i(m),v=n(66),y=i(v),b=n(57),S=i(b),C=n(9),_=n(51),w=i(_);a["default"]=o["default"].createClass({displayName:"Component(DropDown)",mixins:[w["default"],p["default"]],isFill:function(t,a){function n(t,a){return i&&t?a:t}var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(u["default"].isArray(t)){for(var l=0,o=t.length;l<o;l++)if(u["default"].isObject(t[l])){if(t[l].id===a)return n(!0,t[l])}else if(t[l]===a)return n(!0,t[l]);return!1}return n(t===a,t)},componentDidMount:function(){},handleSelectOption:function(t,e){e.stopPropagation();var a=this.props.data;g["default"].dispatch({type:"setSelector",id:a.id,value:t,isCheckbox:"checkbox"===a.type}),this.refs.dropdown.doClose()},handleOptionInputMouseDown:function(e){e.stopPropagation()},handleOptionInputClick:function(e){e.stopPropagation()},handleDropDownMouseDown:function(t,e){f.isIE8&&(e.preventDefault(),e.stopPropagation(),this.handleSelectOption(t,e))},handleOptionInputChange:function(t,e){var a=this.props.data;g["default"].dispatch({type:"setSelectorValue",id:a.id,optionId:t,value:e.target.value})},handleOptionInputBlur:function(t,e){var a=this.props.data;g["default"].dispatch({type:"blurSelectorInput",id:a.id,optionId:t,value:e.target.value})},renderOptions:function(){var t=this.props,a=t.data,n=t.fill,i=(t.valid,a.options||[]),l=[],r=null;!a.isRequired&&a.defaultTips&&l.push(o["default"].createElement("li",{className:"fbc_selectLi",onMouseDown:this.handleDropDownMouseDown.bind(this,null),onClick:this.handleSelectOption.bind(this,null),key:"optplaceholder"},a.defaultTips));for(var d=0,u=i.length;d<u;d++){r=i[d];var c=this.isFill(n,r.sId),f=null,h=!1;if(a.isLimitOptions&&a.optionsQuotaInfo&&r.sId in a.optionsQuotaInfo){var p=a.optionsQuotaInfo[r.sId],m=p[1]-p[0];if(m<=0&&1===a.isHideFullOption)continue;m<=0&&(h=!0),a.isShowOptionLimit?f=o["default"].createElement("span",{className:"fbc_selectTips"},C.lang.cQuotaRemainingFunc({remaining:m>0?m:0})):h&&(f=o["default"].createElement("span",{className:"fbc_selectTips"},C.lang.cQuotaRemainingFull))}l.push(o["default"].createElement("li",{className:(0,s["default"])("fbc_selectLi",{"fbc_currentSelected":c,"fbc_disabled":h}),key:"opt"+r.sId,onMouseDown:h?null:this.handleDropDownMouseDown.bind(this,r.sId),onClick:h?null:this.handleSelectOption.bind(this,r.sId)},r.value,f))}if(1===a.isAddOtherOption){var g=a.otherId,v=this.isFill(n,g),y=null,b=!1,S=!1;if(a.isLimitOptions&&a.optionsQuotaInfo&&g in a.optionsQuotaInfo){var _=a.optionsQuotaInfo[g],w=_[1]-_[0];w<=0&&1===a.isHideFullOption&&(b=!0),w<=0&&(S=!0),a.isShowOptionLimit?y=o["default"].createElement("span",{className:"fbc_selectTips"},C.lang.cQuotaRemainingFunc({remaining:w})):S&&(y=o["default"].createElement("span",{className:"fbc_selectTips"},C.lang.cQuotaRemainingFull))}b||l.push(o["default"].createElement("li",{className:(0,s["default"])("fbc_selectLi","is-other",{"fbc_currentSelected":v,"fbc_disabled":S}),onMouseDown:S?null:this.handleDropDownMouseDown.bind(this,g),onClick:S?null:this.handleSelectOption.bind(this,g),key:"opt"+g},a.otherOptionTitle||C.lang.cOptionOtherDefault,y))}return l},renderTips:function(){return null},render:function(){var t=this,a=this.props,n=a.data,i=a.fill,l=a.valid,r=a.componentStyle,d=a.style,c=a.itemNum,f=this.formStyle(),h=f.inputStyle,p=f.selectStyle,m=f.selectPlaceholderStyle,g=f.selectArrowStyle,v=null,b=!1;if(i&&i.length>0){var _=this.isFill(i,n.otherId,!0);1===n.isAddOtherOption&&_!==!1?(v=n.otherOptionTitle||C.lang.cOptionOtherDefault,b=!0):u["default"].forEach(n.options,function(a){var n=t.isFill(i,a.sId);if(n)return v=a.value,!1})}var w=this.renderOptions(),E=(n.isLimitOptions&&n.optionsQuotaInfo&&(n.options||[]).length>0&&w.length===(!n.isRequired&&n.defaultTips)?1:0)?o["default"].createElement("div",{className:"fbc_emptyTip"},C.lang.cOptionNull):o["default"].createElement(y["default"],{className:(0,s["default"])("fbc_select",{"hasValue":i&&i.length>0,"error":l&&l.indexOf("required")>-1}),display:v||n.defaultTips,ref:"dropdown",selectArrowStyle:g,style:i&&i.length>0?p:m},w),I=10*(n.cpWidth||8),N={},k={};return 2===+n.cpLayout&&(N={"float":"left",paddingTop:6,width:((d.bodyStyle||{}).cpTitleWidth||20)+"%"},k={"float":"left",width:100-((d.bodyStyle||{}).cpTitleWidth||20)+"%"},c&&c>1&&(N.width="auto",N.maxWidth=105-I+"%",k.width=I-5+"%",I=100)),o["default"].createElement("div",{className:(0,s["default"])("fb_component",n.type),id:n.id,style:r},o["default"].createElement("div",{className:"fb_componentText",style:N},this.renderTitle(n),this.renderSubtitle(n),this.renderTips(),this.renderError(l)),o["default"].createElement("div",{className:"fb_componentBody",style:k},o["default"].createElement("div",{className:(0,s["default"])("fbc_content fbc_widthCp",{"has-input":b}),style:{width:I+"%"}},E,b?[n.otherOptionIsRequired?o["default"].createElement("span",{className:"fbc_required",key:"otherRequired"},"*"):null,o["default"].createElement(S["default"],{component:"input",type:"text",className:(0,s["default"])("fbc_input","fbc_selectInput",{"error":l&&l.indexOf("otherInputRequired")>-1}),key:"otherInput",defaultValue:u["default"].isObject(i[0])?i[0].value:"",style:h,onChange:this.handleOptionInputChange.bind(this,n.otherId),onBlur:this.handleOptionInputBlur.bind(this,n.otherId)})]:null)))}}),t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function l(t,a){var n={};for(var i in t)a.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}a.__esModule=!0;var o=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=n(14),s=i(r),d=n(26),u=i(d),c=n(43),f=i(c),h=n(47),p=i(h),m=n(51),g=i(m);a["default"]=s["default"].createClass({
displayName:"FCDropDown",mixins:[g["default"]],getInitialState:function(){return{isOpen:!1}},componentDidMount:function(){this.unsubscribe=p["default"].addChangeListener(this.handleStateChange)},componentWillUnmount:function(){this.unsubscribe()},handleStateChange:function(t){"$$resize"===t.type&&this.doClose()},isOpen:function(){return this.state.isOpen},doClose:function(){this.refs.focusContent&&u["default"].findDOMNode(this.refs.focusContent).blur()},handleMouseDown:function(e){this.currentIsOpen=this.state.isOpen,e.preventDefault()},handleDropDownMouseDown:function(e){this.currentIsOpen=this.state.isOpen,e.preventDefault(),e.stopPropagation()},handleToggleSelector:function(e){e.preventDefault(),e.stopPropagation();var t=this.refs.focusContent,a=this.currentIsOpen;if(t){var n=u["default"].findDOMNode(t);a?n.blur():n.focus()}},handleExpandDropDown:function(e){e.stopPropagation(),this.props.onExpand&&this.props.onExpand(),this.setState({isOpen:!0})},handleCondenseDropDown:function(e){e.stopPropagation(),this.setState({isOpen:!1})},render:function(){var t=this.props,a=t.display,n=t.imageUri,i=t.children,r=t.selectArrowStyle,d=l(t,["display","imageUri","children","selectArrowStyle"]),u=this.state.isOpen;return s["default"].createElement("div",o({onClick:this.handleToggleSelector},d),s["default"].createElement("p",{className:(0,f["default"])("fbc_selectValue",{"hasImage":n}),tabIndex:1,ref:"focusContent",style:n?{backgroundImage:n}:null,onMouseDown:this.handleDropDownMouseDown,onFocus:this.handleExpandDropDown,onBlur:this.handleCondenseDropDown},a),s["default"].createElement("i",{className:"iconfont fbc_selectArrow",style:r,onMouseDown:this.handleMouseDown},String.fromCharCode(58983)),s["default"].createElement("ul",{className:(0,f["default"])("fbc_selectList",{"fbc_showList":u}),onMouseDown:this.handleDropDownMouseDown},i))}}),t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}a.__esModule=!0;var l=n(14),o=i(l),r=n(43),s=i(r),d=n(8),u=i(d),c=n(25),f=(i(c),n(35),n(60)),h=i(f),p=n(47),m=i(p),g=n(9),v=n(57),y=i(v),b=n(51),S=i(b);a["default"]=o["default"].createClass({displayName:"Component(DropDownMobile)",mixins:[S["default"],h["default"]],isFill:function(t,a){function n(t,a){return i&&t?a:t}var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(u["default"].isArray(t)){for(var l=0,o=t.length;l<o;l++)if(u["default"].isObject(t[l])){if(t[l].id===a)return n(!0,t[l])}else if(t[l]===a)return n(!0,t[l]);return!1}return n(t===a,t)},handleSelectOption:function(e){var t=this.props.data;return""+e.target.value=="null"?void m["default"].dispatch({type:"setSelector",id:t.id,value:null,isCheckbox:!1}):(m["default"].dispatch({type:"setSelector",id:t.id,value:+e.target.value,isCheckbox:!1}),void(this.__wxBlurJumpBackFixer&&this.__wxBlurJumpBackFixer()))},handleSelectBlur:function(e){this.__wxBlurJumpBackFixer&&this.__wxBlurJumpBackFixer()},handleOptionInputChange:function(t,e){var a=this.props.data;m["default"].dispatch({type:"setSelectorValue",id:a.id,optionId:t,value:e.target.value})},handleOptionInputBlur:function(t,e){var a=this.props.data;m["default"].dispatch({type:"blurSelectorInput",id:a.id,optionId:t,value:e.target.value})},renderTips:function(){return null},renderOptions:function(){var t=this.props,a=t.data,n=(t.fill,t.valid,a.options||[]),i=[],l=null;a.isRequired||!a.defaultTips?i.push(o["default"].createElement("option",{key:"defaultDisabled",value:null,disabled:!0,selected:!0,hidden:!0,style:{display:"none"}},a.defaultTips||"")):i.push(o["default"].createElement("option",{key:"defaultTips",className:"fbc_selectLi",value:null},a.defaultTips));for(var r=0,s=n.length;r<s;r++){l=n[r];var d=null,u=!1;if(a.isLimitOptions&&a.optionsQuotaInfo&&l.sId in a.optionsQuotaInfo){var c=a.optionsQuotaInfo[l.sId],f=c[1]-c[0];if(f<=0&&1===a.isHideFullOption)continue;f<=0&&(u=!0),a.isShowOptionLimit?d="    ("+g.lang.cQuotaRemainingFunc({remaining:f})+")":u&&(d="    ("+g.lang.cQuotaRemainingFull+")")}i.push(o["default"].createElement("option",{key:"opt"+(l.sId||r),className:"fbc_selectLi",value:l.sId,disabled:u},l.value+(d||"")))}if(1===a.isAddOtherOption){var h=a.otherId,p=null,m=!1,v=!1;if(a.isLimitOptions&&a.optionsQuotaInfo&&h in a.optionsQuotaInfo){var y=a.optionsQuotaInfo[h],b=y[1]-y[0];b<=0&&1===a.isHideFullOption&&(m=!0),b<=0&&(v=!0),a.isShowOptionLimit?p="    ("+g.lang.cQuotaRemainingFunc({remaining:b})+")":v&&(p="    ("+g.lang.cQuotaRemainingFull+")")}m||i.push(o["default"].createElement("option",{key:"opt"+(h||"other"),className:"fbc_selectLi",value:h,disabled:v},(a.otherOptionTitle||g.lang.cOptionOtherDefault)+(p||"")))}return i},render:function(){var t=this,a=this.props,n=a.data,i=a.fill,l=a.valid,r=a.componentStyle,d=this.formStyle(),c=d.inputStyle,f=d.selectStyle,h=(d.selectPlaceholderStyle,null),p=!1,m=this.renderOptions();if(i&&i.length>0){var v=this.isFill(i,n.otherId,!0);1===n.isAddOtherOption&&v!==!1?(h=n.otherId,p=!0):u["default"].forEach(n.options,function(a){var n=t.isFill(i,a.sId);if(n)return h=a.sId,!1})}var b=(n.isLimitOptions&&n.optionsQuotaInfo&&(n.options||[]).length>0&&m.length===(!n.isRequired&&n.defaultTips)?1:0)?o["default"].createElement("div",{className:"fbc_emptyTip"},g.lang.cOptionNull):o["default"].createElement("div",{className:(0,s["default"])("fbc_select",{"hasValue":i&&i.length>0})},o["default"].createElement("i",{className:"iconfont fbc_selectArrow",style:{lineHeight:c.height+"px"}},String.fromCharCode(58983)),o["default"].createElement("select",{className:(0,s["default"])("fbc_innerSelect",{"error":l&&l.indexOf("required")>-1}),style:f,value:h,onBlur:this.handleSelectBlur,onChange:this.handleSelectOption},m));return o["default"].createElement("div",{className:(0,s["default"])("fb_component",n.type),id:n.id,style:r},this.renderTitle(n),this.renderSubtitle(n),this.renderTips(),this.renderError(l),o["default"].createElement("div",{className:(0,s["default"])("fbc_content",{"has-input":p})},b,p?[o["default"].createElement(y["default"],{component:"input",type:"text",className:(0,s["default"])("fbc_input","fbc_selectInput",{"error":l&&l.indexOf("otherInputRequired")>-1}),key:"otherInput",defaultValue:u["default"].isObject(i[0])?i[0].value:"",style:c,onChange:this.handleOptionInputChange.bind(this,n.otherId),onBlur:this.handleOptionInputBlur.bind(this,n.otherId)})]:null))}}),t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}a.__esModule=!0;var l=n(14),o=i(l),r=n(43),s=i(r),d=n(8),u=i(d),c=n(32),f=i(c),h=n(69),p=i(h),m=n(60),g=i(m),v=n(35),y=i(v),b=n(47),S=i(b),C=n(9),_=n(66),w=i(_),E=n(57),I=i(E),N=n(51),k=i(N);a["default"]=o["default"].createClass({displayName:"Component(MultiLevel)",mixins:[k["default"],g["default"]],getInitialState:function(){function t(a){var n=o.getItem(a);n&&(l=[n].concat(l),n.pId&&t(n.pId))}function a(t){var n=o.getChildren(t);u["default"].forEach(n,function(n){if(n.defaultValue){var i=l.length,r=i+o.getChildDepth(t);return l.push(n),r>i&&a(n.id),!1}})}this.depthInfo={};var n=this.props.data,i=this.props.fill,l=[];this.multiLevelOptions=new p["default"](n.options);var o=this.multiLevelOptions;if(i&&i[0]){var r=i[0];if(r=u["default"].isObject(i[0])&&i[0].id?i[0].id:i[0],i[0].current)l=i[0].current;else{var s=u["default"].find(n.options,{sId:r});s&&t(s.id)}}else a(null);return{currentSelected:l}},handleMouseDownOption:function(t,a,e){y["default"].isIE8&&(e.preventDefault(),e.stopPropagation(),this.handleSelectOption(t,a,e))},handleSelectOption:function(t,a){var n=this.state.currentSelected.slice(0,t),i=this.props.data;a?n[t]=a:a=n[t-1]||{},!a||u["default"].isEmpty(a)||1!==i.isAllowPartEmpty&&n.length+this.multiLevelOptions.getChildDepth(a.id)!==n.length?S["default"].dispatch({type:"setMultiLevelSelector",id:i.id,value:null,current:n,isCheckbox:!1}):S["default"].dispatch({type:"setMultiLevelSelector",id:i.id,value:n[n.length-1].sId,current:n,isCheckbox:!1}),this.setState({currentSelected:n})},handleChangeOptionContent:function(t,e){var a=this.props.data;S["default"].dispatch({type:"setMultiLevelSelectorValue",id:a.id,optionId:t,current:this.state.currentSelected,value:e.target.value})},_getSetPlaceholderInfo:function(t){var a=this.props.data,n=a.defaultTips||{},i={};t&&(i=this.multiLevelOptions.getItem(t));var l=2===i.type?C.lang.cFillingPlaceholder:C.lang.cSelectorPlaceholder;return null===t?n[-1]||l:n[t]||l},renderDropDownBy:function(t,a,n){var i=this,l=this.props,r=l.data,d=l.fill,c=l.valid,h=this.formStyle(),p=h.inputStyle,m=h.selectStyle,g=h.selectArrowStyle,v=[],b=this.multiLevelOptions.getChildren(a),S=this._getSetPlaceholderInfo(a),C=0,_="";if(!n&&0===b.length){var E=this.multiLevelOptions.getItem(a);return E&&2===E.type?o["default"].createElement(I["default"],{component:"input",className:(0,s["default"])("fbc_mlItem","fbc_input","fbc_selectInput","fbc_other",{"error":c&&c.indexOf("required")>-1&&(!d||!!d[0]||!d[0].value)}),value:d&&d[0]?d[0].value:"",placeholder:S,type:"text",key:"input"+E.sId,style:p,onChange:this.handleChangeOptionContent.bind(this,E.sId)}):null}if(1===b.length&&3===b[0].type)return o["default"].createElement(I["default"],{component:"input",className:(0,s["default"])("fbc_mlItem","fbc_input","fbc_selectInput",{"error":c&&c.indexOf("required")>-1&&(!d||!!d[0]||!d[0].value)}),value:d&&d[0]?d[0].value:"",type:"text",key:"input"+b[0].sId,style:p,placeholder:b[0].content,onChange:this.handleChangeOptionContent.bind(this,b[0].sId)});v.push(o["default"].createElement("li",{className:(0,s["default"])("fbc_selectLi",{"fbc_currentSelected":null===n}),onMouseDown:this.handleMouseDownOption.bind(this,t,null),onClick:this.handleSelectOption.bind(this,t,null),key:"optPlaceholder"},S));var N=[];u["default"].forEach(b,function(a){r.widthInfo[a.id]>C&&(C=r.widthInfo[a.id]),a.id===n&&(_=a.content);var l=v;2===a.type&&(l=N),l.push(o["default"].createElement("li",{className:(0,s["default"])("fbc_selectLi",{"fbc_currentSelected":a.id===n}),onMouseDown:i.handleMouseDownOption.bind(i,t,a),onClick:i.handleSelectOption.bind(i,t,a),key:"opt"+a.id},a.content))}),v=v.concat(N);var k=Math.ceil(Math.max(79,C+37,f["default"].getWidth(S,((m||{}).optionFontSize||14)+"px/1 "+y["default"]._FONT)+37));return o["default"].createElement(w["default"],{className:(0,s["default"])("fbc_select fbc_mlItem",{"hasValue":_,"error":c&&c.indexOf("required")>-1&&!_}),key:"dp"+a,selectArrowStyle:g,style:u["default"].assign({},m,{width:k}),display:_||this._getSetPlaceholderInfo(a),ref:"dropdown"+a},v)},render:function(){var t=this.props,a=t.data,n=(t.fill,t.valid),i=t.componentStyle,l=t.style,r=t.itemNum,d=this.state.currentSelected,c=this.formStyle(),f=c.selectStyle,h=[];if(u["default"].isEmpty(d))h.push(this.renderDropDownBy(h.length,null,null)),h.push(o["default"].createElement("div",{className:(0,s["default"])("fbc_select","fbc_mlItem",{"error":n&&n.indexOf("required")>-1}),style:u["default"].assign({},f,{width:79}),key:"fakeSelect"},o["default"].createElement("p",{className:"fbc_selectValue"},C.lang.cSelectorPlaceholder),o["default"].createElement("i",{className:"iconfont fbc_selectArrow",style:{lineHeight:f.lineHeight}},String.fromCharCode(58983))));else for(var p=0,m=d.length;p<=m;p++){var g=d[p];if(0===p)h.push(this.renderDropDownBy(p,null,g?g.id:void 0));else{var v=d[p-1];h.push(this.renderDropDownBy(p,v?v.id:void 0,g?g.id:void 0))}}var y={},b={};return 2===+a.cpLayout&&(y={"float":"left",paddingTop:6,width:((l.bodyStyle||{}).cpTitleWidth||20)+"%"},b={"float":"left",width:100-((l.bodyStyle||{}).cpTitleWidth||20)+"%"},r&&r>1&&(y.width="auto",y.maxWidth="20%",b.width="80%")),o["default"].createElement("div",{className:(0,s["default"])("fb_component",a.type),id:a.id,style:i},o["default"].createElement("div",{className:"fb_componentText",style:y},this.renderTitle(a),this.renderSubtitle(a),this.renderError(n)),o["default"].createElement("div",{className:"fb_componentBody",style:b},o["default"].createElement("div",{className:"fbc_mlContent"},h,o["default"].createElement("div",{className:"clearB"}))))}}),t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function l(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}a.__esModule=!0;var o=n(8),r=i(o),s=function(){function t(a){var n=this;return l(this,t),this.MAX_DEPTH=4,this.options=a,this.pCMapping={},this.c_depth={},this.depth={},this.totalDepth=null,r["default"].forEach(a,function(t){n.pCMapping[t.pId]||(n.pCMapping[t.pId]=[]),n.pCMapping[t.pId].push(t)}),this}return t.prototype.getItem=function(t){return r["default"].isPlainObject(t)||(t={id:t}),r["default"].find(this.options,t)},t.prototype.getChildren=function(t){return this.pCMapping[t]||[]},t.prototype.getDepth=function(){if(this.totalDepth)return this.totalDepth;var t=0,a=this.options.length,n=0;for(t;t<a;t++){var i=this.getCurrentDepth(this.options[t].id);if(i>n&&(n=i),n===this.MAX_DEPTH)break}return this.totalDepth=n,n},t.prototype.getChildDepth=function(t){var a=this;if(void 0!==this.c_depth[t])return this.c_depth[t];for(var n=this.getChildren(t),i=0,l=n,o=function(){var t=[];r["default"].forEach(l,function(n){var i=a.getChildren(n.id);i.length>0&&(t=t.concat(i))}),l=t,i++};l.length>0;)o();return this.c_depth[t]=i,i},t.prototype.getCurrentDepth=function(t){if(void 0!==this.depth[t])return this.depth[t];for(var a=r["default"].find(this.options,{id:t}),n=1;a&&a.pId;)n++,a=r["default"].find(this.options,{id:a.pId});return this.depth[t]=n,n},t}();a["default"]=s,t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}a.__esModule=!0;var l=n(14),o=i(l),r=n(43),s=i(r),d=n(8),u=i(d),c=n(60),f=i(c),h=n(47),p=i(h),m=n(69),g=i(m),v=n(9),y=n(57),b=i(y),S=n(37),C=i(S),_=n(51),w=i(_);a["default"]=o["default"].createClass({displayName:"Component(MultiLevelMobile)",mixins:[w["default"],f["default"]],getInitialState:function(){function t(a){var n=o.getItem(a);n&&(l=[n].concat(l),n.pId&&t(n.pId))}function a(t){var n=o.getChildren(t);u["default"].forEach(n,function(n){if(n.defaultValue){var i=l.length,r=i+o.getChildDepth(t);return l.push(n),r>i&&a(n.id),!1}})}this.depthInfo={};var n=this.props.data,i=this.props.fill,l=[];this.multiLevelOptions=new g["default"](n.options);var o=this.multiLevelOptions;if(i&&i[0]){var r=i[0];if(r=u["default"].isObject(i[0])&&i[0].id?i[0].id:i[0],i[0].current)l=i[0].current;else{var s=u["default"].find(n.options,{sId:r});s&&t(s.id)}}else a(null);return{currentSelected:l}},handleSelectOption:function(t,e){var a=this,n=this.state.currentSelected.slice(0,t),i=this.props.data,l=+e.target.value,o=null;0!==l?(o=this.multiLevelOptions.getItem(l),n[t]=o):(o=n[t-1],l=o?o.id:null),1!==i.isAllowPartEmpty&&n.length+this.multiLevelOptions.getChildDepth(l)!==n.length||!o||u["default"].isEmpty(o)?p["default"].dispatch({type:"setMultiLevelSelector",id:i.id,value:null,current:n,isCheckbox:!1}):p["default"].dispatch({type:"setMultiLevelSelector",id:i.id,value:n[n.length-1].sId,current:n,isCheckbox:!1}),this.setState({currentSelected:n},function(){a.__wxBlurJumpBackFixer()})},handleSelectBlur:function(e){this.__wxBlurJumpBackFixer()},handleChangeOptionContent:function(t,e){var a=this.props.data;p["default"].dispatch({type:"setMultiLevelSelectorValue",id:a.id,optionId:t,current:this.state.currentSelected,value:e.target.value})},_getSetPlaceholderInfo:function(t){var a=this.props.data,n=a.defaultTips||{},i={};t&&(i=this.multiLevelOptions.getItem(t));var l=2===i.type?v.lang.cFillingPlaceholder:v.lang.cSelectorPlaceholder;return null===t?n[-1]||l:n[t]||l},renderDropDownBy:function(t,a,n){var i=this.props,l=(i.data,i.fill),r=(i.valid,this.formStyle()),d=r.inputStyle,c=r.selectStyle,f=[],h=this.multiLevelOptions.getChildren(a),p="";if(!n&&0===h.length){var m=this.multiLevelOptions.getItem(a);return m&&2===m.type?o["default"].createElement(b["default"],{component:"input",className:"fbc_mlItem fbc_selectInput fbc_input fbc_other",value:l&&l[0]?l[0].value:"",style:d,type:"text",key:"input"+m.sId,placeholder:this._getSetPlaceholderInfo(a),onChange:this.handleChangeOptionContent.bind(this,m.sId)}):null}if(1===h.length&&3===h[0].type)return o["default"].createElement(b["default"],{component:"input",className:"fbc_mlItem fbc_selectInput fbc_input",value:l&&l[0]?l[0].value:"",style:d,type:"text",key:"input"+h[0].sId,placeholder:h[0].content,onChange:this.handleChangeOptionContent.bind(this,h[0].sId)});f.push(o["default"].createElement("option",{key:"optplaceholder",value:0},this._getSetPlaceholderInfo(a)));var g=[];return u["default"].forEach(h,function(t){t.id===n&&(p=t.content);var a=f;2===t.type&&(a=g),a.push(o["default"].createElement("option",{key:"opt"+t.id,value:t.id},t.content))}),f=f.concat(g),o["default"].createElement("div",{className:(0,s["default"])("fbc_select fbc_mlItem",{"hasValue":p}),key:"dp"+a,style:u["default"].assign({},c,{width:"100%"})},o["default"].createElement("i",{className:"iconfont fbc_selectArrow",style:{lineHeight:d.height+"px"}},String.fromCharCode(58983)),o["default"].createElement("select",{className:"fbc_innerSelect",value:n,ref:"dropdown"+a,style:c,onChange:this.handleSelectOption.bind(this,t),onBlur:this.handleSelectBlur},f))},render:function(){var t=this.props,a=t.data,n=(t.fill,t.valid),i=t.componentStyle,l=this.state.currentSelected,r=this.formStyle(),d=r.inputStyle,c=r.selectStyle,f=[];if(C["default"].log(l),u["default"].isEmpty(l))f.push(this.renderDropDownBy(f.length,null,null)),f.push(o["default"].createElement("div",{className:(0,s["default"])("fbc_select fbc_mlItem"),key:"fakeSelect",style:u["default"].assign({},c,{width:"100%"})},o["default"].createElement("i",{className:"iconfont fbc_selectArrow",style:{lineHeight:d.height+"px"}},String.fromCharCode(58983)),o["default"].createElement("p",{className:"fbc_selectValue",style:{lineHeight:2.6}},v.lang.cSelectorPlaceholder),o["default"].createElement("span",{className:"fbc_selectArrow"})));else for(var h=0,p=l.length;h<=p;h++){var m=l[h];if(0===h)f.push(this.renderDropDownBy(h,null,m?m.id:void 0));else{var g=l[h-1];f.push(this.renderDropDownBy(h,g?g.id:void 0,m?m.id:void 0))}}return o["default"].createElement("div",{className:(0,s["default"])("fb_component",a.type),id:a.id,style:i},this.renderTitle(a),this.renderSubtitle(a),this.renderError(n),o["default"].createElement("div",{className:"fbc_mlContent fbc_content"},f,o["default"].createElement("div",{className:"clearB"})))}}),t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}a.__esModule=!0;var l=n(14),o=i(l),r=n(43),s=i(r),d=n(8),u=i(d),c=n(60),f=i(c),h=n(32),p=n(47),m=i(p),g=n(9),v=n(57),y=i(v),b=n(35),S=n(51),C=i(S);a["default"]=o["default"].createClass({displayName:"Component(Number)",mixins:[C["default"],f["default"]],handleChange:function(e){m["default"].dispatch({type:"setValue",id:this.props.data.id,value:e.target.value})},handleBlur:function(e){m["default"].dispatch({type:"numberBlur",id:this.props.data.id,value:e.target.value})},renderTips:function(){var t=this.props,a=t.data,n=(t.fill,t.valid),i=this.formStyle(),l=i.tipsStyle,r=null,d=!0,c=(n||[]).indexOf("tip")>-1;return a.isNumRange&&(u["default"].isNumber(a.numRangeFrom)&&u["default"].isNumber(a.numRangeTo)?r=g.lang.cNumberValueRangeHintFunc({numRangeFrom:a.numRangeFrom,numRangeTo:a.numRangeTo}):u["default"].isNumber(a.numRangeFrom)?r=g.lang.cNumberValueMoreThanValueFunc({numRangeFrom:a.numRangeFrom}):u["default"].isNumber(a.numRangeTo)&&(r=g.lang.cNumberValueLessThanValueFunc({numRangeTo:a.numRangeTo}))),o["default"].createElement("p",{className:(0,s["default"])("fbc_tips",{error:c&&d}),style:l},r)},render:function(){var t=this.props,a=t.data,n=t.fill,i=t.valid,l=t.componentStyle,r=t.isMobile,d=t.fw,c=t.itemNum,f=t.style,p=this.formStyle(),m=p.inputStyle,v=p.inputUnitStyle,S=10*(r?10:a.cpWidth||8),C=null;a.unit&&(C=Math.min((0,h.getWidth)(a.unit,v.fontSize+"px/1 "+b._FONT),((d/(c||1)-60)*(S/10)-(r?10:25))/50));var _={},w={};r||2!==+a.cpLayout||(_={"float":"left",paddingTop:6,width:((f.bodyStyle||{}).cpTitleWidth||20)+"%"},w={"float":"left",width:100-((f.bodyStyle||{}).cpTitleWidth||20)+"%"},c&&c>1&&(_.width="auto",_.maxWidth=105-S+"%",w.width=S-5+"%",S=100));var E=null;return E="ar"===g.currentLang?{paddingLeft:C?C+8:null}:{paddingRight:C?C+8:null},o["default"].createElement("div",{className:(0,s["default"])("fb_component",a.type),id:a.id,style:l},o["default"].createElement("div",{className:"fb_componentText",style:_},this.renderTitle(a),this.renderSubtitle(a),this.renderTips(),this.renderError(i)),o["default"].createElement("div",{className:"fb_componentBody",style:w},o["default"].createElement("div",{className:(0,s["default"])("fbc_content","fbc_widthCp"),style:{width:S+"%"}},o["default"].createElement(y["default"],{component:"input",className:(0,s["default"])("fbc_input",{error:i&&i.length>0}),ref:"input",type:"text",spellCheck:!1,style:u["default"].assign({},m,E),onChange:this.handleChange,onBlur:this.handleBlur,placeholder:a.placeholder||"",value:""+(u["default"].isNumber(n)||n?n:"")}),a.unit?o["default"].createElement("span",{className:(0,s["default"])("fbc_unit"),style:v},a.unit):null)))}}),t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function l(t){if(t){var a=/^(\d{4}?)-(\d{1,2}?)-/g,n=/^-(\d{1,2}?)-(\d{1,2}?)/g,i=/^--(\d{1,2}?)/g,l=/^-(\d{1,2}?)-/g,o=/^(\d{4}?)--/g;if(t.match(a))return t.replace(/-$/g,"");if(t.match(n))return t.replace(/^-/g,"");if(t.match(o))return t.replace("--","");if(t.match(l))return y.lang.gMonth[+t.replace(/-/g,"")-1];if(t.match(i))return t.replace("--","")}return t}function o(t,a){var n=void 0,i=void 0,l=void 0;if(a)+t[0]>0&&+t[0]<=12&&(i=t[0],l=t[1],n=t[2]);else if(3===t.length)n=t[0],i=t[1],l=t[2];else if(1===t.length)y.lang.gMonth.indexOf(t[0])>-1?i=y.lang.gMonth.indexOf(t[0])+1:(""+t[0]).length>2?n=t[0]:l=t[0];else if(4===t[0].length)n=t[0],i=t[1];else if(+t[0]>12){var o=[(t[0]<30?"20":"19")+t[0],t[1]];n=o[0],i=o[1]}else y.lang.gMonth.indexOf(t[0])>-1?(i=y.lang.gMonth.indexOf(t[0])+1,l=t[1]):(i=t[0],l=t[1]);return[n,i,l]}function r(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments[2],i=null;if(t){var l=!1,r=!1;if(t.match(/[:]/))if(r=!0,t.match(/[\s]/)){var s=t.split(/[\s]/),u=s[0],c=s[1],f=u.split(/[\-\_\/]/g);if(f.length<3){l=!0;var h=o(f,u.match(/[\/]/)),p=(h[0]||"")+"-"+(h[1]||"")+"-"+(h[2]||""),m=c.split(":");m=m.length<3?m.concat("00","00").slice(0,a).concat("00","00").slice(0,3).join(":"):m.join(":"),"dateTime_time"===n?i=m:"dateTime_date"===n?i=p:"dateTime_both"===n&&(i=p+" "+m)}}else"dateTime_time"===n?i=d["default"].trim(t):"dateTime_both"===n&&(i=(0,_["default"])().getFullDate()+" "+d["default"].trim(t));else{var g=t.split(/[\-\_\/]/g);if(g.length<3){l=!0;var v=o(g,t.match(/[\/]/));"dateTime_date"===n?i=(v[0]||"")+"-"+(v[1]||"")+"-"+(v[2]||""):"dateTime_both"===n&&(i=(v[0]||"")+"-"+(v[1]||"")+"-"+(v[2]||"")+" "+(0,_["default"])().getTime())}}if(!l){var y=(0,_["default"])(t);if(r){var b=y.getTime().split(":").slice(0,a);"dateTime_time"===n?i=b.concat("00","00").slice(0,3).join(":"):"dateTime_date"===n?i=y.getFullDate():"dateTime_both"===n&&(i=y.getFullDate()+" "+b.concat("00","00").slice(0,3).join(":"))}else"dateTime_date"===n?i=y.getFullDate():"dateTime_both"===n&&(i=y.getFullDate()+" "+(0,_["default"])().getTime())}}return i}a.__esModule=!0;var s=n(8),d=i(s),u=n(25),c=i(u),f=n(43),h=i(f),p=n(14),m=i(p),g=n(26),v=i(g),y=n(9),b=n(60),S=i(b),C=n(39),_=i(C),w=n(47),E=i(w),I=n(73),N=i(I),k=n(57),T=i(k),M=n(51),x=i(M),D=(0,N["default"])(y.lang),P={"dateTime_date":1,"dateTime_time":4,"dateTime_both":5},O=0;a["default"]=m["default"].createClass({displayName:"Component(DateTime)",mixins:[x["default"],S["default"]],getInitialState:function(){return O++,this.num=O,{isOpen:!1,inputValue:l(this.props.fill)}},componentWillUpdate:function(t,a){l(t.fill)===this.state.inputValue||this.inEdit||this.setState({inputValue:l(t.fill)})},componentDidMount:function(){this.$dom=(0,c["default"])(v["default"].findDOMNode(this));var t=".calendar"+this.num;this.$dom.on("click"+t,this.handleKeepOpenCalendar),(0,c["default"])(document).on("click"+t,this.handleCloseCalendar)},componentWillUnmount:function(){this.$dom.off(".calendar"+this.num),(0,c["default"])(document).off(".calendar"+this.num)},handleCalendarSelect:function(e,t){4!==this.caType&&5!==this.caType&&(this._saveCurrentData(t),this.setState({isOpen:!1}))},handleStopPop:function(e){e.stopPropagation(),e.preventDefault()},handleCalendarConfirm:function(){var t=this.refs.calendar;this._saveCurrentData(t.getFormatDate(t.getCurrentSelected())),this.calendarMouseDown=!1,this.setState({isOpen:!1})},handleCalendarCancel:function(){this.calendarMouseDown=!1,this.setState({isOpen:!1})},handleInputClick:function(e){this.calendarMouseDown=!1,this.setState({isOpen:!0})},handleInputFocus:function(e){this.calendarMouseDown=!1,this.setState({isOpen:!0})},handleInputChange:function(e){this.inEdit=!0,this.setState({inputValue:e.target.value})},handleInputBlur:function(e){this.inEdit=!1;var t=this.props,a=t.isBirthDate,n=t.data,i=n.isCustomField?n.cfDateTimeType:n.type;this._saveCurrentData(r(e.target.value,n.timePrecision,a?"dateTime_date":i)),this.calendarMouseDown||this.setState({isOpen:!1})},handleMouseDown:function(){this.calendarMouseDown=!0},handleKeepOpenCalendar:function(e){this.inCalendar=!0},handleCloseCalendar:function(e){return this.inCalendar?void(this.inCalendar=!1):(this.calendarMouseDown=!1,void this.setState({isOpen:!1}))},_saveCurrentData:function(t){E["default"].dispatch({type:"setValue",id:this.props.data.id,value:t})},render:function(){var t=this.props,a=t.data,n=t.fill,i=t.valid,l=t.componentStyle,o=t.isBirthDate,r=t.isMobile,s=t.style,u=t.itemNum,c=a.id,f=a.dateFormat,p=a.formatType,g=a.timePrecision,v=a.isLimitDayInterval,b=a.dayIntervalFrom,S=a.dayIntervalTo,C=a.isLimitDays,_=a.limitDays,w=this.formStyle(),E=(w.inputStyle,w.inputIconStyle),I=w.inputWithIconStyle,N=a.isCustomField?a.cfDateTimeType:a.type,k=P[N]||1;o&&(k=1),this.caType=k;var M=null;if(C&&!d["default"].isEmpty(_)){M=[];for(var x=0;x<7;x++)_.indexOf(x+1)===-1&&M.push("W"+x)}var O={className:(0,h["default"])("fbc_dtDropWrapper",{fbc_dtShowWrapper:this.state.isOpen}),ref:"calendar",type:k,formatType:p,timeFormatType:[3,2,1][g-1]||1,formatList:d["default"].map(f||(o?[1,3]:[1]),function(t){return t-1}),range:v?[b||-1,S||-1]:!!o&&[-1,!0],disabledDate:M,defaultValue:n,triggerChange:1===k,onChange:this.handleCalendarSelect,onMouseDown:this.handleMouseDown};4!==k&&5!==k||(O.extOpeartion=m["default"].createElement("div",{className:"calendar_operate"},m["default"].createElement("a",{className:"fbc_button calendar_confirm",onMouseDown:this.handleStopPop,onClick:this.handleCalendarConfirm},y.lang.gBtnConfirm),m["default"].createElement("a",{className:"fbc_btnPrimitive calendar_cancel",onMouseDown:this.handleStopPop,onClick:this.handleCalendarCancel},y.lang.gBtnCancel)));var L=10*(r?10:a.cpWidth||8),F={},R={};return 2===+a.cpLayout&&(F={"float":"left",paddingTop:6,width:((s.bodyStyle||{}).cpTitleWidth||20)+"%"},R={"float":"left",width:100-((s.bodyStyle||{}).cpTitleWidth||20)+"%"},u&&u>1&&(F.width="auto",F.maxWidth=105-L+"%",R.width=L-5+"%",L=100)),m["default"].createElement("div",{className:(0,h["default"])("fb_component",N),id:c,style:l,ref:"cdDateTime"},m["default"].createElement("div",{className:"fb_componentText",style:F},this.renderTitle(a),this.renderSubtitle(a),this.renderError(i)),m["default"].createElement("div",{className:"fb_componentBody",style:R},m["default"].createElement("div",{className:"fbc_content fbc_widthCp",style:{width:L+"%"}},m["default"].createElement("div",{className:"fbc_datetime",ref:"drop",name:"input_calendar_dropdown"},m["default"].createElement(T["default"],{component:"input",ref:"input",type:"text",spellCheck:!1,className:(0,h["default"])("fbc_input",{error:i&&i.length>0}),icon:"birthDate"===N?String.fromCharCode(59081):"dateTime_time"===N?String.fromCharCode(59160):String.fromCharCode(59141),themeColor:s.themeColor,style:I,iconStyle:E,value:this.state.inputValue,onClick:this.handleInputClick,onFocus:this.handleInputFocus,onChange:this.handleInputChange,onBlur:this.handleInputBlur}),m["default"].createElement(D,O)))))}}),t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function l(t){var a=t.split(" "),n=a[0],i=void 0===n?"":n,l=a[1],o=void 0===l?"":l,r=/^(\d{4}?)-(\d{1,2}?)-$/g,s=/^-(\d{1,2}?)-(\d{1,2}?)$/g,d=/^--(\d{1,2}?)$/g,u=/^-(\d{1,2}?)-$/g,c=/^(\d{4}?)--$/g;return i.match(r)?{type:1,data:h["default"].trim(i+"1 "+o)}:i.match(s)?{type:2,data:h["default"].trim("2000"+i+" "+o)}:i.match(c)?{type:3,data:h["default"].trim(i.replace("--","")+"-1-1 "+o)}:i.match(u)?{type:4,data:h["default"].trim("2000"+i+"1 "+o)}:i.match(d)?{type:5,data:h["default"].trim("2000-1-"+i.replace("--","")+" "+o)}:{type:0,data:h["default"].trim(i+" "+o)}}function o(t,a){var n={start:null,end:null};return!a||!h["default"].isArray(a)||h["default"].isArray(a)&&2!==a.length?n:(4===t?(a[0]!==-1&&(a[0]===!0?n.start=[0,0,0]:n.start=h["default"].map(a[0].split(":"),function(t){return+t}).concat([0,0,0]).slice(0,3)),a[1]!==-1&&(a[1]===!0?n.end=[23,59,59]:n.end=h["default"].map(a[1].split(":"),function(t){return+t}).concat([0,0,0]).slice(0,3))):(a[0]!==-1&&(a[0]===!0?n.start=(0,b["default"])().startOf("date"):n.start=(0,b["default"])(a[0])),a[1]!==-1&&(a[1]===!0?n.end=(0,b["default"])().endOf("date"):n.end=(0,b["default"])(a[1]))),n)}function r(t,a,n,i,l){var o=!0,r=t.clone();if(i||l)if(4===a){var s=void 0,d=void 0;i&&(s=1e4*i[0]+100*i[1]+i[2]),l&&(d=1e4*l[0]+100*l[1]+l[2]);var u=h["default"].map(t.getTime().split(":"),function(t){return+t||0}),c=1e4*u[0]+100*u[1]+u[2];s&&c<s&&(r.hours(i[0]),r.minutes(i[1]),r.seconds(i[2]+1)),d&&c>d&&(r.hours(l[0]),r.minutes(l[1]),r.seconds(l[2]+1))}else{var f=i?i.clone():null,p=l?l.clone():null;1!==a&&5!==a||(2===n?(f&&f.year(1999),p&&p.year(2001)):1===n&&(f&&f.date(1).startOf("date"),p&&p.date(1).endOf("date"))),f&&(o=o&&r.time()>=f.time(),o||(r=f.clone().add(1,"s"),0!==n&&(o=!0))),p&&(o=o&&r.time()<=p.time(),o||(r=p.clone().add(-1,"s"),0!==n&&(o=!0)))}return{date:r,valid:o}}function s(){var t=m["default"].createClass({displayName:"SwitchLabel",mixins:[w["default"]],getDefaultProps:function(){return{hasPrev:!0,hasNext:!0}},handleMouseDown:function(e){e.preventDefault()},render:function(){var t=this.props,a={"calendar_hTitle":!0,"canSwitch":t.hasNext||t.hasPrev},n={className:"iconfont calendar_hDecrease"},i={className:"iconfont calendar_hIncrease"},l={className:(0,v["default"])({"hasTopLayer":t.onClick,"calendar_CurrentVal":!0})};return t.hasNext&&(i.onMouseDown=this.handleMouseDown,i.onClick=t.onNextClick),t.hasPrev&&(n.onMouseDown=this.handleMouseDown,n.onClick=t.onPrevClick),t.onClick&&(l.onMouseDown=this.handleMouseDown,l.onClick=t.onClick),m["default"].createElement("div",{className:(0,v["default"])(a,t.className)},m["default"].createElement("a",n,String.fromCharCode(58989)),m["default"].createElement("span",l,t.label),m["default"].createElement("a",i,String.fromCharCode(58990)))}}),a=m["default"].createClass({displayName:"TypeTitle",mixins:[w["default"]],getDefaultProps:function(){return{formatType:0}},handleMouseDown:function(e){e.preventDefault()},render:function(){var t=this.props,a=null,n={className:"calendar_sTitle"};return t.onClick&&(a=m["default"].createElement("span",{className:"iconfont calendar_sArrow"},String.fromCharCode(58983)),n.onClick=t.onClick,n.onMouseDown=this.handleMouseDown),m["default"].createElement("div",{className:"calendar_switcher",key:"format"},m["default"].createElement("p",n,m["default"].createElement("span",{className:"calendar_sType"},k[t.formatType]),a))}}),n=m["default"].createClass({displayName:"FillingTypeSelector",mixins:[w["default"]],handleMouseDown:function(e){e.preventDefault()},handleChangeFormat:function(t){this.props.onChange&&this.props.onChange("type",t);
},renderItems:function(){var t=this,a=[],n=this.props,i=n.formatList,l=n.formatType,o=(0,b["default"])(),r={0:o.getFullDate(),1:o.getYearMonth(),2:o.getMonthDay(),3:o.year(),4:N.gMonth[o.month()],5:o.date()};return h["default"].forEach(k,function(n,o){if((i||[]).indexOf(+o)===-1)return!0;var s={key:"typeItem"+o,className:(0,v["default"])({"calendar_typeItem":!0,"selected":l===+o}),onMouseDown:t.handleMouseDown,onClick:t.handleChangeFormat.bind(t,+o)};a.push(m["default"].createElement("li",s,m["default"].createElement("p",{className:"calendar_typeTitle"},n),m["default"].createElement("p",{className:"calendar_typeExample"},r[o])))}),a},render:function(){return m["default"].createElement("div",{className:"calendar_body"},m["default"].createElement("ul",{className:"calendar_typeList",key:"formatList"},this.renderItems()))}}),i=m["default"].createClass({displayName:"YearSelector",mixins:[w["default"]],getInitialState:function(){return this.animPrev=!1,this.animNext=!1,{decadeYear:this.props.date.decade()}},componentWillUpdate:function(t){t.date.time()!==this.props.date.time()&&this.setState({decadeYear:t.date.decade()})},handleDecadePrev:function(){this.state.decadeYear>E.year()&&(this.setState({decadeYear:this.state.decadeYear-10}),this.animPrev=!0,this.animNext=!1)},handleDecadeNext:function(){this.setState({decadeYear:this.state.decadeYear+10}),this.animPrev=!1,this.animNext=!0},handleMouseDown:function(e){e.preventDefault()},handleChangeYear:function(t){var a=this.props;a.onChange&&a.onChange("year",t),a.isLeaf||a.onChangePanel&&a.onChangePanel("month")},renderYears:function(){for(var t=[],a=this.state.decadeYear,n=this.props,i=n.selected,l=n.startOf,o=n.endOf,r=a-1,s=a+11,d=r;d<s;d++){var u=d<E.year();l&&(u=u||d<l.year()),o&&(u=u||d>o.year());var c={key:"year"+d,className:(0,v["default"])("calendar_bYearItem",{"current-decade":d>=a&&d<a+10,"selected":!!i&&d===i.year(),"disabled":u}),onMouseDown:this.handleMouseDown};u||(c.onClick=this.handleChangeYear.bind(this,d)),t.push(m["default"].createElement("li",c,d))}return m["default"].createElement("ul",{className:"calendar_bYearList",key:"yearList"+a},t)},render:function(){var a=this.state.decadeYear,n=a>E.year();return m["default"].createElement("div",{className:"calendarMain"},m["default"].createElement("div",{className:"calendar_header",key:"calendarLabel"},m["default"].createElement(t,{className:"decade",label:a+"s",hasPrev:n,onPrevClick:this.handleDecadePrev,onNextClick:this.handleDecadeNext})),m["default"].createElement(C["default"],{component:"div",key:"calendarBody",transitionName:"listSwitch",className:(0,v["default"])("calendar_body",{"cm_prev":this.animPrev,"cm_next":this.animNext}),enterTimeout:200,leaveTimeout:200},this.renderYears()))}}),s=m["default"].createClass({displayName:"MonthSelector",mixins:[w["default"]],getInitialState:function(){return this.animPrev=!1,this.animNext=!1,{year:this.props.date.year()}},componentWillUpdate:function(t){t.date.time()!==this.props.date.time()&&this.setState({year:t.date.year()})},handleYearPrev:function(){var t=this.props,a=t.isStatic,n=t.onChange;if(!a&&this.state.year>E.year()){var i=this.state.year-1;n&&n("year",i),this.setState({year:i}),this.animPrev=!0,this.animNext=!1}},handleYearNext:function(){var t=this.props,a=t.isStatic,n=t.onChange;if(!a){var i=this.state.year+1;n&&n("year",i),this.setState({year:i}),this.animPrev=!1,this.animNext=!0}},handleMouseDown:function(e){e.preventDefault()},handleLabelClick:function(t){this.props.onChangePanel&&this.props.onChangePanel(t)},handleSelectMonth:function(t){var a=this.props,n=a.onChange,i=a.isLeaf;n&&n("month",t),i||this.handleLabelClick("date")},renderMonths:function(){for(var t=[],a=this.state.year,n=this.props,i=n.selected,l=n.startOf,o=n.endOf,r=0;r<12;r++){var s=a<E.year();l&&(s=s||a<l.year()||a===l.year()&&r<l.month()),o&&(s=s||a>o.year()||a===o.year()&&r>o.month());var d={key:"month"+r,className:(0,v["default"])("calendar_bMonthItem",{"selected":!!i&&(i.year()===a&&i.month()===r),"disabled":s}),onMouseDown:this.handleMouseDown};s||(d.onClick=this.handleSelectMonth.bind(this,r)),t.push(m["default"].createElement("li",d,N.gMonth[r]))}return m["default"].createElement("ul",{className:"calendar_bMonthList",key:"monthsList"+a},t)},render:function(){var a=this.props.isStatic,n=this.state.year,i={className:a?"month":"year",hasPrev:!a&&n>E.year(),hasNext:!a,label:a?N.gCalendarChooseMonth:""+n,onClick:a?null:this.handleLabelClick.bind(this,"year"),onPrevClick:this.handleYearPrev,onNextClick:this.handleYearNext};return m["default"].createElement("div",{className:"calendarMain",key:"monthSelect"},m["default"].createElement("div",{className:"calendar_header",key:"calendarLabel"},m["default"].createElement(t,i)),m["default"].createElement(C["default"],{component:"div",className:(0,v["default"])("calendar_body",{"cm_prev":this.animPrev,"cm_next":this.animNext}),key:"calendarBody",transitionName:"listSwitch",enterTimeout:200,leaveTimeout:200},this.renderMonths()))}}),d=m["default"].createClass({displayName:"DateSelector",mixins:[w["default"]],getInitialState:function(){this.animPrev=!1,this.animNext=!1;var t=this.props.date;return{year:t.year(),month:t.month()}},componentWillUpdate:function(t){t.date.time()!==this.props.date.time()&&this.setState({year:t.date.year(),month:t.date.month()})},handleLabelClick:function(t){this.props.onChangePanel&&this.props.onChangePanel(t)},handleYearPrev:function(){if(this.state.year>E.year()){var t=this.state.year-1;this.setState({year:t}),this.props.onChange&&this.props.onChange("year",t),this.animPrev=!0,this.animNext=!1}},handleYearNext:function(){var t=this.state.year+1;this.setState({year:t}),this.props.onChange&&this.props.onChange("year",t),this.animPrev=!1,this.animNext=!0},handleMonthPrev:function(){var t=this.state,a=t.year,n=t.month,i=this.props.onChange||function(){},l=void 0,o=void 0;n>0?o=n-1:a>E.year()&&(o=11,l=a-1);var r={};void 0!==l&&(r.year=l),void 0!==o&&(r.month=o),h["default"].isEmpty(r)||(this.setState(r),i(r),this.animPrev=!0,this.animNext=!1)},handleMonthNext:function(){var t=this.state,a=t.year,n=t.month,i=this.props.onChange||function(){},l=void 0,o=void 0;n<11?o=n+1:(o=0,l=a+1);var r={};void 0!==l&&(r.year=l),void 0!==o&&(r.month=o),h["default"].isEmpty(r)||(this.setState(r),i(r),this.animPrev=!1,this.animNext=!0)},handleMouseDown:function(e){e.preventDefault()},handleSelectDay:function(t){this.props.onChange&&this.props.onChange({"date":t,"month":this.state.month,"year":this.state.year})},renderWeek:function(){return m["default"].createElement("ul",{className:"calendar_bWeekNameRow",key:"weekRow"},h["default"].map(N.gWeekDay,function(t,a){return m["default"].createElement("li",{className:"calendar_bWeekNameItem",key:"weekName"+a},t)}))},renderDays:function(){for(var t=this.state,a=t.year,n=t.month,i=this.props,l=i.startOf,o=i.endOf,r=i.disabledDate,s=i.selected,d=(0,b["default"])(),u=(0,b["default"])(a+"-"+(n+1)+"-1"),c=u.clone().startOf("month"),f=c.clone().day(0),h=[],p=[],g=!0;g;){var y=f.month()!==n;l&&(y=y||l.startOf("date").time()>f.time()),o&&(y=y||o.endOf("date").time()<f.time()),r&&(y=y||r.indexOf("W"+f.week())>-1);var S=!1;s&&(S=f.date()===s.date()&&f.month()===s.month()&&f.year()===s.year());var C={key:f.format("YYYYMMDD"),className:(0,v["default"])("calendar_bDayItem",{"today":0===f.gap(d),"current-month":f.month()===n,"disabled":y,"selected":S}),onMouseDown:this.handleMouseDown};y||(C.onClick=this.handleSelectDay.bind(this,f.date())),h.push(m["default"].createElement("li",C,m["default"].createElement("a",{href:"javascript:void(0);"},f.date()))),7===h.length&&(p.push(m["default"].createElement("ul",{className:"calendar_bWeekRow",key:"week"+p.length},h)),h=[],6===p.length&&(g=!1)),f=f.clone().add(1,"d")}return p},render:function(){var a=this.state,n=a.year,i=a.month,l={label:""+n,key:"dYear",className:"halfWidth year",onClick:this.handleLabelClick.bind(this,"year"),onPrevClick:this.handleYearPrev,onNextClick:this.handleYearNext},o={label:N.gMonth[i],key:"dMonth",className:"halfWidth month",onClick:this.handleLabelClick.bind(this,"month"),onPrevClick:this.handleMonthPrev,onNextClick:this.handleMonthNext};return m["default"].createElement("div",{className:"calendarMain",key:"dateSelect"},m["default"].createElement("div",{className:"calendar_header",key:"calendarLabel"},m["default"].createElement(t,l),m["default"].createElement(t,o)),m["default"].createElement(C["default"],{component:"div",className:(0,v["default"])("calendar_body",{"cm_prev":this.animPrev,"cm_next":this.animNext}),key:"calendarBody",transitionName:"listSwitch",enterTimeout:200,leaveTimeout:200},m["default"].createElement("div",{className:"calendar_bWeekList",key:"ListO"+n+"Y"+i+"M"},this.renderWeek(),this.renderDays())))}}),c=m["default"].createClass({displayName:"StaticDateSelector",mixins:[w["default"]],getInitialState:function(){return this.animPrev=!1,this.animNext=!1,{month:this.props.date.month()}},componentWillUpdate:function(t){t.date.time()!==this.props.date.time()&&this.setState({month:t.date.month()})},handleLabelClick:function(t){this.props.onChangePanel&&this.props.onChangePanel(t)},handleMonthPrev:function(){var t=this.props,a=t.isStatic,n=t.onChange,i=this.state.month;if(!a){var l=i-1;l<0&&(l=11),n&&n("month",l),this.setState({month:l}),this.animPrev=!0,this.animNext=!1}},handleMonthNext:function(){var t=this.props,a=t.isStatic,n=t.onChange,i=this.state.month;if(!a){var l=i+1;l>11&&(l=0),n&&n("month",l),this.setState({month:l}),this.animPrev=!1,this.animNext=!0}},handleMouseDown:function(e){e.preventDefault()},handleSelectDay:function(t){this.props.onChange&&this.props.onChange("date",t)},renderDays:function(){for(var t=this.props,a=t.isStatic,n=t.selected,i=this.state.month,l=a?31:I[i],o=[],r=[],s=0;s<l;s++){var d={key:"s"+(i+1)+(s+1),className:(0,v["default"])({"calendar_bDayItem":!0,"current-month":!0,"selected":!!n&&(s+1===n.date()&&i===n.month())}),onMouseDown:this.handleMouseDown,onClick:this.handleSelectDay.bind(this,s+1)};o.push(m["default"].createElement("li",d,m["default"].createElement("a",{href:"javascript:void(0);"},s+1))),7!==o.length&&l!==s+1||(r.push(m["default"].createElement("ul",{className:"calendar_bWeekRow",key:"weekS"+r.length},o)),o=[])}return r},render:function(){var a=this.props.isStatic,n=this.state.month,i={className:"month",hasPrev:!a,hasNext:!a,label:a?N.gCalendarChooseDate:""+N.gMonth[n],onClick:a?null:this.handleLabelClick.bind(this,"month"),onPrevClick:this.handleMonthPrev,onNextClick:this.handleMonthNext};return m["default"].createElement("div",{className:"calendarMain",key:"dateSelect"},m["default"].createElement("div",{className:"calendar_header",key:"calendarLabel"},m["default"].createElement(t,i)),m["default"].createElement(C["default"],{component:"div",className:(0,v["default"])("calendar_body",{"cm_prev":this.animPrev,"cm_next":this.animNext}),key:"calendarBody",transitionName:"listSwitch",enterTimeout:200,leaveTimeout:200},m["default"].createElement("div",{className:"calendar_bWeekList",key:"ListS"+n+"M"},this.renderDays())))}}),f=m["default"].createClass({displayName:"TimerEditor",mixins:[w["default"]],getInitialState:function(){this.animPrev=!1,this.animNext=!1;var t=this.props.date;return{hours:t.hours(),minutes:t.minutes(),seconds:t.seconds()}},componentWillUpdate:function(t){t.date.time()!==this.props.date.time()&&this.setState({hours:t.date.hours(),minutes:t.date.minutes(),seconds:t.date.seconds()})},handleInputChange:function(t,e){var a=e.target.value,n={};n[t]=a,this.props.onChange&&this.props.onChange(t,a),this.setState(n)},handleMouseDown:function(e){},render:function(){var t=this.props,a=t.className,n=t.accuracy,i=t.children,l=this.state,o=l.hours,r=l.minutes,s=l.seconds,d=[m["default"].createElement("input",{className:(0,v["default"])("cp_calendar_input","calendar_hour",a),name:"hour",key:"hourInput",value:o,onChange:this.handleInputChange.bind(this,"hour")}),m["default"].createElement("span",{className:"calendarTips",key:"hourUnit"},N.gTimeUnit[0])],u=[m["default"].createElement("input",{className:(0,v["default"])("cp_calendar_input","calendar_minute",a),name:"minute",key:"minuteInput",value:r,onChange:this.handleInputChange.bind(this,"minute")}),m["default"].createElement("span",{className:"calendarTips",key:"minuteUnit"},N.gTimeUnit[1])],c=[m["default"].createElement("input",{className:(0,v["default"])("cp_calendar_input","calendar_second",a),name:"second",key:"secondInput",value:s,onChange:this.handleInputChange.bind(this,"second")}),m["default"].createElement("span",{className:"calendarTips",key:"secondUnit"},N.gTimeUnit[2])],f=[d,u,c];return n<0&&0===m["default"].Children.count(i)?null:m["default"].createElement("div",{className:"calendar_footer"},m["default"].createElement("div",{className:"calendar_time"},m["default"].createElement("div",{className:"calendar_content"},f.slice(0,n),m["default"].createElement("div",{className:"clearB"}))),i)}});return m["default"].createClass({displayName:"Calendar",mixins:[w["default"]],getDefaultProps:function(){return{type:1,formatType:0,timeFormatType:1}},_preProcessState:function(t){var a=t.type,n=t.defaultValue,i=t.formatType,r=t.formatList,s=t.range,d={1:"date",2:"date",3:"date",4:"time",5:"date"},u=l(n||""),c=(0,b["default"])().startOf("date");if(u.data&&(c=(0,b["default"])(u.data)),s){if(s[0]&&s[0]!==-1&&s[0]!==!0){var f=(0,b["default"])(s[0]);f.time()>c.time()&&(c=f.clone().startOf("date"))}if(s[1]&&s[1]!==-1&&s[1]!==!0){var h=(0,b["default"])(s[1]);h.time()<c.time()&&(c=h.clone().startOf("date"))}}var p=d[a],m=i,g=r||[0,1,2];if(g.indexOf(u.type)>-1?m=u.type:g.indexOf(m)===-1&&(m=g[0]),this.formatList=g,2===a||1===a||5===a){switch(m){case 0:case 2:case 5:p="date";break;case 1:case 4:p="month";break;case 3:p="year"}5!==m&&2!==m||(c=c.year(2e3))}var v=o(a,s);return this.start=v.start,this.end=v.end,{formatType:m,panel:p,pointer:c,selected:!!n&&c.clone()}},getInitialState:function(){this.animationMagnify=!1,this.animationShrink=!1,this.panelMapping={"date":0,"month":1,"year":2,"type":3};var t=this._preProcessState(this.props);return{formatType:t.formatType,panel:t.panel,pointer:t.pointer,selected:t.selected}},componentDidMount:function(){},componentWillUpdate:function(t,a){if(this.animationMagnify=this.panelMapping[a.panel]<this.panelMapping[this.state.panel],this.animationShrink=!this.animationMagnify,(t.defaultValue||this.props.defaultValue)&&t.defaultValue!==this.props.defaultValue){var n=this._preProcessState(t);this.setState({pointer:n.pointer,selected:n.selected})}},componentWillUnmount:function(){},toggleTypeSelector:function(t){var a=void 0!==t?t:this.state.formatType,n=this.state.panel;"type"===n?(1!==a&&4!==a||"month"===this.oldPanel?3===a&&"year"!==this.oldPanel?this.oldPanel="year":5===a&&"date"!==this.oldPanel&&(this.oldPanel="date"):this.oldPanel="month",this.handleChangePanel(this.oldPanel)):(this.oldPanel=n,this.handleChangePanel("type"))},handleMouseDown:function(e){},handleChangePanel:function(t){this.setState({panel:t})},handleChangePointer:function(t,a){var n=this,i=this.props,l=i.type,o=i.triggerChange,s=i.onSelect,d=this.state,u=d.formatType,c=d.pointer,f=[],p={};h["default"].isPlainObject(t)?(f=Object.keys(t),p=t):(f=[t],p={},p[t]=a);var m=(1===u||4===u)&&f.indexOf("month")>-1||(0===u||2===u||5===u)&&f.indexOf("date")>-1||3===u&&f.indexOf("year")>-1,g=c.clone();h["default"].forEach(["year","month","date","hour","minute","second","type"],function(t){if(void 0!==p[t]&&null!==p[t]){var a=p[t];switch(t){case"second":g.seconds(+a);break;case"minute":g.minutes(+a);break;case"hour":g.hours(+a);break;case"date":g.date(+a);break;case"month":g.month(+a);break;case"year":g.year(+a);break;case"type":u!==a&&(2!==u&&2===a?g.year("2000"):2===u&&g.year((0,b["default"])().year()),n.setState({formatType:a})),n.toggleTypeSelector(a)}}});var v=r(g,l,u,this.start,this.end);g=v.date,v.valid&&(this.setState({pointer:g}),o&&m&&this.doChange(g),s&&s(g),this.setState({selected:g}))},getCurrentSelected:function(){return this.state.pointer},getFormatDate:function(t){var a=this.props,n=a.type,i=a.timeFormatType,l=this.state,o=l.selected,r=l.formatType;if(t||(t=o),!t)return"";var s=t.getFullDate();if(1!==i&&(2===i?t.seconds(0):3===i&&(t.seconds(0),t.minutes(0))),1===n||2===n||5===n)switch(r){case 1:s=t.getYearMonth()+"-";break;case 2:s="-"+t.getMonthDay();break;case 3:s=t.year()+"--";break;case 4:s="-"+(t.month()+1)+"-";break;case 5:s="--"+t.date()}else 3===n?s=t.getFullDateTime():4===n&&(s=t.getTime());return 5===n&&(s+=" "+t.getTime()),s},doSetDate:function(t){},doChange:function(t){var a=this.getFormatDate(t);this.setState({selected:t}),this.props.onChange&&this.props.onChange(null,a)},renderPanel:function(){var t=this.props,a=(t.type,t.disabledDate),l=this.state,o=l.panel,r=l.formatType,f=l.pointer,h=l.selected,p=null,g={date:f,selected:h,key:"shown"+o,startOf:this.start,endOf:this.end,isLeaf:(1===r||4===r)&&"month"===o||(0===r||2===r||5===r)&&"date"===o||3===r&&"year"===o,onChange:this.handleChangePointer,onChangePanel:this.handleChangePanel};switch(o){case"date":p=2===r||5===r?m["default"].createElement(c,u({},g,{isStatic:5===r})):m["default"].createElement(d,u({},g,{disabledDate:a}));break;case"month":p=m["default"].createElement(s,u({},g,{isStatic:2===r||4===r}));break;case"year":p=m["default"].createElement(i,g);break;case"type":p=m["default"].createElement(n,u({},g,{formatType:r,formatList:this.formatList}))}return p},render:function(){var t=this.props,n=t.type,i=t.className,l=t.timeFormatType,o=t.extOpeartion,r=t.onMouseDown,s=this.state,d=s.formatType,u=s.panel,c=s.pointer,h={1:3,2:2,3:1},p=null,g=m["default"].createElement(f,{key:"calendarTimer",accuracy:h[l],startOf:this.start,endOf:this.end,date:c,onChange:this.handleChangePointer},o);return 4===n?m["default"].createElement("div",{className:(0,v["default"])(i,"calendarContainer","calendarTimer"),key:"calendar",ref:"calendar",onMouseDown:r},g):(1!==n&&5!==n||(p=m["default"].createElement(a,{formatType:d,formatList:this.formatList,onClick:this.toggleTypeSelector})),m["default"].createElement("div",{className:(0,v["default"])(i,"calendarContainer",["YMD","YM","MD","Y","M","D"][d],"panel_"+u),key:"calendar",ref:"calendar",onMouseDown:r},p,m["default"].createElement(C["default"],{component:"div",className:(0,v["default"])("calendarWrapper",{"calendarStatic":2===d||5===d,"cm_magnify":this.animationMagnify,"cm_shrink":this.animationShrink}),transitionName:"typeSwitch",enterTimeout:200,leaveTimeout:200},this.renderPanel()),[3,4,5].indexOf(n)>-1?g:null))}})}function d(t){return N=t,k={0:N.gCalendarTypeYMD,1:N.gCalendarTypeYM,2:N.gCalendarTypeMD,3:N.gCalendarTypeY,4:N.gCalendarTypeM,5:N.gCalendarTypeD},s()}a.__esModule=!0;var u=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};a["default"]=d;var c=n(25),f=(i(c),n(8)),h=i(f),p=n(14),m=i(p),g=n(43),v=i(g),y=n(39),b=i(y),S=n(74),C=i(S),_=n(51),w=i(_),E=(0,b["default"])("1900-1-1"),I=[31,29,31,30,31,30,31,31,30,31,30,31],N={},k={};t.exports=a["default"]},,,,function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function l(t){var a=o(t),n=a.dateStr;if(n){var i=/^(\d{4}?)-(\d{1,2}?)-$/g,l=/^-(\d{1,2}?)-(\d{1,2}?)$/g,r=/^--(\d{1,2}?)$/g,s=/^-(\d{1,2}?)-$/g,d=/^(\d{4}?)--$/g;if(n.match(i))return n.replace(/-$/g,"");if(n.match(l))return n.replace(/^-/g,"");if(n.match(d))return n.replace("--","");if(n.match(s))return g.lang.gMonth[+t.replace(/-/g,"")-1];if(n.match(r))return n.replace("--","")}return n}function o(t){var a=["00","00","00"],n=(t||"").replace(T,function($,t,n,i){return t&&(a[0]=t),n&&(a[1]=n),i&&(a[2]=i),""});return{dateStr:s["default"].trim(n),timeList:a}}a.__esModule=!0;var r=n(8),s=i(r),d=n(25),u=(i(d),n(43)),c=i(u),f=n(14),h=i(f),p=n(26),m=i(p),g=n(9),v=n(60),y=i(v),b=n(39),S=(i(b),n(47)),C=i(S),_=n(78),w=i(_),E=n(57),I=(i(E),n(51)),N=i(I),k={"dateTime_date":1,"dateTime_time":4,"dateTime_both":5},T=/(\d{1,2}):(\d{1,2})(?::(\d{1,2}))?/g,M=0;a["default"]=h["default"].createClass({displayName:"Component(DateTimeMobile)",mixins:[N["default"],y["default"]],getInitialState:function(){return M++,this.num=M,{isOpen:!1,displayValue:l(this.props.fill)}},componentWillUpdate:function(t,a){l(t.fill)===this.state.displayValue||this.inEdit||this.setState({displayValue:l(t.fill)})},_saveCurrentData:function(t){C["default"].dispatch({type:"setValue",id:this.props.data.id,value:t})},handleChangeDate:function(t){var a=this.props.fill||"",n=o(a),i=(n.dateStr,n.timeList),l="";1!==this.caType&&(l=i.join(":")),this._saveCurrentData(s["default"].trim(t+" "+l))},handleChangeTime:function(t,e){var a=e.target.value,n=this.props.fill||"",i=o(n),l=i.dateStr,r=i.timeList,d=[];1!==this.caType&&(d=r.slice(),d[t]=a||"00"),this._saveCurrentData(s["default"].trim(l+" "+d.join(":")))},handleEmptyDate:function(e){e.stopPropagation(),this.handleChangeDate("")},popCalendar:function(){var t=this.props,a=t.isBirthDate,n=t.data,i=t.fill,l=n.dateFormat,o=n.formatType,r=n.isLimitDayInterval,d=n.dayIntervalFrom,u=n.dayIntervalTo,c=n.isLimitDays,f=n.limitDays,p=null;if(c&&!s["default"].isEmpty(f)){p=[];for(var g=0;g<7;g++)f.indexOf(g+1)===-1&&p.push("W"+g)}var v=i||"";v&&v.match(/[:]/)&&(v=s["default"].trim(v.replace(T,""))),m["default"].render(h["default"].createElement(w["default"],{formatType:o,dateFormat:l||(a?[1,3]:[1]),isLimitDayInterval:r,dayIntervalFrom:d,dayIntervalTo:u,disableDate:p,defaultValue:v,onChange:this.handleChangeDate}),document.getElementById("popwin"))},renderDropDown:function(t,a,n,i,l,o){var r=a[0],s=a[1],d=[];d.push(h["default"].createElement("option",{key:"defaultDisabled",value:null,disabled:!0,selected:!0,hidden:!0,style:{display:"none"}},""));var u=this.formStyle(),c=u.inputStyle;for(r;r<=s;r++)d.push(h["default"].createElement("option",{value:r,key:"s"+r},r));return h["default"].createElement("div",{className:"fbc_dateTimeSelectWrapper",key:i,style:{width:l}},h["default"].createElement("div",{className:"fbc_select fbc_dateTimeSelect"},h["default"].createElement("i",{className:"fbc_selectArrow",style:{lineHeight:c.height+"px"}},g.lang.gTimeUnit[o]),h["default"].createElement("select",{className:"fbc_innerSelect",value:t,style:c,onChange:this.handleChangeTime.bind(this,o)},d)))},render:function(){var t=this.props,a=t.data,n=t.fill,i=t.valid,l=t.componentStyle,r=t.isBirthDate,d=a.id,u=a.timePrecision,f=this.formStyle(),p=f.inputStyle,m=f.inputIconStyle,v=a.isCustomField?a.cfDateTimeType:a.type,y=k[v]||1;r&&(y=1),this.caType=y;var b=null;n&&(b=o(n).timeList);var S=null,C=Math.min(3,+(u||3));return 4===y?S=h["default"].createElement("div",{className:"fbc_timeSelector fbc_timeOnly"},this.renderDropDown(b?+b[0]:null,[0,23],g.lang.cDateTimeHour,"dpHour",100/C+"%",0),C<2?null:this.renderDropDown(b?+b[1]:null,[0,59],g.lang.cDateTimeMin,"dpMin",100/C+"%",1),C<3?null:this.renderDropDown(b?+b[2]:null,[0,59],g.lang.cDateTimeSec,"dpSec",100/C+"%",2)):5===y?(S=[],S.push(h["default"].createElement("div",{className:"fbc_datetime fbc_dateTimeSelector",key:"dateTimeSelector"},h["default"].createElement("i",{className:"iconfont fbc_dtIcon",style:m},"birthDate"===v?String.fromCharCode(59081):String.fromCharCode(59141)),h["default"].createElement("div",{className:"fbc_input",style:s["default"].assign({},p,{paddingLeft:(p.fontSize||14)+10}),onClick:this.popCalendar},h["default"].createElement("div",{className:"fbi_input"},this.state.displayValue),this.state.displayValue?h["default"].createElement("a",{className:"iconfont fbc_empty",style:{height:p.height-2,lineHeight:p.height-2+"px"},onClick:this.handleEmptyDate},String.fromCharCode(58982)):null))),S.push(h["default"].createElement("div",{className:"fbc_timeSelector fbc_dateTimeSelector",key:"timerSelector"},this.renderDropDown(b?+b[0]:null,[0,23],g.lang.cDateTimeHour,"dpHour",100/C+"%",0),C<2?null:this.renderDropDown(b?+b[1]:null,[0,59],g.lang.cDateTimeMin,"dpMin",100/C+"%",1),C<3?null:this.renderDropDown(b?+b[2]:null,[0,59],g.lang.cDateTimeSec,"dpSec",100/C+"%",2)))):1===y&&(S=h["default"].createElement("div",{className:"fbc_datetime",key:"dateTimeSelector"},h["default"].createElement("i",{className:"iconfont fbc_dtIcon",style:m},"birthDate"===v?String.fromCharCode(59081):String.fromCharCode(59141)),h["default"].createElement("div",{className:"fbc_input",style:s["default"].assign({},p,{paddingLeft:(p.fontSize||14)+5}),onClick:this.popCalendar},h["default"].createElement("div",{className:"fbi_input"},this.state.displayValue),this.state.displayValue?h["default"].createElement("a",{className:"iconfont fbc_empty",style:{height:p.height-2,lineHeight:p.height-2+"px"},onClick:this.handleEmptyDate},String.fromCharCode(58982)):null))),h["default"].createElement("div",{className:(0,c["default"])("fb_component",v),id:d,style:l,ref:"cdDateTime"},this.renderTitle(a),this.renderSubtitle(a),this.renderError(i),h["default"].createElement("div",{className:"fbc_content",style:{width:"100%"}},S,h["default"].createElement("div",{className:"clearB"})))}}),t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}a.__esModule=!0;var l=n(8),o=i(l),r=n(25),s=(i(r),n(43)),d=(i(s),n(14)),u=i(d),c=n(9),f=n(35),h=i(f),p=n(79),m=i(p),g=n(73),v=i(g),y=n(51),b=i(y),S=n(38),C=i(S),_=(0,v["default"])(c.lang);a["default"]=u["default"].createClass({displayName:"PopCalendar",mixins:[b["default"]],getInitialState:function(){var t=this;return h["default"].getParentInfo([{t:"self",v:"rect",e:1,n:"rect"}]).then(function(a){a&&a.innerState&&t.setState({rectTop:a.rect.top})}),{}},componentDidMount:function(){C["default"].lockPageScroll()},componentWillUnmount:function(){C["default"].unLockPageScroll()},handleClose:function(){C["default"].unLockPageScroll(),this.refs.popwin.doClose()},handleDateChange:function(e,t){var a=this;this.props.onChange&&this.props.onChange(t),window.setTimeout(function(){a.handleClose()},80)},render:function(){var t=this.props,a={ref:"calendar",type:1,formatType:t.formatType,formatList:o["default"].map(t.dateFormat||[1],function(t){return t-1}),range:t.isLimitDayInterval?[t.dayIntervalFrom||-1,t.dayIntervalTo||-1]:!!t.isBirthDate&&[-1,!0],disabledDate:t.disableDate,defaultValue:t.defaultValue,triggerChange:!0,onChange:this.handleDateChange};return u["default"].createElement(m["default"],{className:"pop_calendar",ref:"popwin",boxStyle:{marginTop:this.state.rectTop?Math.max(60-this.state.rectTop,60):null}},u["default"].createElement(_,a))}}),t.exports=a["default"]},,function(t,a,n){(function(i){"use strict";function l(t){return t&&t.__esModule?t:{"default":t}}a.__esModule=!0;var o=n(25),r=l(o),s=n(14),d=l(s),u=n(43),c=l(u),f=n(8),h=l(f),p=n(60),m=l(p),g=n(47),v=l(g),y=n(9),b=n(51),S=l(b),C=n(35),_=n(38),w=n(37),E=l(w);n(81),n(82),n(83),n(84);var I=n(85);i.jQuery=i.$=r["default"];var N=v["default"].FILE_TYPE_LIST,k=d["default"].createClass({displayName:"FileBlock",shouldComponentUpdate:function(t,a){return!(0,_.shallowEqual)(t.item||{},this.props.item||{})||!(0,_.shallowEqual)(t.children||{},this.props.children||{})},componentDidUpdate:function(t){if(!C.isOldIE&&d["default"].Children.count(this.props.children)){var a=(this.props.item||{}).idx||null;((t.item||{}).idx||null!==a)&&this.props.onUpdateFileProcessId&&this.props.onUpdateFileProcessId((this.props.item||{}).idx||null)}},handleRemoveFile:function(e){e.stopPropagation(),this.props.onRemoveFile(this.props.item.idx)},handleSetRawId:function(){this.props.onUpdateFileProcessId&&this.props.onUpdateFileProcessId((this.props.item||{}).idx||null)},handleAddFile:function(){C.isOldIE||d["default"].Children.count(this.props.children)||this.props.onAddFile((this.props.item||{}).idx||null,!d["default"].Children.count(this.props.children))},getErrorInfo:function(){var t=this.props,a=t.item,n=t.maxSize;if(a&&a.error){var i=y.lang["cUploadFailed"+a.error];return"ILLEGAL_FILE_SIZE"===a.error&&(i=i({fileSize:n})),i}return null},render:function(){var t=this.props,a=t.item,n=t.maxSize,i=t.inputStyle,l=t.inputIconStyle,o=t.children,r=null,s=58979;return a?(s=a.error?58938:58988,r=d["default"].createElement("p",{className:"fbc_ufText"},d["default"].createElement("a",{href:"javascript:void(0);"},a.error?this.getErrorInfo():a.name),d["default"].createElement("span",{className:"fbc_ufSize"},a.error?a.name:a.size?(0,I.fileSizeBeauty)(a.size):"-"))):r=d["default"].createElement("p",{className:"fbc_ufText"},d["default"].createElement("span",null,y.lang.cFileSizeHint({fileSize:n}))),d["default"].createElement("div",{className:(0,c["default"])("fbc_uploadFile",{"empty":!a,"succeed":a,"error":a&&a.error}),style:i,onClick:this.handleAddFile,onMouseDown:this.handleSetRawId,onTouchStart:this.handleSetRawId},d["default"].createElement("i",{className:"iconfont fbc_ufIcon",style:{lineHeight:l.lineHeight,fontSize:l.fontSize}},String.fromCharCode(s)),d["default"].createElement("div",{className:"fbc_ufContent"},r,a?d["default"].createElement("a",{className:"iconfont fbc_ufRemove",title:y.lang.cRemoveFile,style:{lineHeight:i.lineHeight},onClick:this.handleRemoveFile},String.fromCharCode(58980)):null),o)}}),T=1/0;a["default"]=d["default"].createClass({displayName:"Component(Attachment)",mixins:[S["default"],m["default"]],getInitialState:function(){return this.uploaderFileList={},this.fileProcessContent={},{tipHint:!1}},componentWillUpdate:function(t,a){var n=t.valid;n&&n.indexOf("tipHint")>-1&&this.props.valid.indexOf("tipHint")===-1&&!a.tipHint&&this.setState({tipHint:!0})},componentDidUpdate:function(){var t=this;if(!C.isOldIE){var a=this.props,n=a.data,i=a.fill,l=n.fileNumber?+n.fileNumber:T,o=i?i.length:0,r=Math.max(n.isAcceptMultipleFile?l-o:1,1);this.refs.uploader&&this.refs.uploader.doUpdateInputInfo({maxFileNumber:r,isMultiple:r>1})}this.state.tipHint&&!this.tipHintTimer&&(this.tipHintTimer=setTimeout(function(){t.setState({tipHint:!1}),t.tipHintTimer=null},1200))},componentWillUnmount:function(){clearTimeout(this.tipHintTimer)},handleUpdateFileUploaderProcessId:function(t){this.refs.uploader.doSetFrId(t)},handleAddFile:function(t,a){this.refs.uploader.doSetFrId(t),a&&this.refs.uploader.doUploadTigger()},handleRemoveFile:function(t){v["default"].dispatch({type:"removeFile",id:this.props.data.id,idx:t})},handleFileAdd:function(t){this.fileProcessContent.add=[].concat(this.fileProcessContent.add||[],t)},handleFileUpdate:function(t,a){this.fileProcessContent.update=[].concat(this.fileProcessContent.update||[],{id:a,fileInfo:t})},handleFlushFileProcess:function(){var t=this.fileProcessContent;this.fileProcessContent={},E["default"].log("flush attachment~~",t),v["default"].dispatch({type:"fileProcessFlush",isImage:!1,id:this.props.data.id,processData:t})},handleFileUploadDestroy:function(){this.uploaderFile=null},renderTips:function(){var t=this.props,a=t.data,n=t.valid,i=this.formStyle(),l=i.tipsStyle;if(1!==a.isLimitFileType)return null;var o=null,r=(n||[]).indexOf("tip")>-1;if(a.isLimitFileType&&!h["default"].isEmpty(a.fileTypes)){var s=h["default"].map(a.fileTypes||[],function(t){return N[t]});o=y.lang.cFileSupportFunc({fileTypes:s.join(", ")})}return d["default"].createElement("p",{className:(0,c["default"])("fbc_tips",{"error":r||this.state.tipHint}),style:l},o)},renderFilePreviewList:function(){var t=this,a=this.props,n=a.data,i=a.fill,l=(a.valid,a.isMobile),o=this.formStyle(),r=o.inputStyle,s=o.inputIconStyle,u=n.isLimitFileSize&&n.fileSize?n.fileSize:500,c=null,f=!i||h["default"].isEmpty(i);n.isAcceptMultipleFile&&(f=i&&i.length&&i.length<(n.fileNumber?+n.fileNumber:T)||!i||h["default"].isEmpty(i));var p=[],m=i?i.length:0,g=n.fileNumber?+n.fileNumber:T;if(C.isOldIE||(this.uploaderFile=this.uploaderFile||d["default"].createElement(I.FileUploader,{ref:"uploader",isMultiple:!!n.isAcceptMultipleFile,image:!1,maxFileNumber:n.isAcceptMultipleFile?g-m:1,onFileUpdate:this.handleFileUpdate,onFileAdd:this.handleFileAdd,onFlushFileProcess:this.handleFlushFileProcess,onDestroy:this.handleFileUploadDestroy
})),h["default"].forEach(i,function(a,i){c=f||i+1!==m?null:t.uploaderFile,C.isOldIE&&(c=t.uploaderFileList[a.idx]=t.uploaderFileList[a.idx]||d["default"].createElement(I.FileUploader,{isMultiple:!1,maxFileNumber:1,cpId:n.id,key:"fi"+a.idx,onFileUpdate:t.handleFileUpdate,image:!1,onFileAdd:t.handleFileAdd,onFlushFileProcess:t.handleFlushFileProcess,fieldId:a.idx})),p.push(d["default"].createElement(k,{key:"fp"+a.idx,item:a,idx:i,isMobile:l,maxSize:u,inputStyle:r,inputIconStyle:s,onUpdateFileProcessId:t.handleUpdateFileUploaderProcessId,onAddFile:t.handleAddFile,onRemoveFile:t.handleRemoveFile},c))}),f){var y=v["default"].getPreparedFileIdx(n.id);c=C.isOldIE?this.uploaderFileList[y]=this.uploaderFileList[y]||d["default"].createElement(I.FileUploader,{isMultiple:!1,maxFileNumber:1,cpId:n.id,key:"fi"+y,image:!1,onFileUpdate:this.handleFileUpdate,onFileAdd:this.handleFileAdd,onFlushFileProcess:this.handleFlushFileProcess,fieldId:y}):this.uploaderFile,p.push(d["default"].createElement(k,{key:"fp"+y,item:null,idx:null,isMobile:l,maxSize:u,inputStyle:r,inputIconStyle:s,onUpdateFileProcessId:this.handleUpdateFileUploaderProcessId,onAddFile:this.handleAddFile,onRemoveFile:this.handleRemoveFile},c))}return p},render:function(){var t=this.props,a=t.data,n=(t.fill,t.valid),i=t.componentStyle,l=t.style,o=t.itemNum,r=t.isMobile,s=10*(r?10:a.cpWidth||8),u={},f={};return r||2!==+a.cpLayout||(u={"float":"left",paddingTop:6,width:((l.bodyStyle||{}).cpTitleWidth||20)+"%"},f={"float":"left",width:100-((l.bodyStyle||{}).cpTitleWidth||20)+"%"},o&&o>1&&(u.width="auto",u.maxWidth=105-s+"%",f.width=s-5+"%",s=100)),d["default"].createElement("div",{className:(0,c["default"])("fb_component",a.type),id:a.id,style:i},d["default"].createElement("div",{className:"fb_componentText",style:u},this.renderTitle(a),this.renderSubtitle(a),this.renderTips(),this.renderError(n)),d["default"].createElement("div",{className:"fb_componentBody",style:f},d["default"].createElement("div",{className:(0,c["default"])("fbc_content","fbc_widthCp"),style:{width:s+"%"}},this.renderFilePreviewList())))}}),t.exports=a["default"]}).call(a,function(){return this}())},function(t,a,n){var i,l,o;!function(r){l=[n(25)],i=r,o="function"==typeof i?i.apply(a,l):i,!(void 0!==o&&(t.exports=o))}(function($){$.ui=$.ui||{};var t=($.ui.version="1.12.1",0),a=Array.prototype.slice;$.cleanData=function(t){return function(a){var n,i,l;for(l=0;null!=(i=a[l]);l++)try{n=$._data(i,"events"),n&&n.remove&&$(i).triggerHandler("remove")}catch(e){}t(a)}}($.cleanData),$.widget=function(t,a,n){var i,l,o,r={},s=t.split(".")[0];t=t.split(".")[1];var d=s+"-"+t;return n||(n=a,a=$.Widget),$.isArray(n)&&(n=$.extend.apply(null,[{}].concat(n))),$.expr[":"][d.toLowerCase()]=function(t){return!!$.data(t,d)},$[s]=$[s]||{},i=$[s][t],l=$[s][t]=function(t,a){return this._createWidget?void(arguments.length&&this._createWidget(t,a)):new l(t,a)},$.extend(l,i,{version:n.version,_proto:$.extend({},n),_childConstructors:[]}),o=new a,o.options=$.widget.extend({},o.options),$.each(n,function(t,n){return $.isFunction(n)?void(r[t]=function(){function i(){return a.prototype[t].apply(this,arguments)}function l(n){return a.prototype[t].apply(this,n)}return function(){var t,a=this._super,o=this._superApply;return this._super=i,this._superApply=l,t=n.apply(this,arguments),this._super=a,this._superApply=o,t}}()):void(r[t]=n)}),l.prototype=$.widget.extend(o,{widgetEventPrefix:i?o.widgetEventPrefix||t:t},r,{constructor:l,namespace:s,widgetName:t,widgetFullName:d}),i?($.each(i._childConstructors,function(t,a){var n=a.prototype;$.widget(n.namespace+"."+n.widgetName,l,a._proto)}),delete i._childConstructors):a._childConstructors.push(l),$.widget.bridge(t,l),l},$.widget.extend=function(t){for(var n,i,l=a.call(arguments,1),o=0,r=l.length;o<r;o++)for(n in l[o])i=l[o][n],l[o].hasOwnProperty(n)&&void 0!==i&&($.isPlainObject(i)?t[n]=$.isPlainObject(t[n])?$.widget.extend({},t[n],i):$.widget.extend({},i):t[n]=i);return t},$.widget.bridge=function(t,n){var i=n.prototype.widgetFullName||t;$.fn[t]=function(l){var o="string"==typeof l,r=a.call(arguments,1),s=this;return o?this.length||"instance"!==l?this.each(function(){var a,n=$.data(this,i);return"instance"===l?(s=n,!1):n?$.isFunction(n[l])&&"_"!==l.charAt(0)?(a=n[l].apply(n,r),a!==n&&void 0!==a?(s=a&&a.jquery?s.pushStack(a.get()):a,!1):void 0):$.error("no such method '"+l+"' for "+t+" widget instance"):$.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+l+"'")}):s=void 0:(r.length&&(l=$.widget.extend.apply(null,[l].concat(r))),this.each(function(){var t=$.data(this,i);t?(t.option(l||{}),t._init&&t._init()):$.data(this,i,new n(l,this))})),s}},$.Widget=function(){},$.Widget._childConstructors=[],$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(a,n){n=$(n||this.defaultElement||this)[0],this.element=$(n),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=$(),this.hoverable=$(),this.focusable=$(),this.classesElementLookup={},n!==this&&($.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=$(n.style?n.ownerDocument:n.document||n),this.window=$(this.document[0].defaultView||this.document[0].parentWindow)),this.options=$.widget.extend({},this.options,this._getCreateOptions(),a),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,destroy:function(){var t=this;this._destroy(),$.each(this.classesElementLookup,function(a,n){t._removeClass(n,a)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:$.noop,widget:function(){return this.element},option:function(t,a){var n,i,l,o=t;if(0===arguments.length)return $.widget.extend({},this.options);if("string"==typeof t)if(o={},n=t.split("."),t=n.shift(),n.length){for(i=o[t]=$.widget.extend({},this.options[t]),l=0;l<n.length-1;l++)i[n[l]]=i[n[l]]||{},i=i[n[l]];if(t=n.pop(),1===arguments.length)return void 0===i[t]?null:i[t];i[t]=a}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=a}return this._setOptions(o),this},_setOptions:function(t){var a;for(a in t)this._setOption(a,t[a]);return this},_setOption:function(t,a){return"classes"===t&&this._setOptionClasses(a),this.options[t]=a,"disabled"===t&&this._setOptionDisabled(a),this},_setOptionClasses:function(t){var a,n,i;for(a in t)i=this.classesElementLookup[a],t[a]!==this.options.classes[a]&&i&&i.length&&(n=$(i.get()),this._removeClass(i,a),n.addClass(this._classes({element:n,keys:a,classes:t,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){function a(a,l){var o,r;for(r=0;r<a.length;r++)o=i.classesElementLookup[a[r]]||$(),o=$(t.add?$.unique(o.get().concat(t.element.get())):o.not(t.element).get()),i.classesElementLookup[a[r]]=o,n.push(a[r]),l&&t.classes[a[r]]&&n.push(t.classes[a[r]])}var n=[],i=this;return t=$.extend({element:this.element,classes:this.options.classes||{}},t),this._on(t.element,{"remove":"_untrackClassesElement"}),t.keys&&a(t.keys.match(/\S+/g)||[],!0),t.extra&&a(t.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(t){var a=this;$.each(a.classesElementLookup,function(n,i){$.inArray(t.target,i)!==-1&&(a.classesElementLookup[n]=$(i.not(t.target).get()))})},_removeClass:function(t,a,n){return this._toggleClass(t,a,n,!1)},_addClass:function(t,a,n){return this._toggleClass(t,a,n,!0)},_toggleClass:function(t,a,n,i){i="boolean"==typeof i?i:n;var l="string"==typeof t||null===t,o={extra:l?a:n,keys:l?t:a,element:l?this.element:t,add:i};return o.element.toggleClass(this._classes(o),i),this},_on:function(t,a,n){var i,l=this;"boolean"!=typeof t&&(n=a,a=t,t=!1),n?(a=i=$(a),this.bindings=this.bindings.add(a)):(n=a,a=this.element,i=this.widget()),$.each(n,function(n,o){function r(){if(t||l.options.disabled!==!0&&!$(this).hasClass("ui-state-disabled"))return("string"==typeof o?l[o]:o).apply(l,arguments)}"string"!=typeof o&&(r.guid=o.guid=o.guid||r.guid||$.guid++);var s=n.match(/^([\w:-]*)\s*(.*)$/),d=s[1]+l.eventNamespace,u=s[2];u?i.on(d,u,r):a.on(d,r)})},_off:function(t,a){a=(a||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(a).off(a),this.bindings=$(this.bindings.not(t).get()),this.focusable=$(this.focusable.not(t).get()),this.hoverable=$(this.hoverable.not(t).get())},_delay:function(t,a){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,a||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass($(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass($(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass($(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass($(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,a,n){var i,l,o=this.options[t];if(n=n||{},a=$.Event(a),a.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),a.target=this.element[0],l=a.originalEvent)for(i in l)i in a||(a[i]=l[i]);return this.element.trigger(a,n),!($.isFunction(o)&&o.apply(this.element[0],[a].concat(n))===!1||a.isDefaultPrevented())}},$.each({show:"fadeIn",hide:"fadeOut"},function(t,a){$.Widget.prototype["_"+t]=function(n,i,l){"string"==typeof i&&(i={effect:i});var o,r=i?i===!0||"number"==typeof i?a:i.effect||a:t;i=i||{},"number"==typeof i&&(i={duration:i}),o=!$.isEmptyObject(i),i.complete=l,i.delay&&n.delay(i.delay),o&&$.effects&&$.effects.effect[r]?n[t](i):r!==t&&n[r]?n[r](i.duration,i.easing,l):n.queue(function(a){$(this)[t](),l&&l.call(n[0]),a()})}});$.widget})},function(t,a,n){var i,l,o;!function(r){"use strict";l=[n(25)],i=r,o="function"==typeof i?i.apply(a,l):i,!(void 0!==o&&(t.exports=o))}(function($){"use strict";var t=0,a=$,n="parseJSON";"JSON"in window&&"parse"in JSON&&(a=JSON,n="parse"),$.ajaxTransport("iframe",function(a){if(a.async){var n,i,l,o=a.initialIframeSrc||"javascript:false;";return{send:function(r,s){n=$('<form style="display:none;"></form>'),n.attr("accept-charset",a.formAcceptCharset),l=/\?/.test(a.url)?"&":"?","DELETE"===a.type?(a.url=a.url+l+"_method=DELETE",a.type="POST"):"PUT"===a.type?(a.url=a.url+l+"_method=PUT",a.type="POST"):"PATCH"===a.type&&(a.url=a.url+l+"_method=PATCH",a.type="POST"),t+=1,i=$('<iframe src="'+o+'" name="iframe-transport-'+t+'"></iframe>').bind("load",function(){var t,l=$.isArray(a.paramName)?a.paramName:[a.paramName];i.unbind("load").bind("load",function(){var t;try{if(t=i.contents(),!t.length||!t[0].firstChild)throw new Error}catch(e){t=void 0}s(200,"success",{"iframe":t}),$('<iframe src="'+o+'"></iframe>').appendTo(n),window.setTimeout(function(){n.remove()},0)}),n.prop("target",i.prop("name")).prop("action",a.url).prop("method",a.type),a.formData&&$.each(a.formData,function(t,a){$('<input type="hidden"/>').prop("name",a.name).val(a.value).appendTo(n)}),a.fileInput&&a.fileInput.length&&"POST"===a.type&&(t=a.fileInput.clone(),a.fileInput.after(function(a){return t[a]}),a.paramName&&a.fileInput.each(function(t){$(this).prop("name",l[t]||a.paramName)}),n.append(a.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),a.fileInput.removeAttr("form")),n.submit(),t&&t.length&&a.fileInput.each(function(a,n){var i=$(t[a]);$(n).prop("name",i.prop("name")).attr("form",i.attr("form")),i.replaceWith(n)})}),n.append(i).appendTo(document.body)},abort:function(){i&&i.unbind("load").prop("src",o),n&&n.remove()}}}}),$.ajaxSetup({converters:{"iframe text":function(t){return t&&$(t[0].body).text()},"iframe json":function(t){return t&&a[n]($(t[0].body).text())},"iframe html":function(t){return t&&$(t[0].body).html()},"iframe xml":function(t){var a=t&&t[0];return a&&$.isXMLDoc(a)?a:$.parseXML(a.XMLDocument&&a.XMLDocument.xml||$(a.body).html())},"iframe script":function(t){return t&&$.globalEval($(t[0].body).text())}}})})},function(t,a,n){var i,l,o;!function(r){"use strict";l=[n(25)],i=r,o="function"==typeof i?i.apply(a,l):i,!(void 0!==o&&(t.exports=o))}(function($){"use strict";window.XDomainRequest&&!$.support.cors&&$.ajaxTransport(function(t){if(t.crossDomain&&t.async){t.timeout&&(t.xdrTimeout=t.timeout,delete t.timeout);var a;return{send:function(n,i){function l(t,n,l,o){a.onload=a.onerror=a.ontimeout=$.noop,a=null,i(t,n,l,o)}var o=/\?/.test(t.url)?"&":"?";a=new XDomainRequest,"DELETE"===t.type?(t.url=t.url+o+"_method=DELETE",t.type="POST"):"PUT"===t.type?(t.url=t.url+o+"_method=PUT",t.type="POST"):"PATCH"===t.type&&(t.url=t.url+o+"_method=PATCH",t.type="POST"),a.open(t.type,t.url),a.onload=function(){l(200,"OK",{text:a.responseText},"Content-Type: "+a.contentType)},a.onerror=function(){l(404,"Not Found")},t.xdrTimeout&&(a.ontimeout=function(){l(0,"timeout")},a.timeout=t.xdrTimeout),a.send(t.hasContent&&t.data||null)},abort:function(){a&&(a.onerror=$.noop(),a.abort())}}}})})},function(t,a,n){var i,l,o;!function(r){"use strict";l=[n(25),n(81)],i=r,o="function"==typeof i?i.apply(a,l):i,!(void 0!==o&&(t.exports=o))}(function($){"use strict";function t(t){var a="dragover"===t;return function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var n=e.dataTransfer;n&&$.inArray("Files",n.types)!==-1&&this._trigger(t,$.Event(t,{delegatedEvent:e}))!==!1&&(e.preventDefault(),a&&(n.dropEffect="copy"))}}$.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||$('<input type="file"/>').prop("disabled")),$.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),$.support.xhrFormDataFileUpload=!!window.FormData,$.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),$.widget("blueimp.fileupload",{options:{dropZone:$(document),pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(t,a){return t=this.messages[t]||t.toString(),a&&$.each(a,function(a,n){t=t.replace("{"+a+"}",n)}),t},formData:function(t){return t.serializeArray()},add:function(e,t){return!e.isDefaultPrevented()&&void((t.autoUpload||t.autoUpload!==!1&&$(this).fileupload("option","autoUpload"))&&t.process().done(function(){t.submit()}))},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:$.support.blobSlice&&function(){var t=this.slice||this.webkitSlice||this.mozSlice;return t.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(t,a,n){var i=t-this.timestamp;return(!this.bitrate||!n||i>n)&&(this.bitrate=(a-this.loaded)*(1e3/i)*8,this.loaded=a,this.timestamp=t),this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&$.support.xhrFileUpload||$.support.xhrFormDataFileUpload)},_getFormData:function(t){var a;return"function"===$.type(t.formData)?t.formData(t.form):$.isArray(t.formData)?t.formData:"object"===$.type(t.formData)?(a=[],$.each(t.formData,function(t,n){a.push({name:t,value:n})}),a):[]},_getTotal:function(t){var a=0;return $.each(t,function(t,n){a+=n.size||1}),a},_initProgressObject:function(t){var a={loaded:0,total:0,bitrate:0};t._progress?$.extend(t._progress,a):t._progress=a},_initResponseObject:function(t){var a;if(t._response)for(a in t._response)t._response.hasOwnProperty(a)&&delete t._response[a];else t._response={}},_onProgress:function(e,t){if(e.lengthComputable){var a,n=Date.now?Date.now():(new Date).getTime();if(t._time&&t.progressInterval&&n-t._time<t.progressInterval&&e.loaded!==e.total)return;t._time=n,a=Math.floor(e.loaded/e.total*(t.chunkSize||t._progress.total))+(t.uploadedBytes||0),this._progress.loaded+=a-t._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(n,this._progress.loaded,t.bitrateInterval),t._progress.loaded=t.loaded=a,t._progress.bitrate=t.bitrate=t._bitrateTimer.getBitrate(n,a,t.bitrateInterval),this._trigger("progress",$.Event("progress",{delegatedEvent:e}),t),this._trigger("progressall",$.Event("progressall",{delegatedEvent:e}),this._progress)}},_initProgressListener:function(t){var a=this,n=t.xhr?t.xhr():$.ajaxSettings.xhr();n.upload&&($(n.upload).bind("progress",function(e){var n=e.originalEvent;e.lengthComputable=n.lengthComputable,e.loaded=n.loaded,e.total=n.total,a._onProgress(e,t)}),t.xhr=function(){return n})},_isInstanceOf:function(t,a){return Object.prototype.toString.call(a)==="[object "+t+"]"},_initXHRData:function(t){var a,n=this,i=t.files[0],l=t.multipart||!$.support.xhrFileUpload,o="array"===$.type(t.paramName)?t.paramName[0]:t.paramName;t.headers=$.extend({},t.headers),t.contentRange&&(t.headers["Content-Range"]=t.contentRange),l&&!t.blob&&this._isInstanceOf("File",i)||(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(i.uploadName||i.name)+'"'),l?$.support.xhrFormDataFileUpload&&(t.postMessage?(a=this._getFormData(t),t.blob?a.push({name:o,value:t.blob}):$.each(t.files,function(n,i){a.push({name:"array"===$.type(t.paramName)&&t.paramName[n]||o,value:i})})):(n._isInstanceOf("FormData",t.formData)?a=t.formData:(a=new FormData,$.each(this._getFormData(t),function(t,n){a.append(n.name,n.value)})),t.blob?a.append(o,t.blob,i.uploadName||i.name):$.each(t.files,function(i,l){(n._isInstanceOf("File",l)||n._isInstanceOf("Blob",l))&&a.append("array"===$.type(t.paramName)&&t.paramName[i]||o,l,l.uploadName||l.name)})),t.data=a):(t.contentType=i.type||"application/octet-stream",t.data=t.blob||i),t.blob=null},_initIframeSettings:function(t){var a=$("<a></a>").prop("href",t.url).prop("host");t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&a&&a!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(t){this._isXHRUpload(t)?(this._chunkedUpload(t,!0)||(t.data||this._initXHRData(t),this._initProgressListener(t)),t.postMessage&&(t.dataType="postmessage "+(t.dataType||""))):this._initIframeSettings(t)},_getParamName:function(t){var a=$(t.fileInput),n=t.paramName;return n?$.isArray(n)||(n=[n]):(n=[],a.each(function(){for(var t=$(this),a=t.prop("name")||"files[]",i=(t.prop("files")||[1]).length;i;)n.push(a),i-=1}),n.length||(n=[a.prop("name")||"files[]"])),n},_initFormSettings:function(t){t.form&&t.form.length||(t.form=$(t.fileInput.prop("form")),t.form.length||(t.form=$(this.options.fileInput.prop("form")))),t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||"string"===$.type(t.form.prop("method"))&&t.form.prop("method")||"").toUpperCase(),"POST"!==t.type&&"PUT"!==t.type&&"PATCH"!==t.type&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var a=$.extend({},this.options,t);return this._initFormSettings(a),this._initDataSettings(a),a},_getDeferredState:function(t){return t.state?t.state():t.isResolved()?"resolved":t.isRejected()?"rejected":"pending"},_enhancePromise:function(t){return t.success=t.done,t.error=t.fail,t.complete=t.always,t},_getXHRPromise:function(t,a,n){var i=$.Deferred(),l=i.promise();return a=a||this.options.context||l,t===!0?i.resolveWith(a,n):t===!1&&i.rejectWith(a,n),l.abort=i.promise,this._enhancePromise(l)},_addConvenienceMethods:function(e,t){var a=this,n=function(t){return $.Deferred().resolveWith(a,t).promise()};t.process=function(i,l){return(i||l)&&(t._processQueue=this._processQueue=(this._processQueue||n([this])).then(function(){return t.errorThrown?$.Deferred().rejectWith(a,[t]).promise():n(arguments)}).then(i,l)),this._processQueue||n([this])},t.submit=function(){return"pending"!==this.state()&&(t.jqXHR=this.jqXHR=a._trigger("submit",$.Event("submit",{delegatedEvent:e}),this)!==!1&&a._onSend(e,this)),this.jqXHR||a._getXHRPromise()},t.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",a._trigger("fail",null,this),a._getXHRPromise(!1))},t.state=function(){return this.jqXHR?a._getDeferredState(this.jqXHR):this._processQueue?a._getDeferredState(this._processQueue):void 0},t.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===a._getDeferredState(this._processQueue)},t.progress=function(){return this._progress},t.response=function(){return this._response}},_getUploadedBytes:function(t){var a=t.getResponseHeader("Range"),n=a&&a.split("-"),i=n&&n.length>1&&parseInt(n[1],10);return i&&i+1},_chunkedUpload:function(t,a){t.uploadedBytes=t.uploadedBytes||0;var n,i,l=this,o=t.files[0],r=o.size,s=t.uploadedBytes,d=t.maxChunkSize||r,u=this._blobSlice,c=$.Deferred(),f=c.promise();return!(!(this._isXHRUpload(t)&&u&&(s||("function"===$.type(d)?d(t):d)<r))||t.data)&&(!!a||(s>=r?(o.error=t.i18n("uploadedBytes"),this._getXHRPromise(!1,t.context,[null,"error",o.error])):(i=function(){var a=$.extend({},t),f=a._progress.loaded;a.blob=u.call(o,s,s+("function"===$.type(d)?d(a):d),o.type),a.chunkSize=a.blob.size,a.contentRange="bytes "+s+"-"+(s+a.chunkSize-1)+"/"+r,l._initXHRData(a),l._initProgressListener(a),n=(l._trigger("chunksend",null,a)!==!1&&$.ajax(a)||l._getXHRPromise(!1,a.context)).done(function(n,o,d){s=l._getUploadedBytes(d)||s+a.chunkSize,f+a.chunkSize-a._progress.loaded&&l._onProgress($.Event("progress",{lengthComputable:!0,loaded:s-a.uploadedBytes,total:s-a.uploadedBytes}),a),t.uploadedBytes=a.uploadedBytes=s,a.result=n,a.textStatus=o,a.jqXHR=d,l._trigger("chunkdone",null,a),l._trigger("chunkalways",null,a),s<r?i():c.resolveWith(a.context,[n,o,d])}).fail(function(t,n,i){a.jqXHR=t,a.textStatus=n,a.errorThrown=i,l._trigger("chunkfail",null,a),l._trigger("chunkalways",null,a),c.rejectWith(a.context,[t,n,i])})},this._enhancePromise(f),f.abort=function(){return n.abort()},i(),f)))},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(t,a,n,i){var l=i._progress.total,o=i._response;i._progress.loaded<l&&this._onProgress($.Event("progress",{lengthComputable:!0,loaded:l,total:l}),i),o.result=i.result=t,o.textStatus=i.textStatus=a,o.jqXHR=i.jqXHR=n,this._trigger("done",null,i)},_onFail:function(t,a,n,i){var l=i._response;i.recalculateProgress&&(this._progress.loaded-=i._progress.loaded,this._progress.total-=i._progress.total),l.jqXHR=i.jqXHR=t,l.textStatus=i.textStatus=a,l.errorThrown=i.errorThrown=n,this._trigger("fail",null,i)},_onAlways:function(t,a,n,i){this._trigger("always",null,i)},_onSend:function(e,t){t.submit||this._addConvenienceMethods(e,t);var a,n,i,l,o=this,r=o._getAJAXSettings(t),s=function(){return o._sending+=1,r._bitrateTimer=new o._BitrateTimer,a=a||((n||o._trigger("send",$.Event("send",{delegatedEvent:e}),r)===!1)&&o._getXHRPromise(!1,r.context,n)||o._chunkedUpload(r)||$.ajax(r)).done(function(t,a,n){o._onDone(t,a,n,r)}).fail(function(t,a,n){o._onFail(t,a,n,r)}).always(function(t,a,n){if(o._onAlways(t,a,n,r),o._sending-=1,o._active-=1,r.limitConcurrentUploads&&r.limitConcurrentUploads>o._sending)for(var i=o._slots.shift();i;){if("pending"===o._getDeferredState(i)){i.resolve();break}i=o._slots.shift()}0===o._active&&o._trigger("stop")})};return this._beforeSend(e,r),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(i=$.Deferred(),this._slots.push(i),l=i.then(s)):(this._sequence=this._sequence.then(s,s),l=this._sequence),l.abort=function(){return n=[void 0,"abort","abort"],a?a.abort():(i&&i.rejectWith(r.context,n),s())},this._enhancePromise(l)):s()},_onAdd:function(e,t){var a,n,i,l,o=this,r=!0,s=$.extend({},this.options,t),d=t.files,u=d.length,c=s.limitMultiFileUploads,f=s.limitMultiFileUploadSize,h=s.limitMultiFileUploadSizeOverhead,p=0,m=this._getParamName(s),g=0;if(!u)return!1;if(f&&void 0===d[0].size&&(f=void 0),(s.singleFileUploads||c||f)&&this._isXHRUpload(s))if(s.singleFileUploads||f||!c)if(!s.singleFileUploads&&f)for(i=[],a=[],l=0;l<u;l+=1)p+=d[l].size+h,(l+1===u||p+d[l+1].size+h>f||c&&l+1-g>=c)&&(i.push(d.slice(g,l+1)),n=m.slice(g,l+1),n.length||(n=m),a.push(n),g=l+1,p=0);else a=m;else for(i=[],a=[],l=0;l<u;l+=c)i.push(d.slice(l,l+c)),n=m.slice(l,l+c),n.length||(n=m),a.push(n);else i=[d],a=[m];return t.originalFiles=d,$.each(i||d,function(n,l){var s=$.extend({},t);return s.files=i?l:[l],s.paramName=a[n],o._initResponseObject(s),o._initProgressObject(s),o._addConvenienceMethods(e,s),r=o._trigger("add",$.Event("add",{delegatedEvent:e}),s)}),r},_replaceFileInput:function(t){var a=t.fileInput,n=a.clone(!0),i=a.is(document.activeElement);t.fileInputClone=n,$("<form></form>").append(n)[0].reset(),a.after(n).detach(),i&&n.focus(),$.cleanData(a.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(t,i){return i===a[0]?n[0]:i}),a[0]===this.element[0]&&(this.element=n)},_handleFileTreeEntry:function(t,a){var n,i=this,l=$.Deferred(),o=[],r=function(e){e&&!e.entry&&(e.entry=t),l.resolve([e])},s=function(n){i._handleFileTreeEntries(n,a+t.name+"/").done(function(t){l.resolve(t)}).fail(r)},d=function(){n.readEntries(function(t){t.length?(o=o.concat(t),d()):s(o)},r)};return a=a||"",t.isFile?t._file?(t._file.relativePath=a,l.resolve(t._file)):t.file(function(t){t.relativePath=a,l.resolve(t)},r):t.isDirectory?(n=t.createReader(),d()):l.resolve([]),l.promise()},_handleFileTreeEntries:function(t,a){var n=this;return $.when.apply($,$.map(t,function(t){return n._handleFileTreeEntry(t,a)})).then(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){t=t||{};var a=t.items;return a&&a.length&&(a[0].webkitGetAsEntry||a[0].getAsEntry)?this._handleFileTreeEntries($.map(a,function(t){var a;return t.webkitGetAsEntry?(a=t.webkitGetAsEntry(),a&&(a._file=t.getAsFile()),a):t.getAsEntry()})):$.Deferred().resolve($.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){t=$(t);var a,n,i=t.prop("webkitEntries")||t.prop("entries");if(i&&i.length)return this._handleFileTreeEntries(i);if(a=$.makeArray(t.prop("files")),a.length)void 0===a[0].name&&a[0].fileName&&$.each(a,function(t,a){a.name=a.fileName,a.size=a.fileSize});else{if(n=t.prop("value"),!n)return $.Deferred().resolve([]).promise();a=[{name:n.replace(/^.*\\/,"")}]}return $.Deferred().resolve(a).promise()},_getFileInputFiles:function(t){return t instanceof $&&1!==t.length?$.when.apply($,$.map(t,this._getSingleFileInputFiles)).then(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(t)},_onChange:function(e){var t=this,a={fileInput:$(e.target),form:$(e.target.form)};this._getFileInputFiles(a.fileInput).always(function(n){a.files=n,t.options.replaceFileInput&&t._replaceFileInput(a),t._trigger("change",$.Event("change",{delegatedEvent:e}),a)!==!1&&t._onAdd(e,a)})},_onPaste:function(e){var t=e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.items,a={files:[]};t&&t.length&&($.each(t,function(t,n){var i=n.getAsFile&&n.getAsFile();i&&a.files.push(i)}),this._trigger("paste",$.Event("paste",{delegatedEvent:e}),a)!==!1&&this._onAdd(e,a))},_onDrop:function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var t=this,a=e.dataTransfer,n={};a&&a.files&&a.files.length&&(e.preventDefault(),this._getDroppedFiles(a).always(function(a){n.files=a,t._trigger("drop",$.Event("drop",{delegatedEvent:e}),n)!==!1&&t._onAdd(e,n)}))},_onDragOver:t("dragover"),_onDragEnter:t("dragenter"),_onDragLeave:t("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),$.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_destroy:function(){this._destroyEventHandlers()},_setOption:function(t,a){var n=$.inArray(t,this._specialOptions)!==-1;n&&this._destroyEventHandlers(),this._super(t,a),n&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;void 0===t.fileInput?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof $||(t.fileInput=$(t.fileInput)),t.dropZone instanceof $||(t.dropZone=$(t.dropZone)),t.pasteZone instanceof $||(t.pasteZone=$(t.pasteZone))},_getRegExp:function(t){var a=t.split("/"),n=a.pop();return a.shift(),new RegExp(a.join("/"),n)},_isRegExpOption:function(t,a){return"url"!==t&&"string"===$.type(a)&&/^\/.*\/[igm]{0,3}$/.test(a)},_initDataAttributes:function(){var t=this,a=this.options,n=this.element.data();$.each(this.element[0].attributes,function(i,l){var o,r=l.name.toLowerCase();/^data-/.test(r)&&(r=r.slice(5).replace(/-[a-z]/g,function(t){return t.charAt(1).toUpperCase()}),o=n[r],t._isRegExpOption(r,o)&&(o=t._getRegExp(o)),a[r]=o)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var a=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(n){t.files=n,a._onAdd(null,t)}):(t.files=$.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var a,n,i=this,l=$.Deferred(),o=l.promise();return o.abort=function(){return n=!0,a?a.abort():(l.reject(null,"abort","abort"),o)},this._getFileInputFiles(t.fileInput).always(function(o){if(!n){if(!o.length)return void l.reject();t.files=o,a=i._onSend(null,t),a.then(function(t,a,n){l.resolve(t,a,n)},function(t,a,n){l.reject(t,a,n)})}}),this._enhancePromise(o)}if(t.files=$.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})})},function(t,a,n){(function(t){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function l(t,a){if(!O)return t;var n=function(t){return new Promise(function(a){var n=new Image;n.onload=function(){a({width:n.width,height:n.height,image:n})},n.onerror=function(){a({width:null,
height:null,image:n})},n.src=t})},i=function(t,a){L.clearRect(-t,-a,2*t,2*a)},l=function(t,a,n,l,o){if(N.isOldIE)return t;D.width=a,D.height=n,i(a,n),L.rect(0,0,l,o),L.fillStyle="rgba(0,0,0,0)",L.fill(),L.fillRect(0,0,l,o),L.drawImage(t,0,0,a,n,0,0,l,o);var r=L.getImageData(0,0,l,o);return P.width=l,P.height=o,F.clearRect(0,0,l,o),F.putImageData(r,0,0),P.toDataURL()};return n(t).then(function(n){if(n.width&&n.height){var i=n.width,o=n.height,r=n.image,s=null,d=null;return Math.max(i,o)<=a?t:(i>o?(s=a,d=o/i*s):(d=a,s=i/o*d),l(r,i,o,s,d))}return t})}function o(t){for(var a="",n=new Uint8Array(t),i=n.byteLength,l=0;l<i;l++)a+=String.fromCharCode(n[l]);return window.btoa(a)}function r(t){return new Promise(function(a,n){var i=(new Date).getTime(),l=new FileReader;l.onloadend=function(e){if(l.error)return void a({e:e,base64img:null,value:null});if((new Date).getTime()-i>2e3)return void a({e:e,base64img:null,value:null});var n="data:"+t.type+";base64,"+o(l.result),r=new DataView(l.result),s=0,d=1;if(l.result.length<2||65496!=r.getUint16(s))return void a({e:e,base64img:n,value:d});s+=2;for(var u=r.byteLength;s<u-2;){var c=r.getUint16(s);switch(s+=2,c){case 65505:var f=r.getUint16(s);u=f-s,s+=2;break;case 274:d=r.getUint16(s+6,!1),u=0}}a({e:e,base64img:n,value:d})};try{l.readAsArrayBuffer(t.file)}catch(e){n()}})}function s(t){return new Promise(function(a,n){if(t.type)return t.type;var i=new FileReader;i.onloadend=function(e){for(var t=new Uint8Array(i.result).subarray(0,4),n="",l=0,o=t.length;l<o;l++)n+=t[l].toString(16);var r=null;switch(n){case"89504e47":r="image/png";break;case"47494638":r="image/gif";break;case"ffd8ffe0":case"ffd8ffe1":case"ffd8ffe2":r="image/jpeg"}a(r)};try{i.readAsArrayBuffer(fileData)}catch(e){a(null)}})}function d(t){if(null==t)return null;for(var a=x=x||["B","KB","MB","GB"],n=0,i=t;i>1024;)n++,i/=1024;return i.toFixed(2)+a[n]}a.__esModule=!0,a.FileUploader=a.fileSizeBeauty=void 0;var u=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},c=n(25),f=i(c),h=n(14),p=i(h),m=n(43),g=i(m),v=n(8),y=i(v),b=n(60),S=i(b),C=n(47),_=i(C),w=n(9),E=n(51),I=i(E),N=n(35),k=n(38),T=n(37),M=i(T);n(81),n(82),n(83),n(84),t.jQuery=t.$=f["default"];var x=null,D=document.createElement("canvas"),P=document.createElement("canvas"),O=!1,L=null,F=null;D.getContext&&(L=D.getContext("2d"),F=P.getContext("2d"),O=!!L.getImageData);var R={1:"rotate(0deg)",3:"rotate(180deg)",6:"rotate(90deg)",8:"rotate(270deg)"},A=p["default"].createClass({displayName:"FileUploader",getInitialState:function(){return this.maxFileNumber=this.props.maxFileNumber,{frId:null,isMultiple:this.props.isMultiple,maxFileNumber:this.props.maxFileNumber}},getDefaultProps:function(){return{image:!0}},shouldComponentUpdate:function(t,a){return!0},componentDidMount:function(){if(!N.isOldIE){var t=(0,f["default"])(this.refs.fileUploader);this.props.isMobile||t.on("click",function(e){e.stopPropagation()}),this.props.isMobile&&window.IN_WECHAT||t.fileupload({replaceFileInput:!1,add:this._addFile,singleFileUploads:!1,dropZone:t,drop:function(e){e.stopPropagation()}})}},_addFile:function(e,t){var a=this,n=(0,f["default"])(this.refs.fileUploader),i=this.state,l=i.maxFileNumber,o=i.frId,r=t.files,s=Math.min(l,r.length),d=0,u=[];M["default"].log("PFN --------- ",s,l,d,o,r),y["default"].forEach(r,function(t){return!(d>=s)&&(u.push(new Promise(function(n){a.uploadFile(t,0===d?o:null,n)})),void d++)}),this._promise=Promise.all(u).then(function(t){return a.props.onFlushFileProcess(),a._promise=null,n.val(""),!0})},componentWillUnmount:function(){N.isOldIE||(this.props.onDestroy&&this.props.onDestroy(),this.props.isMobile&&window.IN_WECHAT||(0,f["default"])(this.refs.fileUploader).fileupload("destroy").off("click"))},doSetFrId:function(t){N.isOldIE||(M["default"].log("set FRID ..",t),this.setState({frId:t}))},doUpdateInputInfo:function(t){var a=t.maxFileNumber,n=t.isMultiple;N.isOldIE||this.setState({maxFileNumber:a,isMultiple:n})},doUploadTigger:function(){N.isOldIE||(0,f["default"])(this.refs.fileUploader).trigger("click")},uploadFile:function(t,a,n){var i=this,l={file:t,name:t.name,type:t.type,size:t.size},o=Promise.resolve(!0);this.props.image?(!l.type&&window.FileReader&&window.Blob&&(o=s(t).then(function(t){return l.type=t,t&&(l.name=l.name+t.split("/")[1]),!0})),o.then(function(){var a=window.URL||window.webkitURL;return new Promise(function(n){if(a)try{var i=new Image;i.src=a.createObjectURL(t),i.onload=function(){n({width:this.width,height:this.height})},i.onerror=function(){n({width:0,height:0})}}catch(e){n({width:0,height:0})}else n({width:0,height:0})})}).then(function(t){l.resolution=t,a?i.props.onFileUpdate(l,a):i.props.onFileAdd(l),n(!0)})):o.then(function(){a?i.props.onFileUpdate(l,a):i.props.onFileAdd(l),n(!0)})},handleStop:function(e){e.stopPropagation()},handleInputChange:function(e){if(N.isOldIE){var t=e.target.value,a={file:!0,name:y["default"].last(t.split(/[\\\/]/g)),type:null,size:null};null!=this.props.fieldId&&this.props.fieldId!==_["default"].getPreparedFileIdx(this.props.cpId)?this.props.onFileUpdate(a,this.props.fieldId):this.props.onFileAdd(a),this.props.onFlushFileProcess()}else this.props.isMobile&&window.IN_WECHAT&&this._addFile(e,{files:e.target.files})},render:function(){var t=this.props,a={accept:t.fileTypeAccept,size:t.isMultiple?null:1};return N.isOldIE||(t.isMultiple&&(a.multiple="multiple"),a.size=null),p["default"].createElement("input",u({className:"fbc_ufInput",type:"file",ref:"fileUploader",name:"mkfup-"+(t.cpId||"cp")+"-"+(t.fieldId||"i")},a,{"data-idx":N.isOldIE?t.fieldId:null,onClick:this.handleStop,onChange:this.handleInputChange}))}}),W=p["default"].createClass({displayName:"FileBlock",getInitialState:function(){return{}},shouldComponentUpdate:function(t,a){return a.previewImg!==this.state.previewImg||a.previewImgOrientation!==this.state.previewImgOrientation||(!(0,k.shallowEqual)(t.item||{},this.props.item||{})||!(0,k.shallowEqual)(t.children||{},this.props.children||{}))},componentDidMount:function(){if(N.isOldIE||!this.props.item||this.props.item.error)this.setState({previewImg:null,previewImgOrientation:null});else{var t=this;r({file:this.props.item.fileData,type:this.props.item.type}).then(function(a){var n=(a.e,a.base64img),i=a.value;n?Promise.resolve(l(n,320)).then(function(a){t.setState({previewImg:a,previewImgOrientation:R[i||1]})}):t.setState({previewImg:n,previewImgOrientation:R[i||1]})})["catch"](function(){t.setState({previewImg:null,previewImgOrientation:null})})}!N.isOldIE&&p["default"].Children.count(this.props.children)&&this.props.onUpdateFileProcessId&&this.props.onUpdateFileProcessId((this.props.item||{}).idx||null)},componentWillUpdate:function(t){if(N.isOldIE||!t.item||t.item.name===(this.props.item||{}).name||t.item.error)(N.isOldIE||!t.item||t.item&&t.item.error)&&this.setState({previewImg:null,previewImgOrientation:null});else{var a=this;r({file:t.item.fileData,type:t.item.type}).then(function(t){var n=(t.e,t.base64img),i=t.value;n?Promise.resolve(l(n,320)).then(function(t){a.setState({previewImg:t,previewImgOrientation:R[i||1]})}):a.setState({previewImg:n,previewImgOrientation:R[i||1]})})["catch"](function(){a.setState({previewImg:null,previewImgOrientation:null})})}},componentDidUpdate:function(t){if(!N.isOldIE&&p["default"].Children.count(this.props.children)){var a=(this.props.item||{}).idx||null;((t.item||{}).idx||null!==a)&&this.props.onUpdateFileProcessId&&this.props.onUpdateFileProcessId((this.props.item||{}).idx||null)}},handleRemoveFile:function(e){e.stopPropagation(),this.props.onRemoveFile(this.props.item.idx)},handleSetRawId:function(){this.props.onUpdateFileProcessId&&this.props.onUpdateFileProcessId((this.props.item||{}).idx||null)},handleAddFile:function(){N.isOldIE||p["default"].Children.count(this.props.children)||this.props.onAddFile((this.props.item||{}).idx||null,!p["default"].Children.count(this.props.children))},getErrorInfo:function(){var t=this.props,a=t.item,n=t.maxSize;if(a&&a.error){var i=w.lang["cUploadFailed"+a.error];return"ILLEGAL_FILE_SIZE"===a.error&&(i=i({fileSize:n})),i}return null},render:function(){var t=this.props,a=t.item,n=(t.idx,t.isMobile),i=t.maxSize,l=t.children,o=this.state,r=o.previewImg,s=o.previewImgOrientation,d=null,u=null,c=null,f=null,h=null;if(a&&!a.error)n?(u=this._c_mobileRemoveFile=this._c_mobileRemoveFile||p["default"].createElement("div",{className:"fbc_pafRemoveWrapper"},p["default"].createElement("a",{className:"fbc_pafRemove",title:w.lang.cRemoveFile,onClick:this.handleRemoveFile},w.lang.cRemoveFile)),d=p["default"].createElement("div",{className:"fbc_paImgPreview"},p["default"].createElement("div",{className:(0,g["default"])("fbc_selectedImage",{"fbc_selectedImagePreview":r}),style:{backgroundImage:"url("+(r||"./images/form/IE8_ImgUploadSuccess.png")+")",transform:s}}))):(c=this._c_removeFile=this._c_removeFile||p["default"].createElement("a",{className:"fbc_pafRemove iconfont",title:w.lang.cRemoveFile,onClick:this.handleRemoveFile},String.fromCharCode(58982)),d=p["default"].createElement("div",{className:"fbc_paImgPreview"},c,p["default"].createElement("span",{className:"fbc_reUploadBtn"},w.lang.cPicAttachmentReload),p["default"].createElement("div",{className:(0,g["default"])("fbc_selectedImage",{"fbc_selectedImagePreview":r}),style:{backgroundImage:"url("+(r||"./images/form/IE8_ImgUploadSuccess.png")+")",transform:s}})));else{var m=a&&a.error;f=p["default"].createElement("div",{className:"fbc_paImgPlaceholder"},p["default"].createElement("i",{className:"iconfont fbc_paImgState"},String.fromCharCode(m?58938:58997))),h=p["default"].createElement("div",{className:"fbc_paContentInfo"},p["default"].createElement("p",{className:"fbc_paAddTitle"},w.lang.cPicAttachmentAddTitle),p["default"].createElement("p",{className:(0,g["default"])("fbc_paAddTips",{"error":m})},m?this.getErrorInfo():w.lang.cPicAttachmentAddTips({max:i})))}return p["default"].createElement("li",{className:(0,g["default"])("fbc_paItem",{"add":!a,"error":a&&a.error,"selected":a}),onClick:this.handleAddFile,onMouseDown:this.handleSetRawId,onTouchStart:this.handleSetRawId},p["default"].createElement("div",{className:"fbc_paItem_wrapper",key:"itemWrapper"},d,f,h,l),u)}}),B=1/0;a["default"]=p["default"].createClass({displayName:"Component(PictureAttachment)",mixins:[I["default"],S["default"]],getInitialState:function(){return this.uploaderFileList={},this.fileProcessContent={},{tipHint:!1}},componentWillUpdate:function(t,a){var n=t.valid;n&&n.indexOf("tipHint")>-1&&this.props.valid.indexOf("tipHint")===-1&&!a.tipHint&&this.setState({tipHint:!0})},componentDidUpdate:function(){var t=this;if(!N.isOldIE){var a=this.props,n=a.data,i=a.fill,l=n.fileNumber?+n.fileNumber:B,o=i?i.length:0,r=Math.max(n.isAcceptMultipleFile?l-o:1,1);this.refs.uploader&&this.refs.uploader.doUpdateInputInfo({maxFileNumber:r,isMultiple:r>1})}this.state.tipHint&&!this.tipHintTimer&&(this.tipHintTimer=setTimeout(function(){t.setState({tipHint:!1}),t.tipHintTimer=null},1200))},componentWillUnmount:function(){clearTimeout(this.tipHintTimer)},handleUpdateFileUploaderProcessId:function(t){this.refs.uploader.doSetFrId(t)},handleAddFile:function(t,a){this.refs.uploader.doSetFrId(t),a&&this.refs.uploader.doUploadTigger()},handleRemoveFile:function(t){_["default"].dispatch({type:"removeFile",id:this.props.data.id,idx:t})},handleFileAdd:function(t){this.fileProcessContent.add=[].concat(this.fileProcessContent.add||[],t)},handleFileUpdate:function(t,a){this.fileProcessContent.update=[].concat(this.fileProcessContent.update||[],{id:a,fileInfo:t})},handleFlushFileProcess:function(){var t=this.fileProcessContent;this.fileProcessContent={},_["default"].dispatch({type:"fileProcessFlush",isImage:!0,id:this.props.data.id,processData:t})},handleFileUploadDestroy:function(){this.uploaderFile=null},renderTips:function(){var t=this.props,a=t.data,n=(t.fill,t.valid),i=this.formStyle(),l=i.tipsStyle,o=this.state.tipHint,r=(n||[]).indexOf("tip")>-1,s=[];if(a.isLimitPicResolution){if(a.picMinWidth||a.picMaxWidth){var d="";a.picMinWidth&&a.picMaxWidth?d=a.picMinWidth+"px~"+a.picMaxWidth+"px":a.picMinWidth?d=">"+a.picMinWidth+"px":a.picMaxWidth&&(d="<"+a.picMaxWidth+"px"),s.push(w.lang.cPicAttachmentTipsWidth({value:d}))}if(a.picMinHeight||a.picMaxHeight){var u="";a.picMinHeight&&a.picMaxHeight?u=a.picMinHeight+"px~"+a.picMaxHeight+"px":a.picMinHeight?u=">"+a.picMinHeight+"px":a.picMaxHeight&&(u="<"+a.picMaxHeight+"px"),s.push(w.lang.cPicAttachmentTipsHeight({value:u}))}}return s=s.join(", "),p["default"].createElement("p",{className:(0,g["default"])("fbc_tips",{error:r&&o}),style:l},w.lang.cPicAttachmentTips({resolution:s?", "+s:""}))},renderFilePreviewList:function(){var t=this,a=this.props,n=a.data,i=a.fill,l=(a.valid,a.isMobile),o=n.isLimitFileSize&&n.fileSize?n.fileSize:500,r=null,s=!i||y["default"].isEmpty(i);n.isAcceptMultipleFile&&(s=i&&i.length&&i.length<(n.fileNumber?+n.fileNumber:B)||!i||y["default"].isEmpty(i));var d=[],u=i?i.length:0,c=n.fileNumber?+n.fileNumber:B,f=null;if(l&&!window.IN_WECHAT?f="image/bmp,image/jpeg,image/png,image/gif;capture=camera":window.IN_WECHAT,N.isOldIE||(this.uploaderFile=this.uploaderFile||p["default"].createElement(A,{ref:"uploader",isMultiple:!!n.isAcceptMultipleFile,isMobile:l,maxFileNumber:n.isAcceptMultipleFile?c-u:1,onFileUpdate:this.handleFileUpdate,onFileAdd:this.handleFileAdd,onFlushFileProcess:this.handleFlushFileProcess,fileTypeAccept:f,onDestroy:this.handleFileUploadDestroy})),y["default"].forEach(i,function(a,i){r=s||i+1!==u?null:t.uploaderFile,N.isOldIE&&(r=t.uploaderFileList[a.idx]=t.uploaderFileList[a.idx]||p["default"].createElement(A,{isMultiple:!1,maxFileNumber:1,cpId:n.id,key:"fi"+a.idx,onFileUpdate:t.handleFileUpdate,onFileAdd:t.handleFileAdd,onFlushFileProcess:t.handleFlushFileProcess,fieldId:a.idx})),d.push(p["default"].createElement(W,{key:"fp"+a.idx,item:a,idx:i,isMobile:l,maxSize:o,onUpdateFileProcessId:t.handleUpdateFileUploaderProcessId,onAddFile:t.handleAddFile,onRemoveFile:t.handleRemoveFile},r))}),s){var h=_["default"].getPreparedFileIdx(n.id);r=N.isOldIE?this.uploaderFileList[h]=this.uploaderFileList[h]||p["default"].createElement(A,{isMultiple:!1,maxFileNumber:1,cpId:n.id,key:"fi"+h,onFileUpdate:this.handleFileUpdate,onFileAdd:this.handleFileAdd,onFlushFileProcess:this.handleFlushFileProcess,fieldId:h}):this.uploaderFile,d.push(p["default"].createElement(W,{key:"fp"+h,item:null,idx:null,isMobile:l,maxSize:o,onUpdateFileProcessId:this.handleUpdateFileUploaderProcessId,onAddFile:this.handleAddFile,onRemoveFile:this.handleRemoveFile},r))}return d},render:function(){var t=this.props,a=t.data,n=(t.fill,t.valid),i=t.componentStyle,l=t.style,o=t.itemNum,r=t.isMobile,s={},d={};return r||2!==+a.cpLayout||(s={"float":"left",paddingTop:6,width:((l.bodyStyle||{}).cpTitleWidth||20)+"%"},d={"float":"left",width:100-((l.bodyStyle||{}).cpTitleWidth||20)+"%"},o&&o>1&&(s.width="auto",s.maxWidth="20%",d.width="80%")),p["default"].createElement("div",{className:(0,g["default"])("fb_component",a.type),id:a.id,style:i},p["default"].createElement("div",{className:"fb_componentText",style:s},this.renderTitle(a),this.renderSubtitle(a),this.renderTips(),this.renderError(n)),p["default"].createElement("div",{className:"fb_componentBody",style:d},p["default"].createElement("ul",{className:"fbc_pictureAttachment"},this.renderFilePreviewList(),p["default"].createElement("li",{className:"clearB"}))))}}),a.fileSizeBeauty=d,a.FileUploader=A}).call(a,function(){return this}())},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}a.__esModule=!0;var l=n(14),o=i(l),r=n(43),s=i(r),d=n(60),u=i(d),c=n(47),f=i(c),h=n(87),p=i(h),m=n(51),g=i(m);a["default"]=o["default"].createClass({displayName:"Component(Rate)",mixins:[g["default"],u["default"]],handleChange:function(t,e){var a=this.props.data,n=a.rateMax||5;t>n&&(t=n),f["default"].dispatch({type:"setRate",id:a.id,value:t})},render:function(){var t=this.props,a=t.data,n=t.fill,i=t.valid,l=t.componentStyle,r=t.isMobile,d=t.style,u=t.itemNum,c=this.formStyle(),f=c.tipsStyle,h=c.optionStyle,m={},g={};return r||2!==+a.cpLayout||(m={"float":"left",paddingTop:6,width:((d.bodyStyle||{}).cpTitleWidth||20)+"%"},g={"float":"left",width:100-((d.bodyStyle||{}).cpTitleWidth||20)+"%"},u&&u>1&&(m.width="auto",m.maxWidth="20%",g.width="80%")),o["default"].createElement("div",{className:(0,s["default"])("fb_component",a.type),id:a.id,style:l},o["default"].createElement("div",{className:"fb_componentText",style:m},this.renderTitle(a),this.renderSubtitle(a),this.renderError(i)),o["default"].createElement("div",{className:"fb_componentBody",style:g},o["default"].createElement("div",{className:"fbc_content"},o["default"].createElement(p["default"],{data:a,themeColor:d.themeColor,tipsStyle:f,optionStyle:h,value:n,onChange:this.handleChange,isMobile:r}))))}}),t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}a.__esModule=!0;var l=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=n(14),r=i(o),s=n(43),d=i(s),u=n(8),c=i(u),f=n(60),h=i(f),p=n(47),m=(i(p),n(55)),g=i(m),v=n(51),y=i(v);a["default"]=r["default"].createClass({displayName:"Component(RateGenerator)",mixins:[y["default"],h["default"]],getInitialState:function(){return{hover:0}},handleOnMouseOver:function(t,e){this.setState({hover:t})},handleOnMouseOut:function(t,e){this.setState({hover:0})},handleClick:function(t,e){this.props.onChange&&this.props.onChange(t,e)},renderRateItemMobile:function(t){var a=this.props,n=a.optionStyle,i=a.themeColor,l=this.props.data,o=l.rateMax,s=l.rateIcon,u=this.props.value?+this.props.value:0,f=4==s,h=6==s,p=Math.min(10,o),m={"fbc_rateItem":!f&&!h,"fbc_heatItem":f,"selected":t.idx<=u,"fbc_numItem":h,"numSelected":t.idx===u},v=null;if(f){var y={};t.idx<=u&&(y.backgroundColor=t.heatColorList[t.idx-1]||"#000"),v=r["default"].createElement("span",{className:(0,d["default"])(m),key:"rateItem"+t.idx},r["default"].createElement("span",{style:y}," "))}else{var b={};if(h&&(b=c["default"].assign({},n),t.idx===u)){var S=g["default"].convertToRGBObj.fromHex(i||"#2D8FD9"),C=g["default"].colorGrayLevel(S.r,S.g,S.b)<170;b.color=C?"#fff":"#000",b.backgroundColor=i||"#2D8FD9"}v=r["default"].createElement("span",{className:"fbc_rateItemBorder"},r["default"].createElement("span",{className:(0,d["default"])(m,"full-star"),style:b},h?t.idx:" "))}return r["default"].createElement("span",{className:"fbc_rateItemWrapper",key:"rateItem"+t.idx,style:{width:(1/p*100||20)+"%"},onClick:this.handleClick.bind(this,t.idx)},v)},renderRateItem:function(t){var a=this.state.hover,n=this.props,i=n.optionStyle,o=n.themeColor,s=this.props.data,u=s.rateMax,f=s.rateIcon,h=s.isAllowHalf,p=this.props.value?+this.props.value:0,m=!1,v=1==f||void 0==f,y=4==f,b=6==f;a>0&&!this.props.isMobile&&(m=p,p=a);var S={"fbc_rateItem":!y&&!b,"fbc_heatItem":y,"selected":t.idx<=p,"preSelected":!!m&&t.idx<=m,"fbc_numItem":b,"numSelected":t.idx===p},C={onMouseOver:this.handleOnMouseOver.bind(this,t.idx),onMouseOut:this.handleOnMouseOut.bind(this,t.idx),onClick:this.handleClick.bind(this,t.idx)};if(v){var _={"selected":h?t.idx-.5<=p:t.idx<=p,"preSelected":!!m&&(h?t.idx-.5<=m:t.idx<=m)},w=c["default"].assign({},C);return h&&(w.onMouseOver=this.handleOnMouseOver.bind(this,t.idx-.5),w.onMouseOut=this.handleOnMouseOut.bind(this,t.idx-.5),w.onClick=this.handleClick.bind(this,t.idx-.5)),r["default"].createElement("div",{className:"fbc_rateItemWrapper",key:"rateItem"+t.idx},r["default"].createElement("span",l({className:(0,d["default"])(S,"left-half",_)},w,{key:"rateItem"+t.idx-.5})," "),r["default"].createElement("span",l({className:(0,d["default"])(S,"right-half")},C,{key:"rateItem"+t.idx})," "))}if(y){var E={};return t.idx<=p?E.backgroundColor=t.heatColorList[t.idx-1]||"#000":t.idx<=m&&(E.backgroundColor=t.heatColorList[t.idx-1]||"#000"),r["default"].createElement("span",l({className:(0,d["default"])(S)},C,{key:"rateItem"+t.idx,style:{width:(1/u*100||20)+"%"}}),r["default"].createElement("span",{style:E}," "))}var I={};if(b&&(I=c["default"].assign({},i),t.idx===p||t.idx===m)){var N=g["default"].convertToRGBObj.fromHex(o||"#2D8FD9"),k=g["default"].colorGrayLevel(N.r,N.g,N.b)<170;I.color=k?"#fff":"#000",I.backgroundColor=o||"#2D8FD9"}return r["default"].createElement("span",l({className:(0,d["default"])("fbc_rateItemWrapper",S)},C,{key:"rateItem"+t.idx,style:I}),b?t.idx:" ")},render:function(){var t=this.props,a=t.data,n=t.tipsStyle,i=t.isMobile,l=a.rateIcon,o=a.rateMax,s=a.heatBarColorForm,u=a.heatBarColorTo,c=a.isShowTips,f=a.rateTipsLeft,h=a.rateTipsMiddle,p=a.rateTipsRight,m=1==l||void 0==l,v=4==l,y=6==l,b=i?10:a.cpWidth||8,S={"fbc_rateGroup":!0,"star":m,"heart":2==l,"thumb":3==l,"rose":5==l,"heatBar":v,"number":y,"fbc_widthCp":v},C=[];v&&(C=g["default"].gradientColor(s||"#f5d964",u||"#e94c3c",o||5));for(var _=[],w=0;w<(o||5);w++)_.push((i?this.renderRateItemMobile:this.renderRateItem)({idx:w+1,heatColorList:C}));var E=r["default"].createElement("div",{className:(0,d["default"])({"fbc_rateContent":!v,"fbc_heatBar":v}),key:"rateContent"},_,r["default"].createElement("div",{className:"clearB"})),I=null;c&&(f||h||p)&&(I=r["default"].createElement("p",{className:"fbc_rateTips",key:"rateTips",style:n},r["default"].createElement("span",{className:"fbc_rateTipsText left"},f),r["default"].createElement("span",{className:"fbc_rateTipsText middle"},h),r["default"].createElement("span",{className:"fbc_rateTipsText right"},p)));var N=[I,E];return 2==a.tipsPosition&&(N=[E,I]),r["default"].createElement("div",{className:(0,d["default"])(S),style:v||i?{width:10*b+"%"}:{}},N)}}),t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}a.__esModule=!0;var l=n(14),o=i(l),r=n(43),s=i(r),d=n(8),u=i(d),c=n(60),f=i(c),h=n(64),p=n(57),m=i(p),g=n(47),v=i(g),y=n(87),b=i(y),S=n(9),C=n(51),_=i(C);a["default"]=o["default"].createClass({displayName:"Component(Tabular)",mixins:[_["default"],f["default"]],componentWillMount:function(){this.renderItems=this.tabularItemFactory()},handleChange:function(t,a,n){var i=this.props.data,l={type:"setTabularValue",id:i.id,componentType:i.tabularType?+i.tabularType:1,qId:t};switch(+i.tabularType){case 3:l.value=n.target.value;break;case 4:var o=i.rateMax||5;n>o&&(n=o);var r=this.props.fill&&this.props.fill[t];r===n?l.value=null:l.value=n;break;case 1:case 2:default:l.value=a}v["default"].dispatch(l)},tabularItemFactory:function(){var t=this.props.data,a=this.props.isMobile,n=this,i=!1,l=this.formStyle(),r=l.optionStyle,d=l.inputStyle,c=l.textAreaStyle,f=l.tipsStyle;switch(+t.tabularType){case 3:return function(a){var i=n.props.fill,l="input",r=d;1==t.isAllowMulti&&(l="textarea",r=c);var s=i&&i[a];return s||(s=""),o["default"].createElement("td",{key:"td",className:"fbc_tContent"},o["default"].createElement(m["default"],{component:l,type:"text",className:"fbc_tabularInput "+l,style:r,onChange:this.handleChange.bind(n,a,null),value:s}))};case 4:return function(t){var i=this.props.fill,l=i&&i[t];l||(l=0);var s=n.props.data;return o["default"].createElement("td",{key:"td",className:"fbc_tContent"},o["default"].createElement(b["default"],{data:s,isMobile:a,value:l,themeColor:this.props.style.themeColor,tipsStyle:f,optionStyle:r,onChange:this.handleChange.bind(n,t,null)}))};case 2:i=!0;case 1:default:var p=h.CommonRadio;return i&&(p=h.CommonCheckbox),function(l){var d=this,c=[],f=n.props.fill;return u["default"].forEach(t.options,function(h,m){var g=m;if(!(t.ql2sMapping&&t.ql2sMapping[l]&&t.ql2sMapping[l][h.id]))return void console.error("component tabularOPT ID LOST ->."+h.id+" : "+JSON.stringify(h));g=t.ql2sMapping[l][h.id];var v={"fbc_optionVal":!0,"radio":!i,"checkbox":i,"checked":f&&(f[l]||[]).indexOf(g)>-1};c.push(o["default"].createElement("td",{key:"td"+m},o["default"].createElement("p",{className:(0,s["default"])(v),style:u["default"].assign({height:r.minHeight},r),onClick:d.handleChange.bind(n,l,g)},o["default"].createElement(p,{className:"fbc_optionSvg",fallbackClassName:"fbc_optionIcon",checked:f&&(f[l]||[]).indexOf(g)>-1,style:{padding:1,paddingTop:Math.ceil(Math.max((r.minHeight-(a?20:16))/2,0))}}))))}),c}}},render:function(){var t=this,a=this.props,n=a.data,i=(a.fill,a.valid),l=a.componentStyle,r=n.questionWidth||25,d=this.formStyle(),c=d.optionStyle,f=null;switch(+n.tabularType){case 3:case 4:f=o["default"].createElement("th",{key:"th",style:{width:100-r+"%"}},o["default"].createElement("p",{className:"fbc_tabularTitle",style:c},n.tipText||S.lang.cFillingPlaceholder));break;default:var h=(n.options||[]).length;f=u["default"].map(n.options,function(t,a){return o["default"].createElement("th",{key:"th"+a,style:{width:(100-r)/h+"%"}},o["default"].createElement("p",{className:"fbc_tabularTitle",style:c},t.value))})}var p=u["default"].map(n.questions,function(a,n){return o["default"].createElement("tr",{key:"tr"+n},o["default"].createElement("td",{key:"trTitle",className:"fbc_tTitleLeft"},o["default"].createElement("p",{className:"fbc_tabularTitle",style:c},a.value)),t.renderItems(a.id))});return o["default"].createElement("div",{className:(0,s["default"])("fb_component",n.type),id:n.id,style:l},this.renderTitle(n),this.renderSubtitle(n),this.renderError(i),o["default"].createElement("div",{className:"fbc_content"},o["default"].createElement("table",{className:"fbc_tabular"},o["default"].createElement("tbody",null,o["default"].createElement("tr",null,o["default"].createElement("th",{style:{width:r+"%"}}," "),f),p))))}}),t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}a.__esModule=!0;var l=n(14),o=i(l),r=n(43),s=i(r),d=n(8),u=i(d),c=n(60),f=i(c),h=n(64),p=n(57),m=i(p),g=n(47),v=i(g),y=n(87),b=i(y),S=n(9),C=n(51),_=i(C);a["default"]=o["default"].createClass({displayName:"Component(Tabular.Mobile)",mixins:[_["default"],f["default"]],componentWillMount:function(){this.renderItems=this.tabularItemFactory()},handleChange:function(t,a,n){var i=this.props.data,l={type:"setTabularValue",id:i.id,componentType:i.tabularType?+i.tabularType:1,qId:t};switch(+i.tabularType){case 3:l.value=n.target.value;break;case 4:var o=i.rateMax||5;n>o&&(n=o);var r=this.props.fill&&this.props.fill[t];r===n?l.value=null:l.value=n;break;case 1:case 2:default:l.value=a}v["default"].dispatch(l)},tabularItemFactory:function(){var t=this.props,a=t.data,n=t.isMobile,i=this,l=!1,r=this.formStyle(),d=r.optionStyle,c=r.inputStyle,f=r.textAreaStyle,p=r.tipsStyle;switch(+a.tabularType){case 3:return function(t,n){var l=i.props.fill,r="input",s=c;1==a.isAllowMulti&&(r="textarea",s=f);var d=l&&l[t];return d||(d=""),o["default"].createElement("div",{className:"fbc_tContent",key:"que"},o["default"].createElement(m["default"],{component:r,type:"text",className:"fbc_tabularInput "+r,placeholder:n,style:s,onChange:this.handleChange.bind(i,t,null),value:d}))};case 4:return function(t){var a=this.props.fill,l=a&&a[t];l||(l=0);var r=i.props.data;return o["default"].createElement("div",{key:"que",className:"fbc_tContent"},o["default"].createElement(b["default"],{data:r,isMobile:n,value:l,themeColor:this.props.style.themeColor,tipsStyle:p,optionStyle:d,onChange:this.handleChange.bind(i,t,null)}))};case 2:l=!0;case 1:default:var g=h.CommonRadio;return l&&(g=h.CommonCheckbox),function(t,r){var c=this,f=[],h=i.props.fill;return u["default"].forEach(r,function(r,u){var p=u;if(!(a.ql2sMapping&&a.ql2sMapping[t]&&a.ql2sMapping[t][r.id]))return void console.error("component tabularOPT ID LOST ->."+r.id+" : "+JSON.stringify(r));p=a.ql2sMapping[t][r.id];var m=h&&(h[t]||[]).indexOf(p)>-1,v={"radio":!l,"checkbox":l,"checked":m};f.push(o["default"].createElement("li",{className:(0,s["default"])("fbc_optionsLi",v),key:"item"+u,style:d,onClick:c.handleChange.bind(i,t,p)},o["default"].createElement("p",{className:"fbc_optionVal"},o["default"].createElement(g,{className:"fbc_optionSvg",fallbackClassName:"fbc_optionIcon",checked:m,style:{paddingTop:Math.ceil(Math.max((d.minHeight-(n?20:16))/2,0))}}),o["default"].createElement("span",{className:"fbc_optionLabel"},r.value))))}),o["default"].createElement("ul",null,f,o["default"].createElement("li",{className:"clearB"}))}}},render:function(){var t=this,a=this.props,n=a.data,i=(a.fill,a.valid),l=a.componentStyle,r=this.formStyle(),d=r.optionStyle,c=null;switch(+n.tabularType){case 3:case 4:c=n.tipText||S.lang.cFillingPlaceholder;break;default:c=n.options}var f=u["default"].map(n.questions,function(a,n){return o["default"].createElement("div",{className:"fbc_tabularQuestion",key:"ques"+n},o["default"].createElement("p",{className:"fbc_tabularTitle",style:u["default"].omit(d,"minHeight")},a.value),t.renderItems(a.id,c))});return o["default"].createElement("div",{className:(0,s["default"])("fb_component",n.type),id:n.id,style:l},this.renderTitle(n),this.renderSubtitle(n),this.renderError(i),o["default"].createElement("div",{className:"fbc_content"},f))}}),t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function l(t,a){switch(t){case"1":return N.serialNumberGenerator.alphaNumberUpper(a);case"2":return N.serialNumberGenerator.alphaNumberLower(a);case"3":return N.serialNumberGenerator.numberSimple(a);case"4":return N.serialNumberGenerator.romanNumberUpper(a);default:return""}}function o(t,a,n){return{connectDragSource:t.dragSource(),isDragging:a.isDragging}}function r(t,a,n){return{connectDropTarget:t.dropTarget(),isDragging:a.isDragging(),hover:a.isOverTarget(n)}}function s(){return(0,I.bindContext)(I.eventCore)(A)}a.__esModule=!0;var d=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};a["default"]=s;var u=n(25),c=i(u),f=n(14),h=i(f),p=n(26),m=i(p),g=n(43),v=i(g),y=n(8),b=i(y),S=n(60),C=i(S),_=n(47),w=i(_),E=n(9),I=n(91),N=n(61),k=n(51),T=i(k),M=!1,x={beginDrag:function(t,a,n){t.setPosition&&t.setPosition([0,0]),M=!1},canDrag:function(t,a,n){return"rankDrag"===a.getSourceType(n)},dragging:function(t,a){var n=a.getDifferenceFromInitialOffset(),i=n||{x:0,y:0},l=i.x,o=i.y;M=!0,t.setPosition&&t.setPosition([l,o])},endDrag:function(t,a,n){t.runDispatch&&t.runDispatch(),t.setPosition&&t.setPosition([0,0],!0)}},D=h["default"].createClass({displayName:"RankItem",mixins:[T["default"]],contextTypes:{dragDropManager:h["default"].PropTypes.object.isRequired},getInitialState:function(){return this.manager=this.context.dragDropManager,this.status=this.manager.getStatus(),{}},handleClick:function(e){return M?void(M=!1):void(this.props.onClick&&this.props.onClick(e))},handleKeyPress:function(e){var t=this.props,a=t.onClick,n=t.onDragBarClick,i=t.isAnswer;13!==e.which&&32!==e.which||(i?n&&n(e,{isKeyboard:!0,index:this.props.num}):a&&a(e,{isKeyboard:!0,index:this.props.num}))},render:function(){var t=this.props,a=t.connectDragSource,n=t.value,i=t.dragBar,l=t.optionStyle,o=t.isAnswer,r=t.num,s=t.rankDigitsTotal,d=t.position,u=t.dragging,c=t.onDragBarClick;return a(h["default"].createElement("div",{className:(0,v["default"])("fbc_roItem","aria-content",{dragging:u}),key:"rOpt"+r,tabIndex:1,role:"button","aria-label":n+" , "+(null!=o?E.lang.ariaRankTipsProcessed({num:r+1,total:s}):E.lang.ariaRankTipsWaiting),style:b["default"].assign({position:"relative",left:d[0],top:d[1]},l),onClick:this.handleClick,onKeyPress:this.handleKeyPress},h["default"].createElement("p",{className:"fbc_roInfo"},n),i?h["default"].createElement("a",{className:"fbc_rsDragBar iconfont",onClick:c},String.fromCharCode(58982)):h["default"].createElement("a",{className:"fbc_roDragBar"})))}}),P=(0,I.bindDragSource)("rankDrag",x,o)(D),O={canDrop:function(){return!0},drop:function(t){t.active&&t.setDispatch({type:"setRank",
id:t.data.id,num:t.num,value:t.active})}},L=h["default"].createClass({displayName:"_answerItem",mixins:[T["default"]],handleFilledPosition:function(){for(var t=this.props,a=t.fill,n=t.num,i=t.setPosition,l=arguments.length,o=Array(l),r=0;r<l;r++)o[r]=arguments[r];a&&a[n]&&i&&i.apply(void 0,[a[n]].concat(o)),this.oldId&&this.oldId!==a[n]&&i&&i.apply(void 0,[this.oldId].concat(o)),this.oldId=a[n]},handleRemoveItem:function(e,t){var a=this.props,n=a.fill[a.num];w["default"].dispatch({type:"removeRank",id:a.data.id,value:n});var i=a.hidden.slice(),l=i.indexOf(n);i.splice(l,1),a.handleHiddenItems(i),a.onRemoveItem&&a.onRemoveItem(e,t)},render:function(){var t=this.props,a=t.connectDropTarget,n=t.hover,i=t.data,l=t.fill,o=t.num,r=t.optionStyle,s=t.active,d=t.position,u=t.runDispatch,c=t.rankDigits,f=String.fromCharCode(160);if(l&&l[o]){var p=b["default"].find(i.options,{sId:l[o]});f=h["default"].createElement(P,{key:o,value:p.value,num:o,isAnswer:!0,rankDigitsTotal:c,dragBar:!0,optionStyle:r,dragging:s===p.sId,position:d[p.sId],setPosition:this.handleFilledPosition,onDragBarClick:this.handleRemoveItem,runDispatch:u})}return a(h["default"].createElement("li",{className:(0,v["default"])("fbc_raItem",{"fbc_raFilled":l&&l[o],"fbc_raHovered":n}),key:"rAns"+o,style:b["default"].assign({position:"relative"},r)},h["default"].createElement("p",{className:(0,v["default"])("fbc_raNum")},o+1),h["default"].createElement("div",{className:(0,v["default"])("fbc_raGroove")},h["default"].createElement("div",{className:"fbc_ragInfo"},f)),h["default"].createElement("div",{className:"clearB"})))}}),F=(0,I.bindDropTarget)("answer",O,r)(L),R=h["default"].createClass({displayName:"SortBoard",mixins:[T["default"]],render:function(){for(var t=this.props.rankDigits,a=[],n=0;n<t;n++)a.push(h["default"].createElement(F,d({key:n},this.props,{num:n})));return h["default"].createElement("ul",{className:"fbc_rankAnswer"},a)}}),A=h["default"].createClass({displayName:"Component(Rank)",mixins:[T["default"],C["default"]],getInitialState:function(){var t={};b["default"].forEach(this.props.data.options,function(a){t[a.sId]=[0,0]});var a=[];return b["default"].forEach(this.props.fill,function(t){a.push(t)}),{position:t,active:null,hidden:a}},componentWillUpdate:function(t){if(this.needUpdateHidden){var a=t.fill,n=[];b["default"].forEach(a,function(t){n.push(t)}),this.setState({hidden:n}),this.needUpdateHidden=!1}},componentDidUpdate:function(){var t=this;if(this.aria){var a=this.aria;this.triggerTimer=setTimeout(function(){if(a){var n=(0,c["default"])(m["default"].findDOMNode(t.refs.component)),i=n.find(".fbc_rankOption .fbc_roItem"),l=n.find(".fbc_content_finished");l.length>0?l.eq(0).focus():i.length>0?i.eq(0).focus():n.find(".fbc_content").eq(0).focus()}},30),this.aria=!1}},componentWillUnmount:function(){clearTimeout(this.triggerTimer)},handleSetPosition:function(t,a,n){var i={};i[t]=a;var l={position:b["default"].assign({},this.state.position,i),active:n?null:t};if(n){var o=[];b["default"].forEach(this.props.fill,function(t){o.push(t)}),l.hidden=o}this.setState(l)},handleHiddenItems:function(t){this.setState({hidden:t})},handleClickAddRank:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=a.isKeyboard,i=this.props;w["default"].dispatch({type:"setNextRank",id:i.data.id,value:t,total:i.data.trueDigits}),this.needUpdateHidden=!0,n&&(this.aria="add")},handleRemoveRank:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.isKeyboard;a&&(this.aria="remove")},handleSetDispatch:function(t){this.dispatchInfo=t},handleRunDispatch:function(){this.dispatchInfo&&(w["default"].dispatch(this.dispatchInfo),M=!1,this.dispatchInfo=null)},render:function(){var t=this.props,a=t.data,n=t.fill,i=t.valid,o=t.componentStyle,r=this.formStyle(),s=r.optionStyle,u=r.tipsStyle,c=(a.options||[]).length,f=a.isLimitDigit?a.rankDigits||c:c,p=null,m=a.options||[],g=[],y=[];y=i&&i.length>0?["err"+a.id,"title"+a.id,"subtitle"+a.id,"tips"+a.id]:["title"+a.id,"subtitle"+a.id,"tips"+a.id];for(var S=0,C=m.length;S<C;S++)p=m[S],this.state.hidden.indexOf(p.sId)>-1||g.push(h["default"].createElement(P,{key:S,value:(a.isAutoNo?l(a.autoNo,S+1):"")+p.value,num:S,dragBar:!1,optionStyle:s,dragging:this.state.active===p.sId,position:this.state.position[p.sId],setPosition:this.handleSetPosition.bind(this,p.sId),onClick:this.handleClickAddRank.bind(this,p.sId),runDispatch:this.handleRunDispatch}));return h["default"].createElement("div",{className:(0,v["default"])("fb_component",a.type),id:a.id,style:o,ref:"component"},this.renderTitle(a),this.renderSubtitle(a),h["default"].createElement("p",{className:"fbc_tips",id:"tips"+a.id,"aria-label":this.state.hidden.length===f?E.lang.ariaRankTipsFin({order:b["default"].map(this.state.hidden,function(t){var a=b["default"].find(m,{sId:t});return a?a.value:""})}):E.lang.ariaRankTips,style:u},E.lang.cRankTips),this.renderError(i),h["default"].createElement("div",{className:"fbc_content aria-content",tabIndex:1,role:"application","aria-required":a.isRequired,"aria-labelledby":y.join(" ")},h["default"].createElement(R,d({fill:n,rankDigits:f,optionStyle:s,data:a},this.state,{setPosition:this.handleSetPosition,handleHiddenItems:this.handleHiddenItems,onRemoveItem:this.handleRemoveRank,runDispatch:this.handleRunDispatch,setDispatch:this.handleSetDispatch})),h["default"].createElement("div",{className:"fbc_rankOption"},g)))}});t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}a.__esModule=!0,a.eventCore=a.createDragHelper=a.bindDragSource=a.bindDropTarget=a.bindContext=void 0;var l=n(92),o=i(l),r=n(94),s=i(r),d=n(95),u=i(d),c=n(100),f=n(101),h=i(f),p=h["default"];a.bindContext=u["default"],a.bindDropTarget=o["default"],a.bindDragSource=s["default"],a.createDragHelper=c.createDragHelper,a.eventCore=p},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function l(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function o(t,a){function n(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(f["default"].isValidElement(a)){var n=a;return(0,u.cloneWithRef)(n,function(a){a&&l.add(new u.Disposable(i.dropTarget(t,p["default"].findDOMNode(a))))})}}var i={dropTarget:function(){return a.connectDropTarget.apply(a,arguments)}},l=new u.CompositeDisposable;return{connector:{dropTarget:function(){return n}},disposable:l}}function r(t){var a=function(){function a(t){l(this,a),this.status=t,this.props=null,this.component=null}return a.prototype.receiveProps=function(t){this.props=t},a.prototype.receiveComponent=function(t){this.component=t},a.prototype.canDrop=function(){return!!t.canDrop&&t.canDrop(this.props,this.status)},a.prototype.hover=function(){if(t.hover)return t.hover(this.props,this.status,this.component)},a.prototype.blur=function(){if(t.blur)return t.blur(this.props,this.status)},a.prototype.drop=function(a,n){return t.drop?t.drop(this.props,this.status):null},a}();return function(t){return new a(t)}}function s(t,a,n){var i=void 0;i=g["default"].isFunction(t)?t:function(){return t};var l=r(a);return function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.displayName||t.name||"Component";return f["default"].createClass({displayName:"DropTarget("+r+")",contextTypes:{dragDropManager:f["default"].PropTypes.object.isRequired},getInitialState:function(){return this.manager=this.context.dragDropManager,this.currentType=null,this.disposable=new u.SerialDisposable,this.event=this.manager.getEvent(),this.status=this.manager.getStatus(),this.handler=l(this.status),this.receiveProps(this.props),this.getCurrentState()},shouldComponentUpdate:function(t,a){return!(0,u.shallowEqualScalar)(t,this.props)||!(0,u.shallowEqual)(a,this.state)},componentWillReceiveProps:function(t){(0,u.shallowEqualScalar)(t,this.props)||(this.receiveProps(t),this.handleChange())},componentDidMount:function(){},componentWillUnmount:function(){this.disposable.dispose()},receiveProps:function(t){this.handler.receiveProps(t),this.receiveType(i(t))},receiveType:function(t){var n=this;if(t!==this.currentType){this.currentType=t;var i=this.manager.registerTarget(this.currentType,this.handler,a),l=i.handlerId,r=i.unregist,s=this.manager.subscribeChange(function(){n.status.getDirtyHandlerId().indexOf(n.handlerId)>-1&&n.handleChange()});this.handlerId=l;var d=o(this.handlerId,this.event),c=d.connector,f=d.disposable;this.connector=c,this.disposable.setDisposable(new u.CompositeDisposable(new u.Disposable(s),new u.Disposable(function(){return r(n.handlerId)}),f))}},handleChange:function(){var t=this.getCurrentState();(0,u.shallowEqual)(t,this.state)||this.setState(t)},getCurrentState:function(){return n(this.connector,this.status,this.handlerId)},getHandlerId:function(){return this.handlerId},getInstance:function(){return this.componentInstance},handleChildrenRef:function(t){this.componentInstance=t,this.handler.receiveComponent(t)},render:function(){return f["default"].createElement(t,d({},this.props,this.state,{ref:this.handleChildrenRef,targetId:this.getHandlerId()}))}})}}a.__esModule=!0;var d=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};a["default"]=s;var u=n(93),c=n(14),f=i(c),h=n(26),p=i(h),m=n(8),g=i(m);t.exports=a["default"]},function(t,a,n){"use strict";function i(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function l(t,a){var n=t.ref;return(0,u.cloneElement)(t,{ref:function(t){a(t),n&&n(t)}})}function o(t,a){if(t===a)return!0;var n=Object.keys(t),i=Object.keys(a);if(n.length!==i.length)return!1;for(var l=Object.prototype.hasOwnProperty,o=0;o<n.length;o++){if(!l.call(a,n[o])||t[n[o]]!==a[n[o]])return!1;var r=t[n[o]],s=a[n[o]];if(r!==s)return!1}return!0}function r(t,a){if(t===a)return!0;if("object"!==("undefined"==typeof t?"undefined":d(t))||null===t||"object"!==("undefined"==typeof a?"undefined":d(a))||null===a)return!1;var n=Object.keys(t),i=Object.keys(a);if(n.length!==i.length)return!1;for(var l=Object.prototype.hasOwnProperty,o=0;o<n.length;o++){if(!l.call(a,n[o]))return!1;var r=t[n[o]],s=a[n[o]];if(r!==s||"object"===("undefined"==typeof r?"undefined":d(r))||"object"===("undefined"==typeof s?"undefined":d(s)))return!1}return!0}function s(t){return Boolean(t&&"function"==typeof t.dispose)}a.__esModule=!0,a.SerialDisposable=a.CompositeDisposable=a.Disposable=void 0;var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};a.cloneWithRef=l,a.shallowEqual=o,a.shallowEqualScalar=r;var u=n(14),c=function(){},f=function(){function t(a){i(this,t),this.action=a||c,this.disposed=!1}return t.prototype.dispose=function(){this.disposed||(this.action.call(null),this.disposed=!0)},t}(),h=function(){function t(){for(var a=arguments.length,n=Array(a),l=0;l<a;l++)n[l]=arguments[l];i(this,t),Array.isArray(n[0])&&1===n.length&&(n=n[0]),this.disposed=!1,this.disposables=n}return t.prototype.add=function(t){this.disposed?t.dispose():this.disposables.push(t)},t.prototype.remove=function(t){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.disposed)return!1;var n=this.disposables.indexOf(t);return n!==-1&&(this.disposables.splice(n,1),a&&t.dispose(),!0)},t.prototype.dispose=function(){if(!this.disposed){for(var t=this.disposables.length,a=new Array(t),n=0;n<t;n++)a[n]=this.disposables[n];this.disposed=!0,this.disposables=[];for(var i=0;i<t;i++)a[i].dispose()}},t}(),p=function(){function t(){i(this,t),this.disposed=!1,this.current=null}return t.prototype.setDisposable=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null==t||s(t)){var a=this.disposed,n=null;a||(n=this.current,this.current=t),n&&n.dispose(),a&&t&&t.dispose()}},t.prototype.getDisposable=function(){return this.current},t.prototype.dispose=function(){if(!this.disposed){this.disposed=!0;var t=this.current;this.current=null,t&&t.dispose()}},t}();a.Disposable=f,a.CompositeDisposable=h,a.SerialDisposable=p},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function l(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function o(t,a){function n(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(f["default"].isValidElement(a)){var n=a;return(0,u.cloneWithRef)(n,function(a){a&&l.add(new u.Disposable(i.dragSource(t,p["default"].findDOMNode(a))))})}}var i={dragSource:function(){return a.connectDragSource.apply(a,arguments)}},l=new u.CompositeDisposable;return{connector:{dragSource:function(){return n}},disposable:l}}function r(t){var a=function(){function a(t){l(this,a),this.status=t,this.props=null,this.component=null}return a.prototype.receiveProps=function(t){this.props=t},a.prototype.receiveComponent=function(t){this.component=t},a.prototype.beginDrag=function(){return t.beginDrag(this.props,this.status,this.component)},a.prototype.canDrag=function(a,n){return!t.beginDrag||t.canDrag(this.props,this.status,n)},a.prototype.dragging=function(){if(t.dragging)return t.dragging(this.props,this.status)},a.prototype.endDrag=function(){if(t.endDrag)return t.endDrag(this.props,this.status,this.component)},a}();return function(t){return new a(t)}}function s(t,a,n){var i=void 0;i=g["default"].isFunction(t)?t:function(){return t};var l=r(a);return function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.displayName||t.name||"Component";return f["default"].createClass({displayName:"DragSource("+r+")",contextTypes:{dragDropManager:f["default"].PropTypes.object.isRequired},getInitialState:function(){return this.manager=this.context.dragDropManager,this.disposable=new u.SerialDisposable,this.event=this.manager.getEvent(),this.status=this.manager.getStatus(),this.handler=l(this.status),this.receiveProps(this.props),this.getCurrentState()},shouldComponentUpdate:function(t,a){return!(0,u.shallowEqualScalar)(t,this.props)||!(0,u.shallowEqual)(a,this.state)},componentWillReceiveProps:function(t){(0,u.shallowEqualScalar)(t,this.props)||(this.receiveProps(t),this.handleChange())},componentDidMount:function(){},componentWillUnmount:function(){this.disposable.dispose()},receiveProps:function(t){this.handler.receiveProps(t),this.receiveType(i(t))},receiveType:function(t){var n=this;if(t!==this.currentType){this.currentType=t;var i=this.manager.registerSource(this.currentType,this.handler,a),l=i.handlerId,r=i.unregist,s=this.manager.subscribeChange(function(){n.status.getDirtyHandlerId().indexOf(n.handlerId)>-1&&n.handleChange()});this.handlerId=l;var d=o(this.handlerId,this.event),c=d.connector,f=d.disposable;this.connector=c,this.disposable.setDisposable(new u.CompositeDisposable(new u.Disposable(s),new u.Disposable(function(){return r(n.handlerId)}),f))}},handleChange:function(){var t=this.getCurrentState();(0,u.shallowEqual)(t,this.state)||this.setState(t)},getCurrentState:function(){return n(this.connector,this.status,this.handlerId)},getHandlerId:function(){return this.handlerId},getInstance:function(){return this.componentInstance},handleChildrenRef:function(t){this.componentInstance=t,this.handler.receiveComponent(t)},render:function(){return f["default"].createElement(t,d({},this.props,this.state,{ref:this.handleChildrenRef,sourceId:this.getHandlerId()}))}})}}a.__esModule=!0;var d=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};a["default"]=s;var u=n(93),c=n(14),f=i(c),h=n(26),p=i(h),m=n(8),g=i(m);t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function l(t){var a={dragDropManager:new u["default"](t)};return function(t){var n=t.displayName||t.name||"Component";return s["default"].createClass({displayName:"DnDContext("+n+")",childContextTypes:{dragDropManager:s["default"].PropTypes.object.isRequired},getInstance:function(){return this.ref.child},getManager:function(){return a.dragDropManager},getChildContext:function(){return a},render:function(){return s["default"].createElement(t,o({},this.props,{ref:"child"}))}})}}a.__esModule=!0;var o=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};a["default"]=l;var r=n(14),s=i(r),d=n(96),u=i(d);t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function l(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function o(){return g++,g.toString(36)}function r(t){return""+t+o()}function s(t){var a=t.clientOffset,n=t.initialClientOffset,i=t.initialSourceClientOffset;return a&&n&&i?{x:a.x+i.x-n.x,y:a.y+i.y-n.y}:null}function d(t){var a=t.clientOffset,n=t.initialClientOffset;return a&&n?{x:a.x-n.x,y:a.y-n.y}:null}function u(t){return"T"===t[0]}a.__esModule=!0;var c=n(97),f=i(c),h=n(98),p=n(8),m=i(p),g=0,v={dragSource:"S",dropTarget:"T"},y=function(){function t(a){l(this,t),this.store=a,this.types={},this.handlers={},this.options={},this.pinnedSourceId=null,this.isDragging=this.isDragging.bind(this)}return t.prototype.register=function(t,a,n,i){var l=r(t);this.types[l]=a,this.handlers[l]=n,this.options[l]=i;var o=void 0;return t===v.dragSource?(this.store.dispatchProcess({type:h.ActionType.ADD_SOURCE,sourceId:l}),o=this.removeSource.bind(this)):t===v.dropTarget&&(this.store.dispatchProcess({type:h.ActionType.ADD_TARGET,targetId:l}),o=this.removeTarget.bind(this)),{handlerId:l,unregist:o}},t.prototype.pinSourceId=function(t){this.pinnedSourceId=t},t.prototype.unpinSourceId=function(){this.pinnedSourceId=null},t.prototype.removeSource=function(t){this.store.dispatchProcess({type:h.ActionType.REMOVE_SOURCE,sourceId:t}),delete this.handlers[t],delete this.types[t],delete this.options[t]},t.prototype.removeTarget=function(t){this.store.dispatchProcess({type:h.ActionType.REMOVE_TARGET,sourceId:t}),delete this.handlers[t],delete this.types[t],delete this.options[t]},t.prototype.canDragSource=function(t){if(this.isDragging())return!1;var a=this.getSource(t);return!a.canDrag||a.canDrag(this,t)},t.prototype.canDropOnTarget=function(t){if(!this.isDragging()||this.didDrop())return!1;var a=this.getTarget(t);return a.canDrop(this,t)},t.prototype.getSourceId=function(){return this.pinnedSourceId||this.store.getState().sourceId},t.prototype.getSource=function(t){return this.handlers[t]},t.prototype.getTarget=function(t){return this.handlers[t]},t.prototype.getHandlers=function(){return this.handlers},t.prototype.getSourceType=function(t){if(!t&&this.pinnedSourceId&&(t=this.pinnedSourceId),t)return this.types[t]},t.prototype.getTargetType=function(t){return this.types[t]},t.prototype.getSourceOptions=function(t){return this.options[t]},t.prototype.getTargetOptions=function(t){return this.options[t]},t.prototype.isDragging=function(){return Boolean(this.store.getState().itemType)},t.prototype.didDrop=function(){return this.store.getState().didDrop},t.prototype.getTargetIds=function(){return this.store.getState().targetIds},t.prototype.isOverTarget=function(t){return!!this.isDragging()&&this.getTargetIds().indexOf(t)>-1},t.prototype.getItemType=function(){return this.store.getState().itemType},t.prototype.getItem=function(){return this.store.getState().item},t.prototype.isSourcePublish=function(){return this.store.getState().isSourcePublish},t.prototype.getDirtyHandlerId=function(){return this.store.getState().dirtyHandlerId},t.prototype.getInitialClientOffset=function(){return this.store.getState().initialClientOffset},t.prototype.getInitialSourceClientOffset=function(){return this.store.getState().initialSourceClientOffset},t.prototype.getClientOffset=function(){return this.store.getState().clientOffset},t.prototype.getSourceSize=function(){return this.store.getState().initialSourceSize},t.prototype.getHoldInfo=function(){var t=this.store.getState();return t.holdMeta||t.holdCtrl},t.prototype.getSourceClientOffset=function(){var t=this.store.getState(),a=t.initialSourceClientOffset,n=t.initialClientOffset,i=t.clientOffset;return s({initialSourceClientOffset:a,initialClientOffset:n,clientOffset:i})},t.prototype.getDifferenceFromInitialOffset=function(){var t=this.store.getState(),a=t.initialSourceClientOffset,n=t.initialClientOffset,i=t.clientOffset;return d({initialSourceClientOffset:a,initialClientOffset:n,clientOffset:i})},t}(),b=function(){function t(a){l(this,t),this.store=(0,f["default"])(),this.binder=new y(this.store),this.eventCore=a(this),this.store.addChangeListener(this.handleRefCountChange.bind(this))}return t.prototype.handleRefCountChange=function(){var t=this.store.getState().itemCount>0;t&&!this.isSetUp?(this.eventCore.setup(),this.isSetUp=!0):!t&&this.isSetUp&&(this.eventCore.teardown(),this.isSetUp=!1)},t.prototype.subscribeChange=function(t){return this.store.addChangeListener(t)},t.prototype.registerSource=function(t,a,n){return this.binder.register(v.dragSource,t,a,n)},t.prototype.registerTarget=function(t,a,n){return this.binder.register(v.dropTarget,t,a,n)},t.prototype.getActions=function(){return{beginDrag:this.beginDrag.bind(this),publishDragSource:this.publishDragSource.bind(this),hover:this.hover.bind(this),endDrag:this.endDrag.bind(this),drop:this.drop.bind(this),pressedCtrlKey:this.pressedCtrlKey.bind(this)}},t.prototype.getStatus=function(){return this.binder},t.prototype.getEvent=function(){return this.eventCore},t.prototype.beginDrag=function(t){for(var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=a.publishSource,i=void 0===n||n,l=a.clientOffset,o=void 0===l?null:l,r=a.getSourceClientOffset,s=(a.holdCtrl,a.holdMeta,null),d=t.length-1;d>=0;d--)if(this.binder.canDragSource(t[d])){s=t[d];break}if(null!==s){this.binder.pinSourceId(s);var u=null,c=null;if(o){var f=r(s);u={x:f.x,y:f.y},c={width:f.width,height:f.height}}var p=this.binder.getSource(s),m=p.beginDrag(this.binder,s),g=this.binder.getSourceType(s);this.store.dispatchProcess({type:h.ActionType.BEGIN_DRAG,itemType:g,item:m,sourceId:s,clientOffset:o,sourceSize:c,sourceClientOffset:u,isSourcePublish:i})}},t.prototype.publishDragSource=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.holdMeta,n=t.holdCtrl;if(this.binder.isDragging()){var i=this.binder.getSourceId(),l=this.binder.getSource(i);l.dragging(this.binder,i),this.store.dispatchProcess({type:h.ActionType.PUBLISH_DRAG_SOURCE,holdMeta:a,holdCtrl:n})}},t.prototype.hover=function(t){var a=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.clientOffset,l=void 0===i?null:i;t=t.slice(0);this.binder.getItemType();m["default"].forEach(t,function(t){var n=a.binder.getTarget(t);n.hover(a.binder,t)}),m["default"].forEach(this.binder.getDirtyHandlerId(),function(n){if(u(n)&&t.indexOf(n)===-1){var i=a.binder.getTarget(n);i.blur(a.binder,n)}}),this.store.dispatchProcess({type:h.ActionType.HOVER,targetIds:t,clientOffset:l})},t.prototype.drop=function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a.holdMeta,i=a.holdCtrl,l=m["default"].filter(this.binder.getTargetIds(),function(a){return t.binder.canDropOnTarget(a)});l.reverse(),m["default"].forEach(l,function(a,l){var o=t.binder.getTarget(a),r=o.drop(t.binder,a);t.store.dispatchProcess({type:h.ActionType.DROP,dropResult:r,holdMeta:n,holdCtrl:i})})},t.prototype.endDrag=function(){var t=this.binder.getSourceId(),a=this.binder.getSource(t);a.endDrag(this.binder,t),this.binder.unpinSourceId(),this.store.dispatchProcess({type:h.ActionType.END_DRAG})},t.prototype.pressedCtrlKey=function(){var t=this,a=this.binder.getTargetIds().slice(0);this.binder.getItemType();m["default"].forEach(a,function(a){var n=t.binder.getTarget(a);n.hover(t.binder,a)}),m["default"].forEach(this.binder.getDirtyHandlerId(),function(n){if(u(n)&&a.indexOf(n)===-1){var i=t.binder.getTarget(n);i.blur(t.binder,n)}})},t}();a["default"]=b,t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function l(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function o(t,a){return t===a||t&&a&&t.x===a.x&&t.y===a.y}function r(){return new c({itemCount:0,itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublish:null,dirtyHandlerId:[],initialSourceClientOffset:null,initialSourceSize:null,initialClientOffset:null,clientOffset:null,holdCtrl:!1,holdMeta:!1})}a.__esModule=!0,a["default"]=r;var s=n(8),d=i(s),u=n(98),c=function(){function t(a){l(this,t),this.currentState=a,this.listeners=[]}return t.prototype.getState=function(){return this.currentState},t.prototype.addChangeListener=function(t){this.listeners.push(t);var a=!0,n=this.listeners;return function(){if(a){a=!1;var i=n.indexOf(t);n.splice(i,1)}}},t.prototype.updateState=function(t){var a=this,n=d["default"].assign({},this.currentState,t||{});this.changeState=Object.keys(t).filter(function(t){return n[t]!==a.currentState[t]}),this.currentState=n},t.prototype.dispatchProcess=function(t){if(t.type){switch(t.type){case u.ActionType.BEGIN_DRAG:this.updateState({itemType:t.itemType,item:t.item,sourceId:t.sourceId,isSourcePublish:t.isSourcePublish,dropResult:null,didDrop:!1,initialSourceClientOffset:t.sourceClientOffset,initialSourceSize:t.sourceSize,initialClientOffset:t.clientOffset,clientOffset:t.clientOffset,dirtyHandlerId:[],holdCtrl:t.holdCtrl,holdMeta:t.holdMeta});break;case u.ActionType.PUBLISH_DRAG_SOURCE:this.updateState({isSourcePublish:!0,holdCtrl:t.holdCtrl,holdMeta:t.holdMeta});break;case u.ActionType.DRAGGING:this.updateState({isSourcePublish:!0});break;case u.ActionType.END_DRAG:this.updateState({itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublish:null,targetIds:[],initialSourceClientOffset:null,initialSourceSize:null,initialClientOffset:null,clientOffset:null,dirtyHandlerId:[],holdCtrl:!1,holdMeta:!1});break;case u.ActionType.HOVER:var a=this.getState(),n=a.targetIds,i=d["default"].xor(n,t.targetIds).concat(a.sourceId);this.updateState({targetIds:t.targetIds,dirtyHandlerId:i}),o(this.currentState.clientOffset,t.clientOffset)||this.updateState({clientOffset:t.clientOffset});break;case u.ActionType.PRESSKEY:this.updateState({holdCtrl:t.holdCtrl,holdMeta:t.holdMeta});break;case u.ActionType.DROP:this.updateState({dropResult:t.dropResult,didDrop:!0,targetIds:[],initialSourceClientOffset:null,initialSourceSize:null,initialClientOffset:null,clientOffset:null,holdCtrl:t.holdCtrl,holdMeta:t.holdMeta});break;case u.ActionType.ADD_SOURCE:case u.ActionType.ADD_TARGET:this.updateState({itemCount:this.currentState.itemCount+1});break;case u.ActionType.REMOVE_SOURCE:case u.ActionType.REMOVE_TARGET:this.updateState({itemCount:this.currentState.itemCount-1})}return this.listeners.slice().forEach(function(t){return t()}),this.getState()}},t}();t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}a.__esModule=!0,a.ActionType=void 0;var l=n(99),o=i(l);a.ActionType=(0,o["default"])({BEGIN_DRAG:!0,PUBLISH_DRAG_SOURCE:!0,DRAGGING:!0,END_DRAG:!0,HOVER:!0,DROP:!0,PRESSKEY:!0,ADD_SOURCE:!0,ADD_TARGET:!0,REMOVE_SOURCE:!0,REMOVE_TARGET:!0})},function(t,a){"use strict";var n=function(t){var a,n={};for(a in t)t.hasOwnProperty(a)&&(n[a]=a);return n};t.exports=n},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function l(t){return d["default"].createClass({mixins:[m["default"]],contextTypes:{dragDropManager:d["default"].PropTypes.object.isRequired},getInitialState:function(){return this.manager=this.context.dragDropManager,this.status=this.manager.getStatus(),this.getCurrentState()},getCurrentState:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isShown:!1,top:0,left:0,holdCtrl:!1};return t},componentDidMount:function(){(0,r["default"])(c["default"].findDOMNode(this)).bind("wheel",this.handleDOMWheel),this.unsubscribeListener=this.manager.subscribeChange(this.handleOffsetChange)},componentWillUnmount:function(){(0,r["default"])(c["default"].findDOMNode(this)).unbind("wheel",this.handleDOMWheel),this.unsubscribeListener()},handleDOMWheel:function(e){this.props.onWheel&&this.props.onWheel(e)},handleOffsetChange:function(){if(!this.isMounted())return!1;var t=this.status.getSourceClientOffset(),a=t||{x:0,y:0},n=a.x,i=a.y;this.setState(this.getCurrentState({isShown:Boolean(this.status.isSourcePublish()),top:Math.round(i),left:Math.round(n),holdCtrl:this.status.getHoldInfo()}))},render:function(){var a={"lg-dragHelper":!0,isShown:this.state.isShown},n=t(this.props,this.status);return d["default"].createElement("div",{className:(0,h["default"])(a),style:{top:this.state.top,left:this.state.left}},n)}})}a.__esModule=!0,a.createDragHelper=l;var o=n(25),r=i(o),s=n(14),d=i(s),u=n(26),c=i(u),f=n(43),h=i(f),p=n(51),m=i(p)},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function l(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function o(e){if(1===e.targetTouches.length)return r(e.targetTouches[0])}function r(e){return e.targetTouches?o(e):{x:e.clientX,y:e.clientY}}function s(t){var a=t.nodeType===m?t:t.parentElement;if(!a)return null;var n=a.getBoundingClientRect(),i=void 0,l=void 0,o=void 0,r=void 0;return n&&(i=n.top,l=n.left,o=n.width||n.right-n.left,r=n.height||n.bottom-n.top),{x:l,y:i,width:o,height:r}}function d(t,a){return Math.sqrt(Math.pow(a.x-t.x,2)+Math.pow(a.y-t.y,2))}function u(t){return new w(t)}a.__esModule=!0,a["default"]=u;var c=n(25),f=i(c),h=n(8),p=i(h),m=1,g="onmousedown"in document.documentElement||"onmousedown"in window,v="ontouchstart"in document.documentElement||"ontouchstart"in window,y=!window.addEventListener,b=!1,S=null,C=0,_={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend"},key:{"keydown":"keydown","keyup":"keyup"}},w=function(){function t(a){arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l(this,t),this.status=a.getStatus(),this.actions=a.getActions(),this.eventList=["key"],g&&this.eventList.push("mouse"),v&&this.eventList.push("touch"),this.sourceNodes={},this.targetNodes={},this._mouseClientOffset={},this.handleTopMoveStartCapture=this.handleTopMoveStartCapture.bind(this),this.handleTopMoveStart=this.handleTopMoveStart.bind(this),this.handleTopMoveCapture=this.handleTopMoveCapture.bind(this),this.handleKeyCapture=this.handleKeyCapture.bind(this),this.handleTopMoveEndCapture=this.handleTopMoveEndCapture.bind(this),this.handleSelectStart=this.handleSelectStart.bind(this)}return t.prototype.addEventListener=function(t,a,n,i){if(y){t===window&&(t=document.body);var l=(0,f["default"])(t);i?p["default"].forEach(this.eventList,function(t){if(_[t][a]){l.data("hasCapture"+a,"1");var i="capture_"+_[t][a];l.on(i,function(e){n(e);var t=(0,f["default"])(e.currentTarget);t.attr("iscapturecalled","1")}),l.on(_[t][a],function(e){var t=(0,f["default"])(e.currentTarget);"0"===t.attr("iscapturecalled")&&n(e),t.attr("iscapturecalled","0")})}}):p["default"].forEach(this.eventList,function(t){_[t][a]&&l.on(_[t][a],function(e){var i=(0,f["default"])(e.currentTarget),l=i.parents(),o=[],r=[e.currentTarget],s=!1;p["default"].map(l,function(t){var n=(0,f["default"])(t);s?o=[t].concat(o):r=[t].concat(o),1===+n.data("hasCapture"+a)&&n.prop("nodeType")===m&&(s=!0,o=[].concat(r))});var d="capture_"+_[t][a];p["default"].forEach(o,function(t){var a=t.getBoundingClientRect?t.getBoundingClientRect():{},n=f["default"].Event(d,{clientX:a.left,clientY:a.top,target:t});(0,f["default"])(t).trigger(n)}),n(e)})})}else p["default"].forEach(this.eventList,function(l){_[l][a]&&(t.removeEventListener(_[l][a],n,i),
t.addEventListener(_[l][a],n,i))})},t.prototype.removeEventListener=function(t,a,n,i){if(y){var l=(0,f["default"])(t);p["default"].forEach(this.eventList,function(t){var n=(i?"capture_":"")+_[t][a];i&&l.attr("hasCapture"+a,!1),l.off(n)})}else p["default"].forEach(this.eventList,function(l){t.removeEventListener(_[l][a],n,i)})},t.prototype.setup=function(){if("undefined"!=typeof window&&!this.isSetUp){this.isSetUp=!0;var t=window;y&&(t=document.body),this.addEventListener(t,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(t,"start",this.handleTopMoveStart),this.addEventListener(t,"move",this.handleTopMoveCapture,!0),this.addEventListener(t,"end",this.handleTopMoveEndCapture,!0),this.addEventListener(t,"keydown",this.handleKeyCapture),this.addEventListener(t,"keyup",this.handleKeyCapture)}},t.prototype.teardown=function(){if("undefined"!=typeof window){this.isSetUp=!1;var t=window;y&&(t=document.body),this.removeEventListener(t,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(t,"start",this.handleTopMoveStart),this.removeEventListener(t,"move",this.handleTopMoveCapture,!0),this.removeEventListener(t,"end",this.handleTopMoveEndCapture,!0),this.removeEventListener(t,"keydown",this.handleKeyCapture),this.removeEventListener(t,"keyup",this.handleKeyCapture)}},t.prototype.connectDragSource=function(t,a){var n=this;if(this.sourceNodes[t]=a,!a.getAttribute("isbind")){var i=this.handleMoveStart.bind(this,t),l=this.handleNodeMove.bind(this);return a.setAttribute("isbind",!0),this.addEventListener(a,"start",i),this.addEventListener(a,"move",l),this.addEventListener(a,"selectstart",this.handleSelectStart),function(){delete n.sourceNodes[t],n.removeEventListener(a,"start",i),n.removeEventListener(a,"move",l),n.removeEventListener(a,"selectstart",n.handleSelectStart),a.setAttribute("isbind",!1)}}},t.prototype.connectDropTarget=function(t,a){var n=this;return this.targetNodes[t]=a,function(){delete n.targetNodes[t]}},t.prototype.getSourceClientOffset=function(t){return s(this.sourceNodes[t])},t.prototype.getSourceClientSize=function(t){},t.prototype.handleKeyCapture=function(e){this.status.isDragging()&&(this.actions.publishDragSource({holdCtrl:e.ctrlKey,holdMeta:e.metaKey}),this.actions.pressedCtrlKey())},t.prototype.handleTopMoveStartCapture=function(e){return b?void(e.preventDefault?e.preventDefault():e.returnValue=!1):(this.moveStartSourceIds=[],void(this._mouseClientOffset=null))},t.prototype.handleMoveStart=function(t,e){var a=this;return window.lgTouchLock=!0,"touchstart"===e.type?(window.clearTimeout(S),void(S=window.setTimeout(function(){S=null,b=!0,C=0,e.preventDefault&&e.preventDefault(),e.returnValue=!1,null!=a.moveStartSourceIds&&a.moveStartSourceIds.unshift(t);var n=r(e);n&&(a._mouseClientOffset=n)},300))):(b=!0,C=0,e.preventDefault&&e.preventDefault(),e.returnValue=!1,void(null!=this.moveStartSourceIds&&this.moveStartSourceIds.unshift(t)))},t.prototype.handleTopMoveStart=function(e){var t=r(e);t&&(this._mouseClientOffset=t)},t.prototype.handleNodeMove=function(e){S&&(window.lgTouchLock=!1),clearTimeout(S),S=null,b&&(e=e||window.event,e.preventDefault&&e.preventDefault(),e.returnValue=!1)},t.prototype.handleTopMoveCapture=function(e){var t=this;if(b){var a=this.moveStartSourceIds;if(a&&this._mouseClientOffset||this.status.isDragging()){var n=r(e);if(n&&(!this.status.isDragging()&&a&&a.length>0&&this._mouseClientOffset.hasOwnProperty("x")&&d(this._mouseClientOffset,n)>2&&(this.actions.beginDrag(a,{clientOffset:this._mouseClientOffset,getSourceClientOffset:this.getSourceClientOffset.bind(this),publishSource:!1,holdCtrl:e.ctrlKey,holdMeta:e.metaKey}),this.moveStartSourceIds=null),this.status.isDragging()&&(C++,C%2!==0))){this.actions.publishDragSource({holdCtrl:e.ctrlKey,holdMeta:e.metaKey});var i=p["default"].filter(Object.keys(this.targetNodes),function(a){var i=t.getBoundingReact("target",a,t.targetNodes[a]),l=n.x>=i.left&&n.x<=i.right&&n.y>=i.top&&n.y<=i.bottom;return l});this.actions.hover(i,{clientOffset:n})}}}},t.prototype.handleTopMoveEndCapture=function(e){return clearTimeout(S),S=null,b=!1,window.lgTouchLock=!1,C=0,!this.status.isDragging()||this.status.didDrop()?void(this.moveStartSourceIds=null):(e.preventDefault?e.preventDefault():e.returnValue=!1,this._mouseClientOffset={},this.actions.drop({holdCtrl:e.ctrlKey,holdMeta:e.metaKey}),void this.actions.endDrag())},t.prototype.handleSelectStart=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},t.prototype.getBoundingReact=function(t,a,n){return n.getBoundingClientRect()},t}();t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function l(t,a){switch(t){case"1":return v.serialNumberGenerator.alphaNumberUpper(a);case"2":return v.serialNumberGenerator.alphaNumberLower(a);case"3":return v.serialNumberGenerator.numberSimple(a);case"4":return v.serialNumberGenerator.romanNumberUpper(a);default:return""}}a.__esModule=!0;var o=n(14),r=i(o),s=n(43),d=i(s),u=n(8),c=i(u),f=n(60),h=i(f),p=n(47),m=i(p),g=n(9),v=n(61),y=n(51),b=i(y);a["default"]=r["default"].createClass({displayName:"Component(Rank)",mixins:[b["default"],h["default"]],handleChangeRank:function(t,a){a!==!1?this.handleRemoveRank(t):this.handleAddRank(t)},handleAddRank:function(t){for(var a=this.props,n=a.data,i=a.fill||{},l=n.isLimitDigit?n.rankDigits:(n.options||[]).length,o=null,r=0;r<l;r++)if(!i[r]){o=r;break}null!==o&&m["default"].dispatch({type:"setRank",id:a.data.id,num:o,value:t})},handleRemoveRank:function(t){var a=this.props;m["default"].dispatch({type:"removeRank",id:a.data.id,value:t})},render:function(){var t=this,a=this.props,n=a.data,i=a.fill,o=a.valid,s=a.componentStyle,u=this.formStyle(),f=u.optionStyle,h=u.tipsStyle,p=n.isLimitDigit?n.rankDigits:(n.options||[]).length,m=Object.keys(i||{}).length===p;return r["default"].createElement("div",{className:(0,d["default"])("fb_component",n.type),id:n.id,style:s},this.renderTitle(n),this.renderSubtitle(n),r["default"].createElement("p",{className:"fbc_tips",style:h},g.lang.cRankTipsMobile),this.renderError(o),r["default"].createElement("div",{className:"fbc_content"},r["default"].createElement("div",{className:"fbc_rankAnswer"},c["default"].map(n.options,function(a,o){var s=!1;return c["default"].forEach(i,function(t,n){if(+t===+a.sId)return s=+n,!1}),r["default"].createElement("div",{className:(0,d["default"])("fbc_raItem",{"fbc_raFull":m&&s===!1}),key:"rAns"+o,style:c["default"].assign({position:"relative"},f),onClick:t.handleChangeRank.bind(t,a.sId,s)},r["default"].createElement("p",{className:(0,d["default"])("fbc_raNum",{"has_value":s!==!1})},s!==!1?s+1:null),r["default"].createElement("div",{className:(0,d["default"])("fbc_raGroove")},r["default"].createElement("div",{className:"fbc_ragInfo"},(n.isAutoNo?l(n.autoNo,o+1):"")+a.value)),r["default"].createElement("div",{className:"clearB"}))}))))}}),t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}a.__esModule=!0;var l=n(14),o=i(l),r=n(43),s=i(r),d=n(8),u=i(d),c=n(60),f=i(c),h=n(47),p=i(h),m=n(9),g=n(32),v=n(35),y=n(57),b=i(y),S=n(51),C=i(S);a["default"]=o["default"].createClass({displayName:"Component(Currency)",mixins:[C["default"],f["default"]],handleChange:function(e){p["default"].dispatch({type:"setValue",id:this.props.data.id,value:e.target.value})},handleBlur:function(e){p["default"].dispatch({type:"numberBlur",id:this.props.data.id,value:e.target.value})},renderTips:function(){var t=this.props,a=t.data,n=(t.fill,t.valid),i=this.formStyle(),l=i.tipsStyle,r=null,d=!0,c=(n||[]).indexOf("tip")>-1;return a.isNumRange&&(u["default"].isNumber(a.numRangeFrom)&&u["default"].isNumber(a.numRangeTo)?r=m.lang.cNumberValueRangeHintFunc({numRangeFrom:a.numRangeFrom,numRangeTo:a.numRangeTo}):u["default"].isNumber(a.numRangeFrom)?r=m.lang.cNumberValueMoreThanValueFunc({numRangeFrom:a.numRangeFrom}):u["default"].isNumber(a.numRangeTo)&&(r=m.lang.cNumberValueLessThanValueFunc({numRangeTo:a.numRangeTo}))),o["default"].createElement("p",{className:(0,s["default"])("fbc_tips",{error:c&&d}),style:l},r)},render:function(){var t=this.props,a=t.data,n=t.fill,i=t.valid,l=t.componentStyle,r=t.isMobile,d=t.fw,c=t.itemNum,f=t.style,h=this.formStyle(),p=h.inputStyle,y=h.inputUnitStyle,S="￥";"0"==a.symbol?S=a.symbolDefined:a.symbol&&(S=m.lang.cCurrencySymbolArray[a.symbol-1]);var C=10*(r?10:a.cpWidth||8),_=null;S&&(_=Math.min((0,g.getWidth)(S,y.fontSize+"px/1 "+v._FONT),((d/(c||1)-60)*(C/10)-(r?10:25))/50));var w={},E={};r||2!==+a.cpLayout||(w={"float":"left",paddingTop:6,width:((f.bodyStyle||{}).cpTitleWidth||20)+"%"},E={"float":"left",width:100-((f.bodyStyle||{}).cpTitleWidth||20)+"%"},c&&c>1&&(w.width="auto",w.maxWidth=105-C+"%",E.width=C-5+"%",C=100));var I={};return I="ar"===m.currentLang?u["default"].assign({},p,{paddingRight:_?_+8:null}):u["default"].assign({},p,{paddingLeft:_?_+8:null}),o["default"].createElement("div",{className:(0,s["default"])("fb_component",a.type),id:a.id,style:l},o["default"].createElement("div",{className:"fb_componentText",style:w},this.renderTitle(a),this.renderSubtitle(a),this.renderTips(),this.renderError(i)),o["default"].createElement("div",{className:"fb_componentBody",style:E},o["default"].createElement("div",{className:(0,s["default"])("fbc_content","fbc_widthCp"),style:{width:C+"%"}},o["default"].createElement("span",{className:"fbc_currencySymbol",style:y},S),o["default"].createElement(b["default"],{component:"input",className:(0,s["default"])("fbc_input",{error:i&&i.length>0}),ref:"input",type:"text",spellCheck:!1,style:I,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:a.placeholder||"",value:""+(u["default"].isNumber(n)||n?n:"")}))))}}),t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}a.__esModule=!0;var l=n(14),o=i(l),r=n(43),s=i(r),d=n(8),u=i(d),c=n(60),f=i(c),h=n(47),p=i(h),m=n(35),g=i(m),v=n(32),y=i(v),b=n(9),S=n(66),C=i(S),_=n(105),w=i(_),E=n(51),I=i(E),N=[];a["default"]=o["default"].createClass({displayName:"Component(CityLocation)",mixins:[I["default"],f["default"]],getInitialState:function(){var t=this.props.data,a=this.props.fill;this.processedList=[];var n=[];return t.isLimitCountry&&+t.limitCountry>0&&n.push(+t.limitCountry),a&&2!==t.componentType&&(a.struct&&!u["default"].isEmpty(a.struct)&&(this.isSelected=!0),n=n.concat(a.struct)),{currentLocationInfo:{},currentSelected:n,searchResult:N}},componentDidMount:function(){this.handlePreGetDropDownContent(this.props,this.state)},componentWillUpdate:function(t,a){this.handlePreGetDropDownContent(t,a)},componentDidUpdate:function(){this.refs.input&&!this.refs.input.isOpen()&&this.checkSetDefault&&(this.handleSetDefaultLocation(),this.checkSetDefault=!1)},handlePreGetDropDownContent:function(t,a){var n=this;!t.fill||u["default"].isEmpty(t.fill)||u["default"].isEmpty(t.fill.struct)||(!t.data.isLimitCountry&&this.handleCheckDropDownContent(null),u["default"].forEach(a.currentSelected,function(t){n.processedList.indexOf(t)===-1&&(n.isSelected=!0,n.handleCheckDropDownContent(t))}))},handleGetNextLevelData:function(t){this.processedList.push(t);var a=this.props.data,n=this.props.isMobile,i=this.formStyle(),l=i.inputStyle;p["default"].getLocationInfo(t,a.minLevel||3,l.fontSize,this.handleUpdateCurrentLocationInfo,n)},handleUpdateCurrentLocationInfo:function(t,a){var n={};n[t]=a,this.isSelected=!1,this.isMounted()&&this.setState({currentLocationInfo:u["default"].assign({},this.state.currentLocationInfo,n)})},handleMouseDownOption:function(t,a,e){g["default"].isIE8&&(e.preventDefault(),e.stopPropagation(),this.handleSelectOption(t,a,e))},handleSelectOption:function(t,a){var n=this.props.data,i=this.state.currentSelected.slice(0,t);i.push(a.id),this.isSelected=!0,this.setState({currentSelected:i});var l=void 0;l=n.minLevel?+n.minLevel:3,p["default"].dispatch({type:"setLocationStruct",id:n.id,value:i.slice(n.isLimitCountry?1:0)}),l>i.length&&this.handleGetNextLevelData(a.id)},handleSelectPosition:function(t,e){var a=this.props.data;p["default"].dispatch({type:"setLocationStruct",id:a.id,value:[t.id]}),this.hasContentChange=!1,p["default"].dispatch({type:"setLocationInput",id:a.id,value:t.name}),this.refs.input.doClose()},handleSetDefaultLocation:function(){var t=this.props.data;if(!this.state.currentSelected||this.hasContentChange){var a=(this.state.searchResult||N)[0];a||(a={id:null}),p["default"].dispatch({type:"setLocationStruct",id:t.id,value:[a.id]}),a.id&&p["default"].dispatch({type:"setLocationInput",id:t.id,value:a.name})}this.hasContentChange=!1},handleChangeLocationInput:function(e){var t=this,a=this.props.data;this.hasContentChange=!0;var n=u["default"].trim(e.target.value)||"";p["default"].dispatch({type:"setLocationInput",id:a.id,value:n});var i=!1;n?p["default"].getLocationInfoByTyping(n,a.isLimitCountry?+a.limitCountry:null,a.minLevel).done(function(a){0===a.r&&a.d?(t.checkSetDefault=!0,t.setState({searchResult:u["default"].map(a.d,function(t){return{name:t.t,id:t.i,alias:t.a}})})):(t.setState({searchResult:N}),i=!0)}):(this.setState({searchResult:N}),i=!0),i&&p["default"].dispatch({type:"setLocationStruct",id:a.id,value:[null]})},handleCheckDropDownContent:function(t){this.state.currentLocationInfo[t]||this.handleGetNextLevelData(t)},renderSelector:function(){var t=this,a=this.props,n=a.data,i=a.valid,l=this.state.currentSelected,r=this.formStyle(),d=(r.inputStyle,r.selectStyle),c=r.selectPlaceholderStyle,f=r.selectArrowStyle,h=void 0;h=n.minLevel?+n.minLevel:3;for(var p=[],m=function(a){var n=l[a],r=null,h=a-1>-1?l[a-1]:null,m=0;if(t.state.currentLocationInfo[h])r=[],u["default"].forEach(t.state.currentLocationInfo[h],function(i){i.name&&(i.width>m&&(m=i.width),r.push(o["default"].createElement("li",{className:(0,s["default"])("fbc_selectLi",{"hasImage":0===a,"fbc_currentSelected":+i.id===+n}),key:"opt"+i.id,style:{backgroundImage:0===a?"url(images/nationalFlag/"+i.id+".gif)":""},onMouseDown:t.handleMouseDownOption.bind(t,a,i),onClick:t.handleSelectOption.bind(t,a,i)},i.name)))});else if(null===t.state.currentLocationInfo[h])return"break";if(t.isSelected&&!n)return"break";var v=80;try{v=Math.max(y["default"].getWidth(b.lang.cSelectorPlaceholder,b._FONT)+55,80),null===h?v=Math.max(y["default"].getWidth(b.lang.cSelectorPlaceholder,b._FONT)+55,244):1===h&&(v=Math.max(y["default"].getWidth(b.lang.cSelectorPlaceholder,b._FONT)+55,93))}catch(e){v=200}return m=Math.round(Math.max(v,m+37+(0===a?25:0))),p.push(o["default"].createElement(C["default"],{key:"lvl"+(a+1),className:(0,s["default"])("fbc_mlItem","fbc_select",{"hasValue":n,"error":i&&i.indexOf("required")>-1&&!n}),display:n?(g["default"].getGeoInfo(n)||{}).name||b.lang.cOptionLoading:b.lang.cSelectorPlaceholder,imageUri:!(!n||0!==a)&&"url("+window.rootPath("images/nationalFlag/"+n+".gif")+")",selectArrowStyle:f,style:u["default"].assign({width:m},n?d:c),onExpand:t.handleCheckDropDownContent.bind(t,h)},r)),n?void 0:"break"},v=n.isLimitCountry?1:0;v<h;v++){var S=m(v);if("break"===S)break}return p},render:function(){var t=this,a=this.props,n=a.data,i=a.fill,l=a.valid,r=a.componentStyle,d=a.style,c=a.itemNum,f=n.type,h=n.minLevel,p=n.limitCountry,m=n.isLimitCountry,v=this.formStyle(),y=v.inputStyle,b=v.selectStyle,S=(v.selectPlaceholderStyle,v.inputWithIconStyle),C=v.inputIconStyle,_=m&&p&&0!==+p,E=["fbc_mlContent"],I=null,N=[];_&&(E.push("has-country"),N.push(o["default"].createElement("div",{className:"fbc_mlItem fbc_select hasValue country is-limitCountry",key:"limitCountry",style:b},o["default"].createElement("p",{className:"fbc_selectValue hasImage",style:{backgroundImage:"url(images/nationalFlag/"+p+".gif)"}},(g["default"].getGeoInfo(p)||{}).name))));var k=10*(n.cpWidth||8),T={},M={};if(2===+n.cpLayout&&(T={"float":"left",paddingTop:6,width:((d.bodyStyle||{}).cpTitleWidth||20)+"%"},M={"float":"left",width:100-((d.bodyStyle||{}).cpTitleWidth||20)+"%"}),2===n.componentType){2===+n.cpLayout&&c&&c>1&&(T.width="auto",T.maxWidth=105-k+"%",M.width=k-5+"%",k=100),E.push("fbc_widthCp"),I={width:k+"%"};var x=this.state.searchResult,D=[];x&&(i||{}).content&&u["default"].forEach(x,function(a){D.push(o["default"].createElement("li",{className:(0,s["default"])("fbc_selectLi",{"fbc_currentSelected":+a.id===+(i||{}).struct}),key:"opt"+a.id,onClick:t.handleSelectPosition.bind(t,a)},o["default"].createElement("p",null,a.name),a.alias?o["default"].createElement("p",{className:"fbc_selectAlia"},a.alias):null))}),(!_||_&&"1"!==h)&&(E.push("has-city"),N.push(o["default"].createElement(w["default"],{ref:"input",key:"city",inputClassName:(0,s["default"])("fbc_input",{error:l&&l.length>0}),className:"fbc_mlItem fbc_inputSelect city",icon:"location"!==f||_?null:String.fromCharCode(59082),themeColor:d.themeColor,style:"location"!==f||_?y:S,iconStyle:C,value:(i||{}).content||null,onChange:this.handleChangeLocationInput,onBlur:this.handleSetDefaultLocation},D)))}else 2===+n.cpLayout&&c&&c>1&&(T.width="auto",T.maxWidth="20%",M.width="80%"),N=N.concat(this.renderSelector());return o["default"].createElement("div",{className:(0,s["default"])("fb_component",n.type),id:n.id,style:r},o["default"].createElement("div",{className:"fb_componentText",style:T},this.renderTitle(n),this.renderSubtitle(n),this.renderError(l)),o["default"].createElement("div",{className:"fb_componentBody",style:M},o["default"].createElement("div",{className:E.join(" "),style:I},N,o["default"].createElement("div",{className:"clearB"}))))}}),t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function l(t,a){var n={};for(var i in t)a.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}a.__esModule=!0;var o=n(14),r=i(o),s=n(26),d=i(s),u=n(8),c=i(u),f=n(43),h=i(f),p=n(47),m=i(p),g=n(57),v=i(g),y=n(51),b=i(y);a["default"]=r["default"].createClass({displayName:"FCInputSearch",mixins:[b["default"]],getInitialState:function(){return{isOpen:!1,currentFocus:-1}},componentWillUpdate:function(t,a){},componentDidMount:function(){this.unsubscribe=m["default"].addChangeListener(this.handleStateChange)},componentWillUnmount:function(){this.unsubscribe()},handleStateChange:function(t){"$$resize"===t.type&&this.doClose()},isOpen:function(){return this.state.isOpen},doClose:function(){this.refs.focusContent&&this.refs.focusContent.getContent().blur()},handleMouseDown:function(e){this.currentIsOpen=this.state.isOpen,e.preventDefault()},handleDropDownMouseDown:function(e){this.currentIsOpen=this.state.isOpen,e.preventDefault(),e.stopPropagation()},handleToggleSelector:function(e){e.preventDefault(),e.stopPropagation();var t=this.refs.focusContent,a=this.currentIsOpen;if(t){var n=d["default"].findDOMNode(t);a?n.blur():n.focus()}},handleExpandDropDown:function(e){this.props.onExpand&&this.props.onExpand(),this.setState({isOpen:!0,currentFocus:0})},handleCondenseDropDown:function(e){this.setState({isOpen:!1,currentFocus:-1})},handleDropDownOperate:function(e){this.state.isOpen&&[13,38,40].indexOf(e.keyCode)>-1&&(13===e.keyCode?(e.preventDefault(),e.stopPropagation(),this.state.isOpen&&this.state.currentFocus>-1&&this.handleItemSelect(e)):38===e.keyCode?(e.preventDefault(),e.stopPropagation(),0===this.state.currentFocus?this.setState({currentFocus:r["default"].Children.count(this.props.children)-1}):this.setState({currentFocus:this.state.currentFocus-1})):40===e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.state.currentFocus===r["default"].Children.count(this.props.children)-1?this.setState({currentFocus:0}):this.setState({currentFocus:this.state.currentFocus+1})))},handleItemSelect:function(e){var t=this;r["default"].Children.forEach(this.props.children,function(a,n){if(n===t.state.currentFocus)return a.props.onClick&&a.props.onClick(e),!1})},handleItemMouseEnter:function(t){this.state.isOpen&&this.setState({currentFocus:t})},handleItemMouseLeave:function(){this.setState({currentFocus:-1})},render:function(){var t=this,a=this.props,n=a.value,i=a.children,o=a.inputClassName,s=a.onChange,d=a.icon,u=a.style,f=a.iconStyle,p=a.themeColor,m=l(a,["value","children","inputClassName","onChange","icon","style","iconStyle","themeColor"]),g=this.state.isOpen,y=this.state.currentFocus;return r["default"].createElement("div",m,r["default"].createElement(v["default"],{component:"input",className:(0,h["default"])("fbc_selectValue",o),value:n,type:"text",spellCheck:!1,ref:"focusContent",icon:d,themeColor:p,style:u,iconStyle:f,onFocus:this.handleExpandDropDown,onBlur:this.handleCondenseDropDown,onKeyDown:this.handleDropDownOperate,onChange:s}),r["default"].createElement("ul",{className:(0,h["default"])("fbc_selectList",{"fbc_showList":g&&c["default"].isArray(i)&&i.length>0}),onMouseDown:this.handleDropDownMouseDown},r["default"].Children.map(i,function(a,n){return r["default"].cloneElement(a,{className:(0,h["default"])(a.props.className,{"fbl_hover":n===y}),onMouseEnter:t.handleItemMouseEnter.bind(t,n),onMouseLeave:t.handleItemMouseLeave})})))}}),t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}a.__esModule=!0;var l=n(14),o=i(l),r=n(26),s=i(r),d=n(43),u=i(d),c=n(8),f=i(c),h=n(60),p=i(h),m=n(47),g=i(m),v=n(35),y=i(v),b=n(57),S=i(b),C=n(9),_=n(51),w=i(_),E=[];a["default"]=o["default"].createClass({displayName:"Component(CityLocationMobile)",mixins:[w["default"],p["default"]],getInitialState:function(){var t=this.props.data,a=this.props.fill,n=[];return this.processedList=[],t.isLimitCountry&&+t.limitCountry>0&&n.push(+t.limitCountry),a&&2!==t.componentType&&(a.struct&&!f["default"].isEmpty(a.struct)&&(this.isSelected=!0),n=n.concat(a.struct)),{currentLocationInfo:{},currentSelected:n,searchResult:E}},componentDidMount:function(){var t=this;this.handlePreGetDropDownContent(this.props,this.state),this.needGetId&&this.needGetId.length>0&&f["default"].forEach(this.needGetId,function(a){t.handleCheckDropDownContent(a)})},componentWillUpdate:function(t,a){this.handlePreGetDropDownContent(t,a)},componentDidUpdate:function(){var t=this;if(this.updateSelector){if(this.refs[this.updateSelector]){var a=s["default"].findDOMNode(this.refs[this.updateSelector]);a.focus()}this.updateSelector=!1}this.needGetId&&this.needGetId.length>0&&f["default"].forEach(this.needGetId,function(a){t.handleCheckDropDownContent(a)})},handlePreGetDropDownContent:function(t,a){var n=this;!t.fill||f["default"].isEmpty(t.fill)||f["default"].isEmpty(t.fill.struct)||(!t.data.isLimitCountry&&this.handleCheckDropDownContent(null),f["default"].forEach(a.currentSelected,function(t){n.processedList.indexOf(t)===-1&&(n.isSelected=!0,n.handleCheckDropDownContent(t))}))},handleGetNextLevelData:function(t){this.processedList.push(t);var a=this.props.data;g["default"].getLocationInfo(t,a.minLevel||3,"",this.handleUpdateCurrentLocationInfo,!0)},handleCheckDropDownContent:function(t,a){this.state.currentLocationInfo[t]||(a&&(this.focusElm="dp"+t),this.handleGetNextLevelData(t))},handleUpdateCurrentLocationInfo:function(t,a){var n={};n[t]=a,this.isSelected=!1,this.focusElm&&(this.updateSelector=this.focusElm,this.focusElm=null),this.isMounted()&&this.setState({currentLocationInfo:f["default"].assign({},this.state.currentLocationInfo,n)})},handleSelectOption:function(t,e){var a=this.props.data,n=this.state.currentSelected.slice(0,t);n.push(+e.target.value),this.setState({currentSelected:n});var i=void 0;i=a.minLevel?+a.minLevel:3,this.isSelected=!0,g["default"].dispatch({type:"setLocationStruct",id:a.id,value:n.slice(a.isLimitCountry?1:0)}),this.handleGetNextLevelData(+e.target.value)},handleChangeLocationInput:function(e){var t=this.props.data;this.hasContentChange=!0;var a=f["default"].trim(e.target.value)||"";g["default"].dispatch({type:"setLocationInput",id:t.id,value:a})},handleSetDefaultLocation:function(e){var t=this,a=this.props.data,n=f["default"].trim(e.target.value)||"";n&&g["default"].getLocationInfoByTyping(n,a.isLimitCountry?+a.limitCountry:null,a.minLevel).done(function(n){if(0===n.r&&n.d){t.checkSetDefault=!0;var i=n.d[0];g["default"].dispatch({type:"setLocationStruct",id:a.id,value:[i.i]}),i.i&&g["default"].dispatch({type:"setLocationInput",id:a.id,value:i.t})}else g["default"].dispatch({type:"setLocationStruct",id:a.id,value:[null]})})},renderSelector:function(){var t=this;this.needGetId=[];var a=this.props.data,n=this.state,i=n.currentSelected,l=this.formStyle(),r=l.inputStyle,s=(l.selectStyle,l.selectPlaceholderStyle,void 0);s=a.minLevel?+a.minLevel:3;for(var d=[],c=function(a){var l=i[a],s=null,c=a-1>-1?i[a-1]:null;if(n.currentLocationInfo[c])s=[],s.push(o["default"].createElement("option",{value:"",key:"default"},C.lang.cSelectorPlaceholder)),f["default"].forEach(n.currentLocationInfo[c],function(t){t.name&&s.push(o["default"].createElement("option",{value:""+t.id,key:"lcid"+t.id},(v._EMOJI_FLAGS_MAPPING[t.id]?v._EMOJI_FLAGS_MAPPING[t.id]+"   ":"")+((t||{}).name||"")))});else if(null===t.state.currentLocationInfo[c])return"break";return t.isSelected&&!l?"break":(null===s&&t.needGetId.push(c),d.push(o["default"].createElement("div",{className:(0,u["default"])("fbc_locItem","fbc_select",{"hasValue":l}),key:"fbSelect"+c+a,onClick:null===s?t.handleCheckDropDownContent.bind(t,c,!0):null},o["default"].createElement("i",{className:"iconfont fbc_selectArrow",style:{lineHeight:r.height+"px"}},String.fromCharCode(58983)),s?o["default"].createElement("select",{className:(0,u["default"])("fbc_innerSelect"),ref:"dp"+c,onChange:t.handleSelectOption.bind(t,a),value:""+l,style:r},s):o["default"].createElement("p",{className:"fbc_selectValue fbc_innerSelect",style:f["default"].assign({},r,{lineHeight:"38px",padding:"0 5px"})},C.lang.cSelectorPlaceholder))),l?void 0:"break")},h=a.isLimitCountry?1:0;h<s;h++){var p=c(h);if("break"===p)break}return d},render:function(){var t=this.props,a=t.data,n=t.fill,i=t.valid,l=t.componentStyle,r=t.style,s=a.type,d=a.minLevel,c=a.limitCountry,f=a.isLimitCountry,h=this.formStyle(),p=h.inputStyle,m=(h.selectStyle,h.selectPlaceholderStyle,h.inputWithIconStyle),g=h.inputIconStyle,b=f&&c&&0!==+c,C=["fbc_mlContent","fbc_widthCp"],_=null,w=[];return b&&(C.push("has-country"),w.push(o["default"].createElement("div",{className:"fbc_locItem fbc_select hasValue country",key:"limitCountry",style:p},o["default"].createElement("p",{className:"fbc_selectValue hasImage"},(v._EMOJI_FLAGS_MAPPING[c]?v._EMOJI_FLAGS_MAPPING[c]+"   ":"")+(y["default"].getGeoInfo(c)||{}).name)))),2===a.componentType?(!b||b&&"1"!==d)&&w.push(o["default"].createElement(S["default"],{component:"input",key:"inputCity",className:(0,u["default"])("fbc_locItem","fbc_inputSelect","fbc_input","city",{error:i&&i.length>0}),value:(n||{}).content||null,icon:"location"!==s||b?null:String.fromCharCode(59082),themeColor:r.themeColor,style:"location"!==s||b?p:m,iconStyle:g,spellCheck:!1,autoComplete:"off",onChange:this.handleChangeLocationInput,onBlur:this.handleSetDefaultLocation})):w=w.concat(this.renderSelector()),o["default"].createElement("div",{className:(0,u["default"])("fb_component",a.type),id:a.id,style:l},this.renderTitle(a),this.renderSubtitle(a),this.renderError(i),o["default"].createElement("div",{className:C.join(" "),style:_},w,o["default"].createElement("div",{className:"clearB"})))}}),t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}a.__esModule=!0;var l=n(14),o=i(l),r=n(43),s=i(r),d=n(8),u=i(d),c=n(32),f=i(c),h=n(60),p=i(h),m=n(47),g=i(m),v=n(35),y=i(v),b=n(9),S=n(66),C=i(S),_=n(57),w=i(_),E=n(51),I=i(E);a["default"]=o["default"].createClass({displayName:"Component(Address)",mixins:[I["default"],p["default"]],getInitialState:function(){var t=this.props.data,a=this.props.fill,n=[];return this.processedList=[],t.isLimitCountry&&+t.limitCountry>0&&n.push(+t.limitCountry),a&&a.struct&&(this.isSelected=!0,n=n.concat(a.struct)),{currentLocationInfo:{},currentSelected:n,searchResult:[]}},componentWillReceiveProps:function(t){var a=t.data,n=t.fill,i=[];n&&n.struct&&!u["default"].isEmpty(n.struct)&&(a.isLimitCountry&&+a.limitCountry>0&&i.push(+a.limitCountry),i=i.concat(n.struct),this.setState({currentSelected:i}))},componentDidMount:function(){this.handlePreGetDropDownContent(this.props,this.state)},componentWillUpdate:function(t,a){this.handlePreGetDropDownContent(t,a)},handlePreGetDropDownContent:function(t,a){var n=this;!t.fill||u["default"].isEmpty(t.fill)||u["default"].isEmpty(t.fill.struct)||(!t.data.isLimitCountry&&this.handleCheckDropDownContent(null),u["default"].forEach(a.currentSelected,function(t,a){n.processedList.indexOf(t)===-1&&(n.isSelected=!0,n.handleCheckDropDownContent(t))}))},handleGetNextLevelData:function(t){this.processedList.push(t);var a=(this.props.data,this.props.isMobile),n=this.formStyle(),i=n.inputStyle;g["default"].getLocationInfo(t,4,i.fontSize,this.handleUpdateCurrentLocationInfo,a)},handleUpdateCurrentLocationInfo:function(t,a){var n={};n[t]=a,this.isSelected=!1,this.isMounted()&&this.setState({currentLocationInfo:u["default"].assign({},this.state.currentLocationInfo,n)})},_handleProcessNextLvl:function(t){var a=this.props.data;this.setState({currentSelected:t});var n=void 0;n=a.minLevel?+a.minLevel:4,this.isSelected=!0,g["default"].dispatch({type:"setAddressSelector",id:a.id,value:t.slice(a.isLimitCountry?1:0)}),n>t.length&&this.handleGetNextLevelData(t[t.length-1])},handleSelectOption:function(t,a){var n=this.state.currentSelected.slice(0,t);n.push(a.id),this._handleProcessNextLvl(n)},handleMouseDownOption:function(t,a,e){v.isIE8&&(e.preventDefault(),e.stopPropagation(),this.handleSelectOption(t,a,e))},handleCheckDropDownContent:function(t){this.state.currentLocationInfo[t]||this.handleGetNextLevelData(t)},renderSelector:function(){var t=this,a=this.props.data,n=this.state.currentSelected,i=this.formStyle(),l=i.inputStyle,r=i.selectStyle,d=i.selectPlaceholderStyle,c=i.selectArrowStyle,h=void 0;h=a.minLevel?+a.minLevel:4;for(var p=[],m=function(a){var i=n[a],h=null,m=a-1>-1?n[a-1]:null,g=0;if(t.state.currentLocationInfo[m])h=[],u["default"].forEach(t.state.currentLocationInfo[m],function(n){n.name&&(n.width>g&&(g=n.width),h.push(o["default"].createElement("li",{className:(0,s["default"])("fbc_selectLi",{"hasImage":0===a,"fbc_currentSelected":+n.id===+i}),key:"opt"+n.id,style:{backgroundImage:0===a?"url(images/nationalFlag/"+n.id+".gif)":""},onMouseDown:t.handleMouseDownOption.bind(t,a,n),onClick:t.handleSelectOption.bind(t,a,n)},n.name)))});else if(null===t.state.currentLocationInfo[m])return"break";if(t.isSelected&&!i)return"break";if((!h||u["default"].isEmpty(h))&&i)try{g=f["default"].getWidth((y["default"].getGeoInfo(i)||{}).name||b.lang.cOptionLoading,(l.fontSize||14)+"px/1 "+y["default"]._FONT)}catch(e){g=200}var v=80;return null===m?v=244:1===m&&(v=93),g=Math.round(Math.max(v,g+37+(0===a?25:0))),p.push(o["default"].createElement(C["default"],{key:"lvl"+(a+1),className:(0,s["default"])("fbc_mlItem","fbc_select",{"hasValue":i}),display:i?(y["default"].getGeoInfo(i)||{}).name||b.lang.cOptionLoading:b.lang.cSelectorPlaceholder,imageUri:!(!i||0!==a)&&"url("+window.rootPath("images/nationalFlag/"+i+".gif")+")",selectArrowStyle:c,style:u["default"].assign({width:g},i?r:d),onExpand:t.handleCheckDropDownContent.bind(t,m)},h)),i?void 0:"break"},g=a.isLimitCountry?1:0;g<h;g++){var v=m(g);if("break"===v)break}return p},handleChangeAddressDetail:function(e){var t=this,a=this.props.data;g["default"].dispatch({type:"setAddressInput",id:a.id,value:e.target.value});var n=this.props.fill;n&&(!n||n.struct&&!u["default"].isEmpty(n.struct))&&2!==a.componentType||g["default"].getRawLocationInfo(e.target.value,a.isLimitCountry?+a.limitCountry:null,2===a.componentType?0:1).done(function(n){if(0===n.r&&n.d){var i=["I","II","III","IV"],l=[];i.forEach(function(t,a){if(n.d[t]){var o=n.d[t];return l.push(o),void(n.d.mpLoc&&y["default"].addGeoInfo(o,n.d[i[a-1]],n.d.mpLoc[o]))}return!1}),l[0]===a.limitCountry&&t._handleProcessNextLvl(l)}})},handleChangeZipCode:function(e){
var t=this.props.data;g["default"].dispatch({type:"setAddressZipCode",id:t.id,value:e.target.value})},render:function(){var t=this.props,a=t.data,n=t.fill,i=t.valid,l=t.componentStyle,r=t.style,d=t.itemNum,u=a.minLevel,c=a.limitCountry,f=a.isLimitCountry,h=this.formStyle(),p=h.selectStyle,m=(h.selectPlaceholderStyle,h.inputStyle),g=h.inputWithIconStyle,v=h.inputIconStyle,S=f&&c&&0!==+c,C=["fbc_mlContent","fbc_widthCp"],_=[],E=0;S&&_.push(o["default"].createElement("div",{className:"fbc_mlItem fbc_select hasValue country is-limitCountry",key:"limitCountry",style:p},o["default"].createElement("p",{className:"fbc_selectValue hasImage",style:{backgroundImage:"url(images/nationalFlag/"+c+".gif)"}},(y["default"].getGeoInfo(c)||{}).name))),2===a.componentType?(f&&(C.push("has-country"),E="1"===u?99:24),(!S||S&&"1"!==u)&&(C.push("has-city"),_.push(o["default"].createElement(w["default"],{component:"input",type:"text",className:"fbc_mlItem fbc_input city",key:"city",value:n?n.content:"",icon:f?null:String.fromCharCode(59083),themeColor:r.themeColor,style:f?m:g,iconStyle:v,placeholder:b.lang.cAddressDetailsPlaceholder,onChange:this.handleChangeAddressDetail})))):(_=_.concat(this.renderSelector()),_.push(o["default"].createElement("div",{className:"clearB",key:"clearB"})),_.push(o["default"].createElement("div",{className:"fbc_addressDetails",key:"details"},o["default"].createElement(w["default"],{component:"input",type:"text",className:(0,s["default"])("fbc_mlItem","fbc_input","address",{"error":i&&i.indexOf("required")>-1}),value:n?n.content:"",style:m,placeholder:b.lang.cAddressDetailsPlaceholder,onChange:this.handleChangeAddressDetail}),o["default"].createElement(w["default"],{component:"input",type:"text",className:"fbc_mlItem fbc_input zipCode",value:n?n.zipCode:"",style:m,placeholder:b.lang.cAddressCodePlaceholder,onChange:this.handleChangeZipCode}),o["default"].createElement("div",{className:"clearB"}))));var I=10*(a.cpWidth||8),N={},k={};return 2===+a.cpLayout&&(N={"float":"left",paddingTop:6,width:((r.bodyStyle||{}).cpTitleWidth||20)+"%"},k={"float":"left",width:100-((r.bodyStyle||{}).cpTitleWidth||20)+"%"},d&&d>1&&(N.width="auto",N.maxWidth=105-I+"%",k.width=I-5+"%",I=100)),o["default"].createElement("div",{className:(0,s["default"])("fb_component",a.type),id:a.id,style:l},o["default"].createElement("div",{className:"fb_componentText",style:N},this.renderTitle(a),this.renderSubtitle(a),this.renderError(i)),o["default"].createElement("div",{className:"fb_componentBody",style:k},o["default"].createElement("div",{className:C.join(" "),style:{width:I+"%"}},_,o["default"].createElement("div",{className:"clearB"}))))}}),t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}a.__esModule=!0;var l=n(14),o=i(l),r=n(26),s=i(r),d=n(43),u=i(d),c=n(8),f=i(c),h=n(60),p=i(h),m=n(47),g=i(m),v=n(35),y=i(v),b=n(9),S=n(51),C=i(S),_=n(57),w=i(_);a["default"]=o["default"].createClass({displayName:"Component(AddressMobile)",mixins:[C["default"],p["default"]],getInitialState:function(){var t=this.props.data,a=this.props.fill,n=[];return this.processedList=[],t.isLimitCountry&&+t.limitCountry>0&&n.push(+t.limitCountry),a&&a.struct&&(this.isSelected=!0,n=n.concat(a.struct)),{currentLocationInfo:{},currentSelected:n,searchResult:[]}},componentDidMount:function(){var t=this;this.handlePreGetDropDownContent(this.props,this.state),this.needGetId&&this.needGetId.length>0&&f["default"].forEach(this.needGetId,function(a){t.handleCheckDropDownContent(a)})},componentWillUpdate:function(t,a){this.handlePreGetDropDownContent(t,a)},componentDidUpdate:function(){var t=this;if(this.updateSelector){if(this.refs[this.updateSelector]){var a=s["default"].findDOMNode(this.refs[this.updateSelector]);a.focus()}this.updateSelector=!1}this.needGetId&&this.needGetId.length>0&&f["default"].forEach(this.needGetId,function(a){t.handleCheckDropDownContent(a)})},handlePreGetDropDownContent:function(t,a){var n=this;!t.fill||f["default"].isEmpty(t.fill)||f["default"].isEmpty(t.fill.struct)||(!t.data.isLimitCountry&&this.handleCheckDropDownContent(null),f["default"].forEach(a.currentSelected,function(t){n.processedList.indexOf(t)===-1&&(n.isSelected=!0,n.handleCheckDropDownContent(t))}))},handleGetNextLevelData:function(t){this.processedList.push(t),g["default"].getLocationInfo(t,4,"",this.handleUpdateCurrentLocationInfo,!0)},handleCheckDropDownContent:function(t,a){this.state.currentLocationInfo[t]||(a&&(this.focusElm="dp"+t),this.handleGetNextLevelData(t))},handleUpdateCurrentLocationInfo:function(t,a){var n={};n[t]=a,this.isSelected=!1,this.focusElm&&(this.updateSelector=this.focusElm,this.focusElm=null),this.isMounted()&&this.setState({currentLocationInfo:f["default"].assign({},this.state.currentLocationInfo,n)})},handleSelectOption:function(t,e){var a=this.props.data,n=this.state.currentSelected.slice(0,t);n.push(+e.target.value),this.setState({currentSelected:n});var i=void 0;i=a.minLevel?+a.minLevel:4,this.isSelected=!0,g["default"].dispatch({type:"setAddressSelector",id:a.id,value:n.slice(a.isLimitCountry?1:0)}),this.handleGetNextLevelData(+e.target.value)},handleChangeAddressDetail:function(e){var t=this.props.data;g["default"].dispatch({type:"setAddressInput",id:t.id,value:e.target.value})},handleBlurAddressDetail:function(e){var t=this,a=this.props.data;g["default"].dispatch({type:"setAddressInput",id:a.id,value:e.target.value});var n=this.props.fill;n&&(!n||n.struct&&!f["default"].isEmpty(n.struct))&&2!==a.componentType||g["default"].getRawLocationInfo(e.target.value,a.isLimitCountry?+a.limitCountry:null,2===a.componentType?0:1).done(function(n){if(0===n.r&&n.d){var i=["I","II","III","IV"],l=[];i.forEach(function(t,a){if(n.d[t]){var o=n.d[t];return l.push(o),void(n.d.mpLoc&&y["default"].addGeoInfo(o,n.d[i[a-1]],n.d.mpLoc[o]))}return!1}),l[0]===a.limitCountry&&t._handleProcessNextLvl(l)}})},handleChangeZipCode:function(e){var t=this.props.data;g["default"].dispatch({type:"setAddressZipCode",id:t.id,value:e.target.value})},renderSelector:function(){var t=this;this.needGetId=[];var a=this.props.data,n=this.state,i=n.currentSelected,l=this.formStyle(),r=l.inputStyle,s=(l.selectStyle,l.selectPlaceholderStyle,void 0);s=a.minLevel?+a.minLevel:4;for(var d=[],c=function(a){var l=i[a],s=null,c=a-1>-1?i[a-1]:null;if(n.currentLocationInfo[c])s=[],s.push(o["default"].createElement("option",{value:"",key:"default"},b.lang.cSelectorPlaceholder)),f["default"].forEach(n.currentLocationInfo[c],function(t){t.name&&s.push(o["default"].createElement("option",{value:""+t.id,key:"lcid"+t.id},(v._EMOJI_FLAGS_MAPPING[t.id]?v._EMOJI_FLAGS_MAPPING[t.id]+"   ":"")+t.name))});else if(null===t.state.currentLocationInfo[c])return"break";return t.isSelected&&!l?"break":(null===s&&t.needGetId.push(c),d.push(o["default"].createElement("div",{className:(0,u["default"])("fbc_locItem","fbc_select",{"hasValue":l}),key:"fbSelect"+c+a,onClick:null===s?t.handleCheckDropDownContent.bind(t,c,!0):null},o["default"].createElement("i",{className:"iconfont fbc_selectArrow",style:{lineHeight:r.height+"px"}},String.fromCharCode(58983)),s?o["default"].createElement("select",{className:(0,u["default"])("fbc_innerSelect"),ref:"dp"+c,onChange:t.handleSelectOption.bind(t,a),value:""+l,style:r},s):o["default"].createElement("p",{className:"fbc_selectValue fbc_innerSelect",style:f["default"].assign({},r,{lineHeight:"38px",padding:"0 5px"})},b.lang.cSelectorPlaceholder))),l?void 0:"break")},h=a.isLimitCountry?1:0;h<s;h++){var p=c(h);if("break"===p)break}return d},render:function(){var t=this.props,a=t.data,n=t.fill,i=t.valid,l=t.componentStyle,r=t.style,s=a.minLevel,d=a.limitCountry,c=a.isLimitCountry,f=this.formStyle(),h=(f.selectStyle,f.selectPlaceholderStyle,f.inputStyle),p=f.inputWithIconStyle,m=f.inputIconStyle,g=c&&d&&0!==+d,S=["fbc_mlContent","fbc_widthCp"],C=null,_=[];return g&&_.push(o["default"].createElement("div",{className:"fbc_locItem fbc_select hasValue country",key:"limitCountry"},o["default"].createElement("p",{className:"fbc_selectValue hasImage"},(v._EMOJI_FLAGS_MAPPING[d]?v._EMOJI_FLAGS_MAPPING[d]+"   ":"")+((y["default"].getGeoInfo(d)||{}).name||"")))),2===a.componentType?(!g||g&&"1"!==s)&&_.push(o["default"].createElement(w["default"],{component:"input",type:"text",className:"fbc_locItem fbc_input city",key:"city",value:n?n.content:"",icon:c?null:String.fromCharCode(59083),themeColor:r.themeColor,style:c?h:p,iconStyle:m,placeholder:b.lang.cAddressDetailsPlaceholder,spellCheck:!1,autoComplete:"off",onChange:this.handleChangeAddressDetail,onBlur:this.handleBlurAddressDetail})):_=_.concat(this.renderSelector(),[o["default"].createElement(w["default"],{component:"input",type:"text",className:"fbc_locItem fbc_input address",key:"addressInput",placeholder:b.lang.cAddressDetailsPlaceholder,style:h,spellCheck:!1,onChange:this.handleChangeAddressDetail,onBlur:this.handleBlurAddressDetail,value:n?n.content||"":""}),o["default"].createElement(w["default"],{component:"input",type:"text",className:"fbc_locItem fbc_input zipCode",key:"zipCodeInput",style:h,placeholder:b.lang.cAddressCodePlaceholder,spellCheck:!1,onChange:this.handleChangeZipCode,value:n?n.zipCode||"":""})]),o["default"].createElement("div",{className:(0,u["default"])("fb_component",a.type),id:a.id,style:l},this.renderTitle(a),this.renderSubtitle(a),this.renderError(i),o["default"].createElement("div",{className:S.join(" "),style:C},_,o["default"].createElement("div",{className:"clearB"})))}}),t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}a.__esModule=!0;var l=n(14),o=i(l),r=n(26),s=i(r),d=n(43),u=i(d),c=n(8),f=i(c),h=n(35),p=i(h),m=n(60),g=i(m),v=n(47),y=i(v),b=n(9),S=n(38),C=i(S),_=n(32),w=(i(_),n(110)),E=i(w),I=n(25),N=i(I),k=n(112),T=i(k),M=n(12),x=i(M),D=n(51),P=i(D),O="images/form/form_picExample_bg.png";a["default"]=o["default"].createClass({displayName:"Component(Commodity)",mixins:[P["default"],g["default"]],componentDidMount:function(){this.popElem=document.getElementById("popwin")},handleImgError:function(e){this.isHandleError&&(this.isHandleError=!0,e.target.src=window.rootPath(O))},handleShowPreview:function(t,e){e.preventDefault(),e.stopPropagation();var a=(0,N["default"])(e.target).next(),n=C["default"].getLockTop();s["default"].render(o["default"].createElement(T["default"],{img:t,from:{x:a.offset().left,y:a.offset().top-n,width:a.width(),height:a.height()},duration:200}),this.popElem)},handleCountChange:function(t,e,a){y["default"].dispatch({type:"setCommodityValue",id:this.props.data.id,cId:t,value:a})},renderCommodities:function(){var t=this.props,a=t.data,n=t.fill,i=(t.valid,t.cartValid),l=t.isMobile,r=t.mode,s=this.formStyle(),d=s.optionTipsStyle,c=s.commodityNameStyle,h=s.commodityDescribeStyle,m=p["default"].getSettings(),g=a.commodities||[],v=[],y=null,C=0,_=a.optionsLayout;l&&(_=Math.min(2,_||0));for(var w=0,I=g.length;w<I;w++)if(y=g[w],1!==r||y.sId&&null!=y.price){var N=null,k=!1,T=null,M=null;if(a.isLimitStock&&a.isLimitOptions&&a.optionsQuotaInfo&&a.optionsQuotaInfo[y.sId]){var D=a.optionsQuotaInfo[y.sId];if(f["default"].isNumber(D[2])&&D[2]>=0&&(T=D[2]),f["default"].isNumber(D[1])&&(M=D[1]-D[0]>=0?D[1]-D[0]:0),a.isHideFullOption&&0===M){k=!0;continue}if(a.isShowOptionLimit){var P=null,L=!1;f["default"].isNumber(M)&&(L=!0,P=b.lang.cQuotaRemainingFunc({remaining:Math.max(M,0)})),f["default"].isNumber(T)&&(P=L?b.lang.cCommodityRemainMaxTips({max:Math.max(Math.min(M,T),0),remain:Math.max(M,0)}):b.lang.cCommodityMaxTips({max:Math.max(T,0)})),N=o["default"].createElement("p",{className:"fbc_commodityTips",style:d},P)}}var F=null;a.isLimitStock&&a.isLimitOptions&&(f["default"].isNumber(T)&&(F=T),f["default"].isNumber(M)&&(F=F?Math.min(F,M):M)),a.isLimitStock&&a.setMaxBuyNum&&a.setMaxBuyNum[y.id]&&(F=null!==F&&void 0!==F?Math.min(+a.setMaxBuyNum[y.id],F):+a.setMaxBuyNum[y.id]),null===F&&(F=1/0);var R=y.image||{},A=R.isLink?R.linkUri:R.imageUri,W=R.isLink?R.linkUri:R.imageFullUri;1===a.optionsLayout&&(A=W);var B=null;A&&(B=o["default"].createElement("div",{className:"fbc_commodityImage",key:"prImg"},o["default"].createElement("span",{className:"fbc_imgPreview iconfont",onClick:this.handleShowPreview.bind(this,W)},String.fromCharCode(59010)),o["default"].createElement("img",{className:"fbc_commodityImg",src:window.rootPath(A||O),onError:this.handleImgError,onClick:F>(n?n[y.sId]||0:0)?this.handleCountChange.bind(this,y.sId,null,(n?n[y.sId]||0:0)+1):null})));var U="￥";""+m.cartSymbol=="0"?U=m.cartSymbolDefined||"":m.cartSymbol&&(U=b.lang.cCurrencySymbolArray[m.cartSymbol-1]);var H=x["default"].getProperties(),V=(""+x["default"].localeStringToNumber(y.price)).split(".");l||(V=x["default"].localeStringToNumber(y.price).toFixed(2).split("."));var z="javascript:void(0)";if(y.isJumpTo&&y.jumpTo){var j=(0,S.linkify)(y.jumpTo);j&&(z=j)}var G=null;f["default"].isArray(y.describe)?!function(){var t=y.describe.length;G=f["default"].map(y.describe,function(a,n){var i=a,l=n+1===t?null:o["default"].createElement("br",null);return!a&&t>1?o["default"].createElement("br",{key:"emptyLine"+n}):o["default"].createElement("span",{key:"line"+n},i,l)})}():G=o["default"].createElement("p",null,y.describe||""),C++,v.push(o["default"].createElement("li",{key:"item"+w,className:(0,u["default"])("fbc_commodityLi",{"clearB":C%_===1})},B,o["default"].createElement("p",{className:"fbc_commodityName",style:c},y.isJumpTo&&y.jumpTo?o["default"].createElement("a",{className:"fbc_commodityNameJump",target:"_blank",href:z},y.name||""):y.name||""),y.describe?o["default"].createElement("p",{className:"fbc_commodityDescribe",style:h},G):null,N,o["default"].createElement("div",{className:"fbc_purchaseInfo"},a.isHidePrice?null:o["default"].createElement("p",{className:"fbc_commodityPrice"},U+" "+V[0],V[1]?o["default"].createElement("span",{className:"decimalPart"},H.decimal+V[1]):null),o["default"].createElement(E["default"],{className:"cp_iCountPicker fbc_commodityCount",name:"count",maxDisabled:i&&(i.indexOf("quantityOver")>-1||i.indexOf("amountOver")>-1),inputDisable:!1,maxValue:F,value:n?n[y.sId]||0:0,minValue:0,onChange:this.handleCountChange.bind(this,y.sId)}))))}else console.error("commodity component ID LOST ->."+y.id+" : "+y.name);return a.isLimitStock&&a.isLimitOptions&&a.isShowOptionLimit&&0===v.length&&g.length>0&&v.push(o["default"].createElement("li",{className:"fbc_emptyTip"},b.lang.cOptionNull)),v},render:function(){var t=this.props,a=t.data,n=t.valid,i=t.componentStyle,l=t.isMobile,r=a.optionsLayout;return l&&(r=Math.min(2,r||0)),o["default"].createElement("div",{className:(0,u["default"])("fb_component",a.type),id:a.id,style:i},this.renderTitle(a),this.renderSubtitle(a),this.renderError(n),o["default"].createElement("ul",{className:(0,u["default"])("fbc_content","commodity",r?"layout-"+r:"")},this.renderCommodities(),o["default"].createElement("li",{className:"clearB"})))}}),t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}a.__esModule=!0;var l=n(14),o=i(l),r=n(26),s=i(r),d=n(43),u=i(d),c=n(111),f=i(c),h=n(29),p=i(h),m=n(51),g=i(m);a["default"]=o["default"].createClass({displayName:"LegoCountPicker.react",mixins:[g["default"]],propTypes:{className:o["default"].PropTypes.string,name:o["default"].PropTypes.string,style:o["default"].PropTypes.object,hasInput:o["default"].PropTypes.bool,inputDisable:o["default"].PropTypes.bool,value:o["default"].PropTypes.number,maxValue:o["default"].PropTypes.number,minValue:o["default"].PropTypes.number,stepValue:o["default"].PropTypes.number,disabled:o["default"].PropTypes.bool,maxDisabled:o["default"].PropTypes.bool,minDisabled:o["default"].PropTypes.bool,onChange:o["default"].PropTypes.func},getDefaultProps:function(){return{btnTitle:[],hasInput:!0,maxValue:1/0,minValue:0,stepValue:1,value:0}},getInitialState:function(){return{value:this._returnValueValid(this.props.value),defaultValue:this._returnValueValid(this.props.value),focus:!1}},componentWillReceiveProps:function(t){this.setState({value:this._returnValueValid(t.value,t),defaultValue:this._returnValueValid(t.value,t)})},_returnValueValid:function(t,a){return a||(a=this.props),t-=0,isNaN(t)||Math.floor(t)!==t?a.minValue:Math.min(Math.max(a.minValue,t),a.maxValue)},handleReduce:function(e){e.stopPropagation(),this.props.disabled||this.state.value<this.props.minValue||this.props.minDisabled||this.handleValueChange(e,this.state.value-this.props.stepValue)},handleIncrease:function(e){e.stopPropagation(),this.props.disabled||this.state.value>this.props.maxValue||this.props.maxDisabled||this.handleValueChange(e,this.state.value+this.props.stepValue)},handleKeyDown:function(e){e=e||window.event;var t=e.keyCode||e.which,a=s["default"].findDOMNode(this.refs.countpickerInput).value;38===t?(e.stopPropagation(),e.preventDefault(),this.handleReduce(e)):40===t?(e.stopPropagation(),e.preventDefault(),this.handleIncrease(e)):13===t&&this.handleValueChange(e,a)},handleUnitMouseDown:function(e){e.stopPropagation(),e.preventDefault(),this.props.disabled||(this.setState({focus:!0}),f["default"].focusEnd(s["default"].findDOMNode(this.refs.countpickerInput),!0))},handleFocus:function(e){this.props.disabled||this.setState({focus:!0})},handleBlur:function(e){var t=s["default"].findDOMNode(this.refs.countpickerInput).value;this.handleValueChange(e,t),this.setState({focus:!1})},handleChange:function(e){var t=s["default"].findDOMNode(this.refs.countpickerInput).value;this.setState({defaultValue:t})},handleValueChange:function(e,t){var a=this.props,n=this._returnValueValid(t-0);this.setState({value:n,defaultValue:n}),a.onChange&&a.onChange(e,n)},render:function(){var t=this.state,a=t.value,n=this.props,i={"lg-countpicker-reduce":!0,"disabled":n.disabled||a==n.minValue||a<n.minValue||n.minDisabled},l={"lg-countpicker-increase":!0,"disabled":n.disabled||a==n.maxValue||a>n.maxValue||n.maxDisabled},r={"lg-countpicker":!0,"no-input":!n.hasInput};n.className&&n.className.split(" ").forEach(function(t){t&&(r[t]=!0)});var s={ref:"countpickerInput",className:(0,u["default"])({"lg-countpicker-input":!0,"lg-countpicker-focus":t.focus}),type:p["default"].fuzzyDeviceCheck?"number":"text",value:t.defaultValue,autoComplete:"off",onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,disabled:n.disabled||n.inputDisable,style:{pointerEvents:n.disabled||n.inputDisable?"none":"visible"},tabIndex:0},d=null,c=null;return n.hasInput&&(d=o["default"].createElement("input",s),n.unit&&(c=n.unitFont?o["default"].createElement("span",{className:"iconfont lg-countpicker-unit",onMouseDown:this.handleUnitMouseDown},n.unit):o["default"].createElement("i",{className:"iconfont lg-countpicker-unit",onMouseDown:this.handleUnitMouseDown},n.unit))),o["default"].createElement("div",{className:(0,u["default"])(r)},o["default"].createElement("a",{className:(0,u["default"])(i,"iconfont"),tabIndex:-1,title:n.btnTitle[0]||"",onMouseDown:this.handleReduce},n.hasInput?String.fromCharCode(58980):""),d,c,o["default"].createElement("a",{className:(0,u["default"])(l,"iconfont"),tabIndex:-1,title:n.btnTitle[1]||"",onMouseDown:this.handleIncrease},n.hasInput?String.fromCharCode(58979):""),o["default"].createElement("div",{className:"clearB"}))}}),t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function l(t){return(t||"").replace(C,"").replace(_,"").replace(w,S).replace(E,"").replace(I,"")}function o(t,a){for(var n=a?1:0,i=t.firstChild;i;){var l=!1;i.nodeName in y?n+=o(i,!0):"BR"!==i.nodeName||i.getAttribute("data-empty")||(l=!0),i=i.nextSibling,!l||!i&&a||n++}return n}function r(t,a,n){if(!t)return{lineNum:0,strLength:0};for(var i=n.strLen,r=n.lineContent,s=n.currentLineStr,d=t.previousSibling,u=0,c=n.currentStrLength,f=a;d;)!f||"BR"===d.nodeName||d.nodeName in y||(i+=c,c=0,r.push(s),s="",u++),f=!1,3===d.nodeType?(s+=l(d.nodeValue||""),c+=l(d.nodeValue||"").length):"BR"!==d.nodeName&&(s+=l(d.textContent||d.innerText||""),c+=l(d.textContent||d.innerText||"").length),"BR"!==d.nodeName||d.getAttribute("data-empty")?d.nodeName in y&&(u+=o(d,!0),i+=c,c=0,r.push(s),s="",f=!0):(i+=c,c=0,r.push(s),s="",u++),d=d.previousSibling;return{lineNum:u,strLength:i,currentStrLength:c}}function s(t){var a,n,i,l,o,r,s=t.ownerDocument||t.document;return o=s.selection.createRange(),l=0,o&&o.parentElement()===t&&(i=t.value.replace(/\r\n/g,"\n"),n=i.length,r=t.createTextRange(),r.moveToBookmark(o.getBookmark()),a=t.createTextRange(),a.collapse(!1),l=r.compareEndPoints("StartToEnd",a)>-1?n:-r.moveStart("character",-n)),l}function d(t){var a=!1;if(!t)return a;var n=t.ownerDocument||t.document;if("undefined"!=typeof window.getSelection){var i=null;try{i=window.getSelection().getRangeAt(0)}catch(e){return a}var l=i.cloneRange();l.selectNodeContents(t),l.setEnd(i.endContainer,Math.min(i.endContainer.length,i.endOffset));var o=i.commonAncestorContainer,d=[],u="",c=0,f=0,h=0,p=!1;if(o===t&&(o=o.childNodes[o.childNodes.length-1]),!o)return{strPos:0,lineNumEnd:0,linePosEnd:0};var m=r(o,o.nodeName in y,{strLen:f,currentStrLength:h,lineContent:d,currentLineStr:u});c+=m.lineNum,f=m.strLength,h=m.currentStrLength,3!==o.nodeType&&o.nodeName in y||(p=!0);for(;p&&o.parentNode!==t;){o=o.parentNode;var v=o.nodeName in y,b=r(o,v,{strLen:f,currentStrLength:h,lineContent:d,currentLineStr:u});c+=b.lineNum,f=b.strLength,h=b.currentStrLength,p=3===o.nodeType||!v}var S=d.length<1?f:g["default"].reduce(g["default"].map(d,function(t){return t.length}),g["default"].add),C=l.toString().length;a={strPos:C,lineNumEnd:c,linePosEnd:0===c?C:C-S}}else"undefined"!=typeof n.selection&&"Control"!=n.selection.type&&(a={strPos:s(t),linePosEnd:null,lineNumEnd:null});return a}function u(t,a,n){var i=t.childNodes,o=n.line,r=Math.max(n.pos,0),s=n.prevStr,d=t.ownerDocument||t.document,c=!1;return g["default"].forEach(i,function(f,h){var p=f.nodeName;if(3===f.nodeType){var m=l(f.nodeValue||"");if(o===a.lineNumEnd&&r+m.length>=a.strPos){var g=window.getSelection(),v=d.createRange();return v.setStart(f,a.strPos-r),g.removeAllRanges(),g.addRange(v),c=!0,!1}r+=m.length}else if("BR"===p){if(h===i.length-1&&n.isBlock||o++,o===a.lineNumEnd&&r>=a.strPos){var b=window.getSelection(),S=d.createRange();return S.setStart(t,0),b.removeAllRanges(),b.addRange(S),c=!0,!1}}else{p in y&&0!==h&&o++;var C=u(f,a,{line:o,pos:r,isBlock:p in y,prevStr:s});if(!C)return c=!0,!1;o=C.line,r=C.pos}}),!c&&{line:o,pos:r,prevStr:s}}function c(t,a){if(t){if(t&&0===t.childNodes.length)return void t.focus();var n=t.ownerDocument||t.document;n.createRange&&window.getSelection&&u(t,a,{line:0,pos:0,isBlock:!1,prevStr:null})}}function f(t,a){if("INPUT"!==t.nodeName&&p(t,t.childNodes.length),0===t.value.length)return void t.focus();if(document.createRange&&window.getSelection&&t.setSelectionRange){var n=window.getSelection();n.removeAllRanges(),t.focus();var i=Math.min(t.value.length,a);t.setSelectionRange(i,i)}else t.focus()}function h(t){"INPUT"===t.nodeName?f(t,t.value.length):p(t,t.childNodes.length)}function p(t,a){if(0===t.childNodes.length)return void t.focus();if(document.createRange&&window.getSelection){var n=window.getSelection();n.removeAllRanges();var i=document.createRange();i.selectNodeContents(t),i.setStart(t,Math.min(t.childNodes.length,a)),i.collapse(!0),n.addRange(i)}t.focus()}a.__esModule=!0,a.blockHTMLNode=void 0;var m=n(8),g=i(m),v=n(37),y=(i(v),a.blockHTMLNode={"ADDRESS":!1,"ARTICLE":!0,"ASIDE":!0,"AUDIO":!0,"BLOCKQUOTE":!1,"CANVAS":!0,"DD":!1,"DIV":!1,"DL":!1,"FIELDSET":!1,"FIGCAPTION":!0,"FIGURE":!0,"FOOTER":!0,"FORM":!1,"H1":!1,"H2":!1,"H3":!1,"H4":!1,"H5":!1,"H6":!1,"HEADER":!0,"HGROUP":!0,"HR":!1,"NOSCRIPT":!1,"OL":!1,"OUTPUT":!0,"P":!1,"PRE":!1,"SECTION":!0,"TABLE":!1,"TFOOT":!1,"UL":!1,"VIDEO":!0}),b="&nbsp;",S=" ",C=new RegExp("\r","g"),_=new RegExp("\n","g"),w=new RegExp(b,"g"),E=new RegExp("&#13;?","g"),I=new RegExp("&#8203;?","g");a["default"]={focusPosition:c,focusEnd:h,getCaretPosition:d}},function(t,a,n){(function($){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}a.__esModule=!0;var l=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=n(8),r=i(o),s=n(14),d=i(s),u=n(26),c=i(u),f=n(43),h=i(f),p=n(38),m=i(p),g=n(113),v=i(g);a["default"]=d["default"].createClass({displayName:"FCImagePreview",getInitialState:function(){return this.time=+new Date,{position:this.props.from,showClose:!1}},componentDidMount:function(){this.popElem=document.getElementById("popwin"),m["default"].getImageSize(this.props.img).then(this.handleImageLoad),this.$image=$(c["default"].findDOMNode(this.refs.img)),m["default"].lockPageScroll()},componentWillUnmount:function(){$(c["default"].findDOMNode(this.refs.img)).unbind("load.imgLoader")},doClose:function(){this.props.onClose&&this.props.onClose(),m["default"].unLockPageScroll(),c["default"].unmountComponentAtNode(this.popElem)},handleClose:function(){this.props.isCantClose||this.doClose()},handleImageLoad:function(t){var a=this,n=this.props,i=m["default"].getWindowSize(),l=1;if(!t)return void this.setState({position:{x:(i.width-Math.ceil(e.target.width))/2,y:(i.height-Math.ceil(e.target.height))/2,width:Math.ceil(e.target.width),height:Math.ceil(e.target.height)},showClose:!0});t.width>.8*i.width&&(l=Math.min(l,.8*i.width/t.width)),t.height>.8*i.height&&(l=Math.min(l,.8*i.height/t.height));var o=(i.width-Math.ceil(t.width*l))/2,r=(i.height-Math.ceil(t.height*l))/2;setTimeout(function(){a.setState({position:{x:o,y:r,width:Math.ceil(t.width*l),height:Math.ceil(t.height*l)},showClose:!0})},n.duration||500)},handlePinchStart:function(e){this.defaultScale=this._getScale(this.$image),this.defaultPosition=this.$image.position()},handlePinchPicture:function(e,t){this.$image.css({transform:"scale("+Math.min(Math.max(.3,this.defaultScale.x*t.scale),2)+")"})},handleZoomPicture:function(e){this.defaultScale=this._getScale(this.$image),this.defaultScale.x>1?this.$image.css({transform:"scale(1)"}):this.$image.css({transform:"scale(1.3)"})},handleWheelZoomPicture:function(e){this.defaultScale=this._getScale(this.$image),this.$image.css({transform:"scale("+Math.min(Math.max(.3,this.defaultScale.x+.05*(e.deltaY>0?-1:1)),2)+")"})},_getScale:function(t){var a=t.css("-webkit-transform")||t.css("-moz-transform")||t.css("-ms-transform")||t.css("-o-transform")||t.css("transform"),n={"x":1,"y":1};if(a){var i=a.replace(/[^0-9\-.,]/g,"").split(",");n.x=parseFloat(i[0])||1,n.y=parseFloat(i[3])||1}return n},handleTouchMove:function(e,t){if(e.preventDefault(),e.stopPropagation(),e.touches&&e.touches.length>1){var a=0,n=0,i=0,l=0;r["default"].forEach(t.start,function(o,r){t.move[r]&&(n++,a+=t.move[r].x-o.x,l++,i+=t.move[r].y-o.y)}),a=Math.ceil(a/n),i=Math.ceil(i/l),this.$image.css({left:Math.min(120,Math.max(-120,this.defaultPosition.left+a)),top:Math.min(120,Math.max(-120,this.defaultPosition.top+i))})}},handlePreventDefault:function(e){e.stopPropagation(),e.preventDefault()},render:function(){var t=this.state.position,a=this.state.showClose,n=this.props,i=n.className,o=n.title,r=n.img,s=null;o&&(s=d["default"].createElement("div",{className:"pop_header"},d["default"].createElement("p",{className:"pop_title"},o)));var u=a?d["default"].createElement("a",{className:"iconfont pop_close",onClick:this.doClose},String.fromCharCode(58982)):null,c=(0,v["default"])({pinchStart:this.handlePinchStart,pinch:this.handlePinchPicture,onTouchMove:this.handleTouchMove,doubleTap:this.handleZoomPicture});return d["default"].createElement("div",{className:(0,h["default"])("pop_wrapper",i),onScroll:this.handlePreventDefault,onWheel:this.handlePreventDefault},d["default"].createElement("div",{className:"pop_mask",onClick:this.handleClose}),d["default"].createElement("div",{className:"pop_imgPreview",style:{top:t.y,left:t.x,width:t.width,height:t.height}},d["default"].createElement("image",l({className:"pop_image",ref:"img",src:window.rootPath(r),width:"100%",height:"100%"},c,{onWheel:this.handleWheelZoomPicture})),u))}}),t.exports=a["default"]}).call(a,n(25))},,function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}a.__esModule=!0;var l=n(14),o=i(l),r=n(43),s=i(r),d=n(8),u=i(d),c=n(9),f=n(47),h=i(f),p=n(35),m=i(p),g=n(38),v=i(g),y=n(48),b=n(12),S=i(b),C=n(51),_=i(C);a["default"]=o["default"].createClass({displayName:"Cart",mixins:[_["default"]],getInitialState:function(){return h["default"].getState()},componentDidMount:function(){this.unsubscribe=h["default"].addChangeListener(this.handleStateChange)},componentWillUnmount:function(){this.unsubscribe()},handleStateChange:function(){this.setState(h["default"].getState())},handleChoosePayment:function(t){h["default"].dispatch({type:"paymentType",data:t})},renderCartItem:function(t,a){return o["default"].createElement("li",{className:"fb_cartCommodity",key:t.sId},o["default"].createElement("span",{className:"fb_cartTd name"},t.name),o["default"].createElement("span",{className:"fb_cartTd quantity"},"× "+Math.ceil(t.num)),o["default"].createElement("span",{className:"fb_cartTd subTotal"},t.noPrice?"-":a+" "+S["default"].localeNumberFormatter(t.total,2,2)))},renderError:function(t){if(!t)return null;var a=u["default"].without(t,"tip","tipHint");return o["default"].createElement("p",{className:"fb_cartError"},(0,y.getErrorContent)(a[0],null))},render:function(){var t=this,a=this.state.data,n=this.state.payment,i=m["default"].getSettings();if(!m["default"].hasSale())return null;var l="￥";""+i.cartSymbol=="0"?l=i.cartSymbolDefined||"":i.cartSymbol&&(l=c.lang.cCurrencySymbolArray[i.cartSymbol-1]);var r=m["default"].processCart(a);if(0===r.length)return this.props.valid&&!u["default"].isEmpty(this.props.valid)?o["default"].createElement("div",null,this.renderError(this.props.valid)):null;var d=m["default"].isInnerFormPay(),f=m["default"].getInnerFormPayInfo(),h=0;f&&f.isKuaiQian&&(h=1);var p=u["default"].reduce(r,function(t,a){return t+100*a.total},0),g={price:l+" "+S["default"].localeNumberFormatter(p/100,2,2),priceClass:{className:"price"}},y=f.payOnlineMethod||[1,2,4];return v["default"].inIframe()&&y.indexOf(1)>-1&&y.splice(y.indexOf(1),1),!f.pvt&&y.indexOf(2)>-1&&y.splice(y.indexOf(2),1),o["default"].createElement("div",null,o["default"].createElement("div",{className:"fb_cart"},o["default"].createElement("p",{className:"fb_cartTitle"},d&&y.length>0?c.lang.cCommodityPayTitle:c.lang.cCommodityNoPayTitle),o["default"].createElement("div",{className:"fb_cartTable"},o["default"].createElement("p",{className:"fb_cartTh"},o["default"].createElement("span",{className:"fb_cartTd name"},c.lang.cCommodityName),o["default"].createElement("span",{className:"fb_cartTd quantity"},c.lang.cCommodityQuantity),o["default"].createElement("span",{className:"fb_cartTd subTotal"},c.lang.cCommoditySubTotal)),o["default"].createElement("ul",{className:"fb_cartCommodities"},u["default"].map(r,function(a){return t.renderCartItem(a,l)}))),o["default"].createElement("p",{className:"fb_cartTotal"},d&&y.length>0&&p/100>=h&&p>0?c.lang.cCommodityPayTotal(g):c.lang.cCommodityNoPayTotal(g)),d&&p/100>=h&&p>0?o["default"].createElement("ul",{className:"fb_paymentMethod"},u["default"].map(m["default"].SUPPORT_PAYMENT_METHOD,function(a){if(y.indexOf(+a.id)===-1)return null;var i=n&&n.type===+a.id;return o["default"].createElement("li",{className:(0,s["default"])("fb_pmItem","fb_pmItemNum"+y.length,{active:i}),onClick:t.handleChoosePayment.bind(t,+a.id),key:"pay"+a.id},o["default"].createElement("div",{className:"fb_pmImg",style:{backgroundPosition:a.bgPosition}}),o["default"].createElement("p",{className:"fb_pmTitle"},a.name),i?o["default"].createElement("div",{className:"fb_pmChosenImg"}):null)})):null),this.renderError(this.props.valid))}}),t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}a.__esModule=!0;var l=n(14),o=i(l),r=n(43),s=i(r),d=n(38),u=i(d),c=n(60),f=i(c),h=n(116),p=i(h),m=n(51),g=i(m),v="//api.map.baidu.com/marker",y="baidumap://map/marker";
a["default"]=o["default"].createClass({displayName:"Component(Map)",mixins:[g["default"],f["default"]],componentDidMount:function(){this.visibilityChange=function(){var t=document.hidden||document.webkitHidden;t&&clearTimeout(this.appCheckTimer)},this.iosVisibilityChange=function(){clearTimeout(this.appCheckTimer)}},componentWillUnmount:function(){window.clearTimeout(this.fallbackTimer),window.clearTimeout(this.appCheckTimer)},handleOpenInMap:function(t){var a=this,n=1e3;if(!a.inProgress){if(a.inProgress=!0,!u["default"].deviceCheck.isMobile)return a.inProgress=!1,void window.open(v+"?"+t,"_blank");var i=!0,l=+new Date;this.fallbackTimer=window.setTimeout(function(){a.inProgress=!1,i||(window.location.href=v+"?"+t),document.removeEventListener("visibilitychange",a.visibilityChange,!1),document.removeEventListener("webkitvisibilitychange",a.visibilityChange,!1),window.removeEventListener("pagehide",a.iosVisibilityChange,!1),window.removeEventListener("blur",a.iosVisibilityChange,!1)},2*n),document.addEventListener("visibilitychange",a.visibilityChange,!1),document.addEventListener("webkitvisibilitychange",a.visibilityChange,!1),window.addEventListener("pagehide",a.iosVisibilityChange,!1),window.addEventListener("blur",a.iosVisibilityChange,!1);try{window.location.href=y+"?"+t}catch(e){i=!1}this.appCheckTimer=window.setTimeout(function(){var t=+new Date;(!l||t-l<1.6*n+28)&&(i=!1)},1.6*n)}},render:function(){var t=this.props,a=t.data,n=t.componentStyle,i=t.fw,l=t.itemNum,r=t.isMobile,d=[];d=a.coordinate?p["default"].outChina.apply(null,a.coordinate)?a.coordinate:p["default"].gcj02tobd09.apply(null,p["default"].wgs84togcj02.apply(null,a.coordinate)):[104.09289837961923,30.653808371337494];var u=Math.ceil(i-64);l&&!r&&(u=Math.ceil((i-64*l)/l)),u=Math.min(1024,u*(r?1.5:1));var c="";return a.isShowInfoBox&&d&&a.mapInfoContent&&(c="&labels="+[d[0]+2e-4,d[1]+3e-4]+"&labelStyles="+[a.mapInfoContent,1,14,"0x333333","0xffffff",0]),o["default"].createElement("div",{className:(0,s["default"])("fb_component","fb_staticComponent",a.type),id:a.id,style:n},o["default"].createElement("div",{className:"fbc_staticMap"},o["default"].createElement("a",{className:"fbc_smLocation",target:"_blank",href:"javascript:void(0)",onClick:this.handleOpenInMap.bind(this,"location="+(_.trim(d[1])+","+_.trim(d[0]))+"&title="+encodeURIComponent(a.mapLocation||"")+"&content="+encodeURIComponent(a.mapInfoContent||a.mapLocation||"")+"&output=html&src=webapp.mikecrm.mikemap")},o["default"].createElement("img",{width:"100%",src:location.protocol+"//api.map.baidu.com/staticimage/v2?ak=EDb798da5e9a45ddd62246439064d449&center="+d+"&width="+u+"&height="+300*(r?1.5:1)+"&zoom="+(+(a.mapScale||9)+2)+"&markers="+d+"&markerStyles=m,,0xff0000"+c}))))}}),t.exports=a["default"]},function(t,a){"use strict";a.__esModule=!0;var n=52.35987755982988,i=3.141592653589793,l=6378245,o=.006693421622965943,r=function(t,a){var i=t-.0065,l=a-.006,o=Math.sqrt(i*i+l*l)-2e-5*Math.sin(l*n),r=Math.atan2(l,i)-3e-6*Math.cos(i*n),s=o*Math.cos(r),d=o*Math.sin(r);return[s,d]},s=function(t,a){var i=Math.sqrt(t*t+a*a)+2e-5*Math.sin(a*n),l=Math.atan2(a,t)+3e-6*Math.cos(t*n),o=i*Math.cos(l)+.0065,r=i*Math.sin(l)+.006;return[o,r]},d=function(t,a){if(h(t,a))return[t,a];var n=c(t-105,a-35),r=f(t-105,a-35),s=a/180*i,d=Math.sin(s);d=1-o*d*d;var u=Math.sqrt(d);n=180*n/(l*(1-o)/(d*u)*i),r=180*r/(l/u*Math.cos(s)*i);var p=a+n,m=t+r;return[m,p]},u=function(t,a){if(h(t,a))return[t,a];var n=c(t-105,a-35),r=f(t-105,a-35),s=a/180*i,d=Math.sin(s);d=1-o*d*d;var u=Math.sqrt(d);return n=180*n/(l*(1-o)/(d*u)*i),r=180*r/(l/u*Math.cos(s)*i),mglat=a+n,mglng=t+r,[2*t-mglng,2*a-mglat]},c=function(t,a){var n=-100+2*t+3*a+.2*a*a+.1*t*a+.2*Math.sqrt(Math.abs(t));return n+=2*(20*Math.sin(6*t*i)+20*Math.sin(2*t*i))/3,n+=2*(20*Math.sin(a*i)+40*Math.sin(a/3*i))/3,n+=2*(160*Math.sin(a/12*i)+320*Math.sin(a*i/30))/3},f=function(t,a){var n=300+t+2*a+.1*t*t+.1*t*a+.1*Math.sqrt(Math.abs(t));return n+=2*(20*Math.sin(6*t*i)+20*Math.sin(2*t*i))/3,n+=2*(20*Math.sin(t*i)+40*Math.sin(t/3*i))/3,n+=2*(150*Math.sin(t/12*i)+300*Math.sin(t/30*i))/3},h=function(t,a){return t<72.004||t>137.8347||a<.8293||a>55.8271||!1};a["default"]={bd09togcj02:r,gcj02tobd09:s,wgs84togcj02:d,gcj02towgs84:u,outChina:h},t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function l(t,a){switch(t){case"1":return b.serialNumberGenerator.alphaNumberUpper(a);case"2":return b.serialNumberGenerator.alphaNumberLower(a);case"3":return b.serialNumberGenerator.numberSimple(a);case"4":return b.serialNumberGenerator.romanNumberUpper(a);default:return""}}a.__esModule=!0;var o=n(14),r=i(o),s=n(26),d=i(s),u=n(43),c=i(u),f=n(8),h=i(f),p=n(60),m=i(p),g=n(64),v=n(47),y=i(v),b=n(61),S=n(112),C=i(S),_=(n(48),n(25)),w=i(_),E=n(9),I=n(38),N=i(I),k=n(51),T=i(k),M="images/form/form_picExample_bg.png",x=[null,1,.495,.327,.2425];a["default"]=r["default"].createClass({displayName:"Component(PictureRadio&Checkbox)",mixins:[T["default"],m["default"]],componentDidMount:function(){this.popElem=document.getElementById("popwin")},isFill:function(t,a){function n(t,a){return i&&t?a:t}var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(h["default"].isArray(t)){for(var l=0,o=t.length;l<o;l++)if(h["default"].isObject(t[l])){if(t[l].id===a)return n(!0,t[l])}else if(t[l]===a)return n(!0,t[l]);return!1}return n(t===a,t)},handleSelectOption:function(t){var a=this.props.data;y["default"].dispatch({type:"setSelector",id:a.id,value:t,isCheckbox:"picCheckbox"===a.type})},handleImgError:function(e){this.isHandleError&&(this.isHandleError=!0,e.target.src=M)},handleShowPreview:function(t,e){e.preventDefault(),e.stopPropagation();var a=(0,w["default"])(e.target);"IMG"===e.target.nodeName||(a=a.next());var n=N["default"].getLockTop();d["default"].render(r["default"].createElement(C["default"],{img:t,from:{x:a.offset().left,y:a.offset().top-n,width:a.width(),height:a.height()},duration:200}),this.popElem)},renderOptions:function(){var t=this.props,a=t.data,n=t.fill,i=t.fw,o=t.itemNum,s=t.isMobile,d=t.mode,u=this.formStyle(),f=u.optionStyle,p=u.optionTipsStyle,m=a.options||[],v=[],y=null,b=0,S=a.optionsLayout;s&&(S=Math.min(2,S||0),3!=a.picLayout&&4!=a.picLayout||(S=1));var C=s?0:15,_=s?20:60,w=null,I=o||1,N=(i/I-_-C)*x[S]-4,k=!1;"picCheckbox"===a.type&&1===a.isLimitChooseNum&&void 0!==a.chooseNumTo&&""!==a.chooseNumTo&&n&&n.length>=a.chooseNumTo&&(k=!0);for(var T=0,D=m.length;T<D;T++)if(y=m[T],1!==d||y.sId){var P=this.isFill(n||[],y.sId),O=null,L=!1;if(a.isLimitOptions&&a.optionsQuotaInfo&&y.sId in a.optionsQuotaInfo){var F=a.optionsQuotaInfo[y.sId],R=F[1]-F[0];if(R<=0&&1===a.isHideFullOption)continue;R<=0&&(L=!0),a.isShowOptionLimit?O=r["default"].createElement("span",{className:"fbc_optionTips",style:p},E.lang.cQuotaRemainingFunc({remaining:R>0?R:0})):L&&(O=r["default"].createElement("span",{className:"fbc_optionTips",style:h["default"].assign({},p,{color:"#ccc"})},E.lang.cQuotaRemainingFull))}b++,1===+S||b%S!==1||1!==a.picLayout&&a.picLayout||(w=0,h["default"].forEach(m.slice(T,T+S),function(t){if(t.image&&t.image.height&&t.image.width){var a=1;N<t.image.width&&(a=N/t.image.width),w<t.image.height*a&&(w=t.image.height*a)}}));var A=y.image||{},W=A.isLink?A.linkUri:A.imageUri,B=A.isLink?A.linkUri:A.imageFullUri;1===a.optionsLayout&&(W=B);var U=r["default"].createElement("div",{className:"fbc_picOptionImage",key:"prImg",style:{minHeight:w}},W?[r["default"].createElement("span",{className:"fbc_imgPreview iconfont",key:"preview",onClick:this.handleShowPreview.bind(this,B)},String.fromCharCode(59010)),r["default"].createElement("image",{className:"fbc_picOptionImg",key:"img",src:window.rootPath(W||M),onError:this.handleImgError})]:null),H="picCheckbox"===a.type?g.CommonCheckbox:g.CommonRadio,V=r["default"].createElement("p",{key:"prContent",style:f,className:(0,c["default"])("fbc_optionVal",a.type,{checked:P,disabled:!P&&(k||L),isFull:!P&&L})},r["default"].createElement(H,{className:"fbc_optionSvg",fallbackClassName:"fbc_optionIcon",checked:P,disabled:!P&&(k||L),style:{padding:1,paddingTop:Math.ceil(Math.max((f.minHeight-(s?20:16))/2,0))}}),r["default"].createElement("span",{className:"fbc_optionLabel"},(a.isAutoNo?l(a.autoNo,b):"")+y.value,O)),z=[U,V];2!=a.picLayout&&4!=a.picLayout||(z=[V,U]),v.push(r["default"].createElement("li",{key:"item"+T,className:(0,c["default"])("fbc_picOptionsLi",{"clearB":b%S===1,"fbc_picOptionsChecked":P}),onClick:!k&&!L||P?this.handleSelectOption.bind(this,y.sId):null},z))}else console.error("component ID LOST ->."+y.id+" : "+y.value);return a.isLimitOptions&&a.optionsQuotaInfo&&0===v.length&&m.length>0&&v.push(r["default"].createElement("li",{className:"fbc_emptyTip"},E.lang.cOptionNull)),v},renderTips:function(){var t=this.props,a=t.data,n=(t.fill,t.valid),i=this.formStyle(),l=i.tipsStyle;if("picCheckbox"!==a.type)return null;if(1!==a.isLimitChooseNum)return null;var o="";return void 0!==a.chooseNumFrom&&""!==a.chooseNumFrom&&void 0!==a.chooseNumTo&&""!==a.chooseNumTo?o+=a.chooseNumFrom==a.chooseNumTo?E.lang.cOptionsLimitEqualFunc({num:a.chooseNumFrom}):E.lang.cOptionsLimitRangeFunc({numForm:a.chooseNumFrom,numTo:a.chooseNumTo}):void 0!==a.chooseNumFrom&&""!==a.chooseNumFrom?o+=E.lang.cOptionsMoreThanNumFunc({numForm:a.chooseNumFrom}):void 0!==a.chooseNumTo&&""!==a.chooseNumTo&&(o+=E.lang.cOptionsLessThanNumFunc({numTo:a.chooseNumTo})),r["default"].createElement("p",{className:(0,c["default"])("fbc_tips",{error:(n||[]).indexOf("tip")>-1}),style:l},o)},render:function(){var t=this.props,a=t.data,n=t.valid,i=t.componentStyle,l=t.isMobile,o=a.optionsLayout;return l&&(o=Math.min(2,o||0),3!=a.picLayout&&4!=a.picLayout||(o=1)),r["default"].createElement("div",{className:(0,c["default"])("fb_component",a.type),id:a.id,style:i},this.renderTitle(a),this.renderSubtitle(a),this.renderTips(),this.renderError(n),r["default"].createElement("ul",{className:(0,c["default"])("fbc_content",o?"layout-"+o:"",{"fbc_picOptionContent_half":3===+a.picLayout||4===+a.picLayout,"fbc_picOptionContent_full":!(3===+a.picLayout||4===+a.picLayout)})},this.renderOptions(),r["default"].createElement("li",{className:"clearB"})))}}),t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function l(t,a){var n={};for(var i in t)a.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}a.__esModule=!0;var o=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=n(8),s=i(r),d=n(14),u=i(d),c=n(26),f=i(c),h=n(43),p=i(h),m=n(9),g=n(60),v=i(g),y=n(51),b=i(y),S=n(38),C=i(S),_=n(32),w=(i(_),n(112)),E=i(w),I=n(37),N=(i(I),n(25)),k=i(N),T=n(119),M=i(T),x=n(47),D=i(x),P=Promise.resolve(!0),O="images/form/picStatic_imgPlaceholder.png",L=u["default"].createClass({displayName:"LazyImg",mixins:[b["default"]],getInitialState:function(){return{}},componentDidMount:function(){var t=this,a=this.props.src;P=P.then(function(){return new Promise(function(n){var i=new Image;i.onload=function(){t.setState({src:a}),n(!0)},i.onerror=function(){n(!1)},i.src=a})})},render:function(){var t=this.props,a=(t.src,t.onError,t.width),n=t.style,i=l(t,["src","onError","width","style"]);return u["default"].createElement("img",o({src:window.rootPath(this.state.src?this.state.src:O)},i,{style:s["default"].assign({width:this.state.src?a:null},n)}))}});a["default"]=u["default"].createClass({displayName:"Component(Pictures)",mixins:[b["default"],v["default"]],getInitialState:function(){return this.popElem=document.getElementById("popwin"),this.debouceCalc=s["default"].debounce(this.handleCalcSize,200),this.picturesInfo={},{isOpen:!1}},componentDidMount:function(){this.handleCalcSize(),this.unsubscribe=D["default"].addChangeListener(this.handleStateChange)},componentDidUpdate:function(){this.handleCalcSize()},componentWillUnmount:function(){this.unsubscribe()},handleStateChange:function(t){"$$resize"===t.type&&this.handleCalcSize()},handleCalcSize:function(){var t=this,a=this.props,n=a.data,i=a.fw,l=a.itemNum,o=a.isMobile,r=o?10:30,d=null,u=C["default"].getWindowSize().width;try{d=Math.min(f["default"].findDOMNode(this).getBoundingClientRect().width,u)}catch(e){d=Math.floor(Math.min(i,u)/(o?1:l||1))}1!==n.picPaddingLRNone&&(d-=2*r);var c=n.picPadding||5,h=n.pictures,p=[],m=!1;if(s["default"].forEach(h,function(t){if(t)return m=!0,!1}),h&&m){for(var g=M["default"]._getSingleImageSize,v=function(a){if(h[a]){var n=h[a];n.width&&n.height||(t.picturesInfo[a]?n=s["default"].assign({},h[a],{width:t.picturesInfo[a].width,height:t.picturesInfo[a].height}):n.imageUri||n.linkUri?C["default"].getImageSize(n.imageUri||n.linkUri).done(function(n){t.picturesInfo[a]={width:n.width,height:n.height},t.debouceCalc()}):t.picturesInfo[a]={width:"auto",height:"auto"}),p.push(s["default"].assign({id:a},n))}else p.push({width:"auto",height:"auto",id:a})},y=0;y<(+n.picNumber||1);y++)v(y);var b=null;+n.picNumber>=2&&(g=M["default"]._getImagesColumnLayoutSize,+n.picNumber>2&&n.picLayout&&1!==n.picLayout&&(g=M["default"]._getImagesMultiOneLayoutSize,b=[[0,1,2],[0,[1,2]],[[0,1],2]],4===+n.picNumber&&(b=[[0,1,2,3],[0,[1,2,3]],[[0,1,2],3]]),b=b[(n.picLayout||1)-1]));var S=g(p,{width:d,gap:c,layout:b});if(S){s["default"].forEach(S.imgSize,function(a){if(t.refs["pic"+a.id]){var n=f["default"].findDOMNode(t.refs["pic"+a.id]);(0,k["default"])(n).css({width:a.width,height:a.height})}});var _={paddingLeft:1===n.picPaddingLRNone?0:r,paddingRight:1===n.picPaddingLRNone?0:r};"picNumber"in n&&1!==+n.picNumber||!h[0]||!h[0].picAlign||2===h[0].picAlign?(_.paddingLeft+=S.imgRLPadding,_.paddingRight+=S.imgRLPadding):_[1===h[0].picAlign?"paddingRight":"paddingLeft"]+=2*S.imgRLPadding,(0,k["default"])(f["default"].findDOMNode(this.refs.staticPic)).css(_)}}},_linkProcess:function(t){return(0,S.linkify)(t)||""},handleToggleFoldText:function(){this.setState({isOpen:!this.state.isOpen})},handleShowPreview:function(t,e){var a=(0,k["default"])(e.target),n=C["default"].getLockTop();f["default"].render(u["default"].createElement(E["default"],{img:t,from:{x:a.offset().left,y:a.offset().top-n,width:a.width(),height:a.height()},duration:200}),this.popElem)},handleOpenLinkInPage:function(t,e){if(t){var a=window.open(t,"_blank");a.focus()}else this.handleShowPreview(e)},renderPictures:function(){for(var t=this.props.data,a=+t.picNumber||1,n=t.picLayout||1,i=t.pictures||[],l=(t.picPadding||5)/2,o=[],r=0;r<a;r++){var s={};l&&(2==a?0==r?s={paddingRight:l}:1==r&&(s={paddingLeft:l}):3==a?0==r?(s={paddingRight:l},3==n&&(s.paddingBottom=l)):1==r?1==n?s={paddingLeft:l,paddingRight:l}:2==n?s={paddingLeft:l,paddingBottom:l}:3==n&&(s={paddingRight:l,paddingTop:l}):2==r&&(s={paddingLeft:l},2==n&&(s.paddingTop=l)):4==a&&(0==r?(s={paddingRight:l},3==n&&(s.paddingBottom=l)):1==r?1==n?s={paddingLeft:l,paddingRight:l}:2==n?s={paddingLeft:l,paddingBottom:l}:3==n&&(s={paddingRight:l,paddingTop:l,paddingBottom:l}):2==r?1==n?s={paddingLeft:l,paddingRight:l}:2==n?s={paddingTop:l,paddingLeft:l,paddingBottom:l}:3==n&&(s={paddingRight:l,paddingTop:l}):3==r&&(s={paddingLeft:l},2==n&&(s.paddingTop=l))));var d=i[r]?i[r].isLink?i[r].linkUri:i[r].imageUri:null,c={};l&&!d&&3==a&&(2==n&&0==r||3==n&&2==r)&&(c={paddingTop:60+l,paddingBottom:60+l}),l&&!d&&4==a&&(2==n&&0==r||3==n&&3==r)&&(c={paddingTop:110+2*l,paddingBottom:110+2*l});var f=null;i[r]&&i[r].isJumpTo&&(f=this._linkProcess(i[r].jumpTo)),o.push(u["default"].createElement("div",{className:"fbc_pictureImage",key:"pic"+r,style:s,ref:"pic"+r},u["default"].createElement("div",{className:(0,p["default"])({"fbc_piWrapper":!0,"no-image":!d}),style:c},u["default"].createElement(L,{className:"fbc_piImg",style:{cursor:f?"pointer":"default"},src:window.rootPath(d||O),onClick:f?this.handleOpenLinkInPage.bind(this,f):null,onError:this.handleImgError,width:"100%"}))))}var h=o;3==a&&2==n?h=[u["default"].createElement("div",{className:"fbc_pictureGroup big",key:"picGroup0"},o[0]),u["default"].createElement("div",{className:"fbc_pictureGroup small",key:"picGroup1"},o[1],o[2])]:3==a&&3==n?h=[u["default"].createElement("div",{className:"fbc_pictureGroup small",key:"picGroup0"},o[0],o[1]),u["default"].createElement("div",{className:"fbc_pictureGroup big",key:"picGroup1"},o[2])]:4==a&&2==n?h=[u["default"].createElement("div",{className:"fbc_pictureGroup big",key:"picGroup0"},o[0]),u["default"].createElement("div",{className:"fbc_pictureGroup small",key:"picGroup1"},o[1],o[2],o[3])]:4==a&&3==n&&(h=[u["default"].createElement("div",{className:"fbc_pictureGroup small",key:"picGroup0"},o[0],o[1],o[2]),u["default"].createElement("div",{className:"fbc_pictureGroup big",key:"picGroup1"},o[3])]);var m={"fbc_pictureWrapper":!0};return m["images-"+a]=!0,n&&(m["layout-"+n]=!0),u["default"].createElement("div",{className:(0,p["default"])(m),ref:"staticPic"},h,u["default"].createElement("div",{className:"clearB"}))},render:function(){var t=this.props,a=t.data,n=t.componentStyle,i=this.state.isOpen,l=!1;s["default"].forEach(a.pictures,function(t){if(t)return l=!0,!1});var o=this.formStyle(),r=o.describeStyle;n||(n={}),n.paddingTop=a.picPaddingTB||5,n.paddingBottom=a.picPaddingTB||5;var d=null;if(a.isAddDescribe)if(r=s["default"].assign(r,{textAlign:["","left","center","right"][a.picSubTitleAlign]}),a.isDescribeTextFold){var c=null;i?c=this.renderRichContent(a.picDescribe||"",a.picDescribe_style||null):a.describeFoldText&&(c=u["default"].createElement("span",{className:"fbc_foldTips"},this.renderRichContent(a.describeFoldText||"",a.describeFoldText_style||null))),d=u["default"].createElement("p",{className:(0,p["default"])({"fbc_foldContent":!0,"hasFoldText":c,"is-open":i}),style:r},c,u["default"].createElement("a",{className:"fbc_foldBtn",onClick:this.handleToggleFoldText},i?m.lang.cFoldText:m.lang.cUnFoldText,u["default"].createElement("i",{className:"iconfont fbc_foldIcon"},i?String.fromCharCode(58984):String.fromCharCode(58983))))}else d=u["default"].createElement("p",{className:"fbc_picDescribe",style:r},this.renderRichContent(a.picDescribe||"",a.picDescribe_style||null));return u["default"].createElement("div",{className:(0,p["default"])("fb_component","fb_staticComponent",a.type,{"fb_picture_none":!a.pictures||!l,"fb_staticPicPaddingNone":1===a.picPaddingLRNone}),id:a.id,style:n},this.renderPictures(),d)}}),t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function l(t,a){var n=a.width,i=(a.gap,0),l=t[0],o=[];return"auto"!==l.width&&(l.width<n?(o[0]=c["default"].assign({},l),i=Math.floor((n-l.width)/2)):o[0]={width:n,height:Math.floor(l.height/l.width*n)},{imgSize:o,imgRLPadding:Math.max(i,0),isSingle:!0})}function o(t,a){return t+a.width}function r(t,a){var n=a.width,i=a.gap,l=t.slice(),r=!1,s=Math.max.apply(null,c["default"].map(t,function(t){return"auto"===t.height&&(r=!0),"auto"===t.height?0:t.height})),d=[];l=c["default"].map(l,function(t,a){return s===t.height?t:"auto"===t.height?(d.push(a),t):c["default"].assign({},t,{width:t.width/t.height*s,height:s})});var u=null,f=120;if(d.length>0){var h=n-i*(t.length-1),p=c["default"].reduce(l,function(t,a){var n=a.width;return"auto"===a.width&&(n=0),t+n},0);if(p>=h)u=p,c["default"].forEach(d,function(t){u+=f,l[t]=c["default"].assign({},l[t],{width:f,height:s})});else{u=h;var m=Math.floor((u-p)/d.length),g=0;m<f&&(g=f-m),c["default"].forEach(d,function(t){u+=g,l[t]=c["default"].assign({},l[t],{width:m,height:s||(r?"auto":s)})})}}else u=c["default"].reduce(l,o,0);var v=1,y=void 0;return u>=n-i*(t.length-1)?(v=(n-i*(t.length-1))/u,l=c["default"].map(l,function(t){return c["default"].assign({},t,{width:Math.floor(t.width*v),height:Math.floor(t.height*v)})})):l=c["default"].map(l,function(t){return c["default"].assign({},t,{width:Math.floor(t.width),height:Math.floor(t.height)})}),y=(n-(c["default"].reduce(l,o,0)+i*(t.length-1))-2)/2,{imgSize:l,imgRLPadding:Math.max(y,0),totalWidth:u}}function s(t,a){var n=a.width,i=a.gap,l=a.layout,o=-1,r=null,s=[],u=!1,f=c["default"].map(l,function(a,n){if(c["default"].isArray(a))return o=n,c["default"].map(a,function(a){var n=c["default"].find(t,{id:a});return"auto"===n.width&&(u=!0,s.push(a)),n});var i=c["default"].find(t,{id:a});return"auto"===i.width&&(u=!0,r=a),i});if(o>-1){var h=function(){var t=f[o],a=f[1-o],l=c["default"].reduce(t,function(t,a){var n=a.width;return"auto"===n&&(u=!0,n=0),t+n},0),d=0;t.length-s.length>0?(d=l/(t.length-s.length),d>n-i&&(d=n-i)):s.length===t.length&&(d="auto"),t=c["default"].map(t,function(t){return"auto"===t.height?(u=!0,t):c["default"].assign({},t,{height:Math.floor(t.height/t.width*d),width:Math.floor(d)})});var h=c["default"].reduce(t,function(t,a){var n=a.height;return"auto"===n&&(u=!0,n=0),t+n},0)||0;0===h&&s.length===t.length&&(h="auto");var p=null;if(null!==r)p="auto"===h?0:h+i*(t.length-1),a="auto"===d?c["default"].assign({},a,{width:"auto",height:"auto"}):n-i<d?c["default"].assign({},a,{width:0,height:0}):c["default"].assign({},a,{width:Math.floor(n-i-d),height:Math.floor(p)});else if("auto"===h){var m=n-i-("auto"===d?0:d);m<a.width&&(a=c["default"].assign({},a,{width:m,height:a.height/a.width*m})),p=a.height}else p=Math.max(a.height,h+i*(t.length-1));s&&s.length>0&&("auto"===h?("auto"===d&&(d=n-i-a.width),c["default"].forEach(s,function(a){var n=c["default"].findIndex(t,{id:a});t[n]=c["default"].assign({},t[n],{width:d,height:(p-i*(t.length-1))/s.length})})):p<=h?c["default"].forEach(s,function(a){t[a]=c["default"].assign({},t[a],{width:0,height:0})}):(0===d&&(d=n-i-("auto"===a.width?0:a.width)),c["default"].forEach(s,function(a){var n=c["default"].findIndex(t,{id:a});t[n]=c["default"].assign({},t[n],{width:d,height:(p-i*(t.length-1)-h)/s.length})}),h=a.height-i*(t.length-1)));var g=1;"auto"!==h&&0!==h&&(g=(p-i*(t.length-1))/h);var v=1;"auto"!==a.height&&0!==a.height&&(v=p/a.height),t=c["default"].map(t,function(t){return c["default"].assign({},t,{height:Math.floor(t.height*g),width:Math.floor(t.width*g)})}),a=c["default"].assign({},a,{height:Math.floor(a.height*v),width:Math.floor(a.width*v)});var y=0;"auto"!==d&&(d*=g,y=Math.floor(d));for(var b=a.width+y,S=1,C=void 0;b>n-i;){if(S=(n-i)/b,t=c["default"].map(t,function(t){return"auto"===t.height?t:c["default"].assign({},t,{height:Math.floor(t.height*S),width:Math.floor(t.width*S)})}),"auto"!==a.height&&(a=c["default"].assign({},a,{height:Math.floor(a.height*S),width:Math.floor(a.width*S)}),"auto"!==h&&(h=c["default"].reduce(t,function(t,a){var n=a.height;return"auto"===n&&(u=!0,n=0),t+n},0)||0,p=Math.max(a.height,h+i*(t.length-1)),a.height!==p))){var _=p/a.height;a=c["default"].assign({},a,{height:Math.floor(a.height*_),width:Math.floor(a.width*_)})}d*=S,y=Math.floor(d),b=("auto"===a.width?0:a.width)+y}return C=Math.floor((n-b-i-2)/2),{v:{imgSize:1===o?[a].concat(t):t.concat(a),imgRLPadding:Math.max(C,0),totalWidth:b}}}();if("object"===("undefined"==typeof h?"undefined":d(h)))return h.v}return!1}a.__esModule=!0;var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=n(8),c=i(u);a["default"]={_getSingleImageSize:l,_getImagesColumnLayoutSize:r,_getImagesMultiOneLayoutSize:s},t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}a.__esModule=!0;var l=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=n(8),r=i(o),s=n(25),d=i(s),u=n(43),c=i(u),f=n(14),h=i(f),p=n(60),m=i(p),g=n(35),v=i(g),y=n(38),b=(i(y),n(32)),S=(i(b),n(113)),C=i(S),_=n(74),w=i(_),E=n(51),I=i(E);a["default"]=h["default"].createClass({displayName:"Component(PicCarousel)",mixins:[I["default"],m["default"]],getInitialState:function(){return this._initMobileEvent&&this._initMobileEvent(),{isHover:!1,currentIdx:0,pccLeft:0}},componentWillUpdate:function(){setTimeout(function(){(0,d["default"])(".fbc_pcImage").offset()},300)},componentDidMount:function(){var t=this.props.data;t.carouselPictures&&t.carouselPictures.length>0&&this._autoScroll()},componentWillUnmount:function(){this._stopAutoScroll()},_autoScroll:function(){var t=this;this.autoScroll=window.setTimeout(function(){t.handleSwitchToNext()},1e3*(this.props.data.speed||2)+400)},_stopAutoScroll:function(){window.clearTimeout(this.autoScroll)},_calculatePccPosition:function(t){var a=0,n=this.props,i=n.isMobile,l=n.fw,o=n.data,r=n.itemNum;if(l=(l-(i?40:80)*(r||1))/(i?1:r||1),2===o.picCarouselType){for(var s=0,d=0;d<t+1;d++){var u=o.carouselPictures[d];s+=u&&u.width&&u.height?Math.min(100,u.width*Math.min(1,40/u.height))+4:44}s+10*t>l&&(a=s+10*t-(l-20))}else 8*(t+1)+10*t>l&&(a=8*(t+1)+10*t-l);return a},handleMouseEnter:function(){this.setState({isHover:!0}),this._stopAutoScroll()},handleMouseLeave:function(){this.setState({isHover:!1}),this._autoScroll()},handleSwitchTo:function(t){this._stopAutoScroll();var a=this.state.currentIdx;this.switchTo=t>a?"Next":"Prev",this.setState({currentIdx:t,pccLeft:this._calculatePccPosition(t)}),this.state.isHover||this._autoScroll()},handleSwitchToPrev:function(){this._stopAutoScroll(),this.switchTo="Prev";var t=this.state.currentIdx,a=t-1;0===t&&(a=this.props.data.carouselPictures.length-1),this.setState({currentIdx:a,pccLeft:this._calculatePccPosition(a)}),this.state.isHover||this._autoScroll()},handleSwitchToNext:function(){this._stopAutoScroll(),this.switchTo="Next";var t=this.state.currentIdx,a=t+1;t===this.props.data.carouselPictures.length-1&&(a=0),this.setState({currentIdx:a,pccLeft:this._calculatePccPosition(a)}),this.state.isHover||this._autoScroll()},handleClick:function(){var t=this.state.currentIdx,a=this.props.data,n=a.carouselPictures[t]||{};if(n.isJumpTo&&n.jumpTo){var i=n.jumpTo;window.open((0,y.linkify)(i)||"http://"+i)}},handleSwipe:function(e,t){"left"===t.direction?this.handleSwitchToNext(e):"right"===t.direction&&this.handleSwitchToPrev(e)},_initMobileEvent:function(){this.touchEvent=(0,C["default"])({swipe:this.handleSwipe})},renderPictureCarouselOriginal:function(){var t=this.state.currentIdx,a=this.props,n=a.data,i=a.fw,o=a.isMobile,r=Math.floor(Math.min(1,(i-(o?20:60))/(v["default"].getFormWidth()-60))*(n.picHeight||200)),s=n.carouselPictures[t]||{},d=s.isLink?s.linkUri:s.imageUri;return h["default"].createElement("div",l({className:"fbc_pcMain original"},this.touchEvent,{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave}),h["default"].createElement("div",{className:"fbc_pcPictures",style:{height:r}},h["default"].createElement(w["default"],{key:"pcPicture",component:"div",className:"fbc_pcImageWrapper",transitionName:"pcSwitch-an"+(n.animation||1)+"-"+this.switchTo,enterTimeout:400,leaveTimeout:400},h["default"].createElement("div",{className:(0,c["default"])("fbc_pcImage",{"no-image":!d}),key:"pic"+(s.id||t)},h["default"].createElement("img",{className:(0,c["default"])("fbc_pcImg",{"isJumpTo":s.isJumpTo&&s.jumpTo}),src:window.rootPath(d||"images/form/carousels_imgPlaceholder.png"),onClick:this.handleClick}),s.name?h["default"].createElement("p",{className:"fbc_pcName"},s.name):null)),n.carouselPictures.length>1?[h["default"].createElement("a",{key:"prev",className:"iconfont fbc_pcPrev",onClick:this.handleSwitchToPrev},String.fromCharCode(58989)),h["default"].createElement("a",{key:"next",className:"iconfont fbc_pcNext",onClick:this.handleSwitchToNext},String.fromCharCode(58990))]:null))},renderPictureCarouselSlide:function(){var t=this.state.currentIdx,a=this.props,n=a.data,i=a.fw,o=a.isMobile,r=a.itemNum;i-=o?20:60;var s=Math.floor(Math.min(1,i/(v["default"].getFormWidth()-60))*(n.picHeight||200)),d=n.carouselPictures[t]||{},u=d.isLink?d.linkUri:d.imageUri,f=t-1;0===t&&(f=n.carouselPictures.length-1);var p=n.carouselPictures[f]||{},m=p.isLink?p.linkUri:p.imageUri,g=t+1;t===n.carouselPictures.length-1&&(g=0);var y=n.carouselPictures[g]||{},b=y.isLink?y.linkUri:y.imageUri,S={};if(d.name&&d.width&&d.height){i=(i-(o?20:60)*((r||1)-1))/(o?1:r||1);var C=Math.min(1,s/d.height);if(.9*i<d.width*C)C=Math.min(1,.9*i/d.width),S.bottom=(s-d.height*C)/2;else{var _=(.9*i-d.width*C)/2;S.left=_,S.right=_,S.bottom=(s-d.height*C)/2}}return h["default"].createElement("div",l({className:"fbc_pcMain slide"},this.touchEvent,{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave}),h["default"].createElement("div",{className:"fbc_pcPictures",style:{height:s}},h["default"].createElement(w["default"],{key:"pcPicture",component:"div",className:"fbc_pcImageWrapper",transitionName:"pcSlide-"+this.switchTo,enterTimeout:400,leaveTimeout:400},h["default"].createElement("div",{key:"prev"+f,className:(0,c["default"])("fbc_pcImage","prev",{"no-image":!m}),onClick:this.handleSwitchToPrev},h["default"].createElement("img",{className:"fbc_pcImg",src:window.rootPath(m||"images/form/carousels_imgPlaceholder.png")})),h["default"].createElement("div",{key:"cur"+t,className:(0,c["default"])("fbc_pcImage","current",{"no-image":!u})},h["default"].createElement("img",{className:(0,c["default"])("fbc_pcImg",{"isJumpTo":d.isJumpTo&&d.jumpTo}),onClick:this.handleClick,src:window.rootPath(u||"images/form/carousels_imgPlaceholder.png")}),d.name?h["default"].createElement("p",{className:"fbc_pcName",style:S},d.name):null),h["default"].createElement("div",{key:"next"+g,className:(0,c["default"])("fbc_pcImage","next",{"no-image":!b}),onClick:this.handleSwitchToNext},h["default"].createElement("img",{className:"fbc_pcImg",src:window.rootPath(b||"images/form/carousels_imgPlaceholder.png")})))))},renderPictureCarouselControlPanel:function(){var t=this,a=this.state,n=a.currentIdx,i=a.pccLeft,l=this.props.data,o=8*l.carouselPictures.length+10*(l.carouselPictures.length-1);return 2===l.picCarouselType&&(o=10*(l.carouselPictures.length-1),r["default"].map(l.carouselPictures,function(t){o+=t&&t.width&&t.height?Math.min(100,t.width*Math.min(1,40/t.height))+4:44})),h["default"].createElement("div",{className:"fbc_pcControlPanel"},h["default"].createElement("div",{className:"fbc_pccWrapper"},h["default"].createElement("ul",{className:"fbc_pccList",style:{width:Math.ceil(o),marginLeft:-(i||0)}},r["default"].map(l.carouselPictures,function(a,i){if(2===l.picCarouselType){var o=a||{},r=o.isLink?o.linkUri:o.imageUri;return h["default"].createElement("li",{key:"pcc"+i,className:(0,c["default"])("fbc_pccImage",{"active":i===n}),onClick:t.handleSwitchTo.bind(t,i)},h["default"].createElement("img",{className:"fbc_pccImg",src:window.rootPath(r||"images/form/carousels_imgPlaceholder.png")}))}return h["default"].createElement("li",{key:"pcc"+i,className:(0,c["default"])("fbc_pccDot",{"active":i===n}),onClick:t.handleSwitchTo.bind(t,i)})}))))},render:function(){var t=this.props,a=t.data,n=t.componentStyle;return a.carouselPictures&&a.carouselPictures.length>0?h["default"].createElement("div",{className:(0,c["default"])("fb_component","fb_staticComponent",a.type),id:a.id,style:n},h["default"].createElement("div",{className:(0,c["default"])("fbc_picCarousel","fbc_pct_"+(a.picCarouselType||1))},3===a.picCarouselType?this.renderPictureCarouselSlide():this.renderPictureCarouselOriginal(),this.renderPictureCarouselControlPanel())):null}}),t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}a.__esModule=!0;var l=n(14),o=i(l),r=n(43),s=i(r),d=n(9),u=n(60),c=i(u),f=n(51),h=i(f);a["default"]=o["default"].createClass({displayName:"Component(StaticText)",mixins:[h["default"],c["default"]],getInitialState:function(){return{isOpen:!1}},componentDidUpdate:function(){this.needFocus&&(this.refs.foldContent.focus(),this.needFocus=!1)},handleToggleFoldText:function(){this.setState({isOpen:!this.state.isOpen})},handleARIA_ToggleFoldText:function(e){13!==e.keyCode&&32!==e.keyCode||(this.needFocus=!0,this.handleToggleFoldText())},render:function(){
var t=this.props,a=t.data,n=t.componentStyle,i=this.state.isOpen,l=this.formStyle(),r=l.describeStyle,u=null,c="";if(a.isFoldText){var f=null;i?(c=this.getRawContent(a.title||""),f=this.renderRichContent(a.title||"",a.title_style||null)):a.foldContent&&(c=this.getRawContent(a.foldContent||""),f=o["default"].createElement("span",{className:"fbc_foldTips"},this.renderRichContent(a.foldContent||"",a.foldContent_style||null))),u=o["default"].createElement("div",{className:(0,s["default"])("fbc_foldContent","aria-content",{"hasFoldText":f,"is-open":i}),ref:"foldContent",tabIndex:1,role:"article","aria-label":c,style:r},f,o["default"].createElement("a",{className:"fbc_foldBtn aria-content",tabIndex:1,role:"button",onClick:this.handleToggleFoldText,onKeyDown:this.handleARIA_ToggleFoldText},i?d.lang.cFoldText:d.lang.cUnFoldText,o["default"].createElement("i",{className:"iconfont fbc_foldIcon","aria-hidden":!0},i?String.fromCharCode(58984):String.fromCharCode(58983))))}else c=this.getRawContent(a.title||""),u=o["default"].createElement("p",{className:"fbc_staticText aria-content",ref:"foldContent",tabIndex:1,"aria-label":c,role:"article",style:r},this.renderRichContent(a.title||"",a.title_style||null));return o["default"].createElement("div",{className:(0,s["default"])("fb_component","fb_staticComponent",a.type),id:a.id,style:n},o["default"].createElement("div",{className:"fb_componentBorder"}),u)}}),t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}a.__esModule=!0;var l=n(14),o=i(l),r=n(43),s=i(r),d=n(60),u=i(d),c=n(51),f=i(c);a["default"]=o["default"].createClass({displayName:"Component(Separator)",mixins:[f["default"],u["default"]],render:function(){var t=this.props,a=t.data,n=t.componentStyle,i=["","dotted","dashed","solid","double"],l={};return a.isNoPadding&&(l={marginLeft:0,marginRight:0}),o["default"].createElement("div",{className:(0,s["default"])("fb_component","fb_staticComponent",a.type),id:a.id,style:n},o["default"].createElement("div",{className:"fb_componentBorder"}),this.renderTitle(a),o["default"].createElement("hr",{className:"fbc_separatorHr "+i[a.borderType],style:l}),this.renderSubtitle(a))}}),t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}a.__esModule=!0;var l=n(14),o=i(l),r=n(43),s=i(r),d=n(9),u=n(60),c=i(u),f=n(57),h=i(f),p=n(51),m=i(p);a["default"]=o["default"].createClass({displayName:"Component(AuthCode)",mixins:[m["default"],c["default"]],handleChange:function(e){formStore.dispatch({type:"setValue",id:this.props.data.id,value:e.target.value})},handleBlur:function(e){formStore.dispatch({type:"inputBlur",id:this.props.data.id,value:e.target.value})},render:function(){var t=this.props,a=t.data,n=t.fill,i=t.valid,l=t.componentStyle,r=this.formStyle(),u=r.tipsStyle,c=r.inputStyle;return o["default"].createElement("div",{className:(0,s["default"])("fb_component",a.type),id:a.id,style:l},o["default"].createElement("div",{className:"fb_componentBorder"}),this.renderTitle(a),this.renderSubtitle(a),o["default"].createElement("p",{className:"fbc_tips",style:u},d.lang.cAuthCodeTips),o["default"].createElement("div",{className:"fbc_content fbc_widthCp",style:{width:10*(a.cpWidth||8)+"%"}},o["default"].createElement(h["default"],{component:"input",className:(0,s["default"])("fbc_input",{error:i&&i.length>0}),ref:"input",type:"text",spellCheck:!1,style:c,onChange:this.handleChange,onBlur:this.handleBlur,value:n||""}),o["default"].createElement("span",{className:"fbc_acImg"})))}}),t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}a.__esModule=!0;var l=n(14),o=i(l),r=n(43),s=i(r),d=n(60),u=i(d),c=n(37),f=i(c),h=n(125),p=i(h),m=n(51),g=i(m);a["default"]=o["default"].createClass({displayName:"Component(Video)",mixins:[g["default"],u["default"]],renderIframe:function(t,a){if(!t)return null;var n=(0,p["default"])(t);if(!n)return null;var i=null;switch(n.type){case"youtube":i="https://www.youtube.com/embed/"+n.id;break;case"vimeo":i="https://player.vimeo.com/video/"+n.id;break;case"youku":i="//player.youku.com/embed/"+n.id;break;case"tudou":if(3===n.playType)i="//player.youku.com/embed/"+n.id;else{var l="";n.playType&&(l="type="+n.playType+"&lcode="+n.lid+"&"),i="//www.tudou.com/programs/view/html5embed.action?"+l+"code="+n.id+"&autoPlay=false&playType=AUTO"}break;case"qq":i=a&&a.vid?"//v.qq.com/iframe/player.html?vid="+a.vid+"&tiny=0&auto=0":"//v.qq.com/iframe/player.html?vid="+n.vid+"&tiny=0&auto=0";break;case"iqiyi":a&&a.vid&&a.tvid&&(i="//open.iqiyi.com/developer/player_js/coopPlayerIndex.html?vid="+a.vid+"&tvId="+a.tvid+"&accessToken=2.f22860a2479ad60d8da7697274de9346&appKey=3955c3425820435e86d0f4cdfe56f5e7&appId=1368&height=100%&width=100%");break;case"bilibili":a&&a.aid&&(i="//player.bilibili.com/player.html?aid="+a.aid+"&cid="+a.cid+"&page=1");break;case"ximalaya":n.id&&(i="//www.ximalaya.com/thirdparty/player/"+n.mode+"/player.html?id="+n.id+"&type=red");break;case"163":n.id&&(i="//music.163.com/outchain/player?type="+n.mode+"&id="+n.id+"&auto="+(n.autoPlay?1:0)+"&height="+(n.height||66))}var r=this.props,s=r.fw,d=r.itemNum,u=r.isMobile,c=400,h="100%";if(c=!d||u?Math.ceil(9*(s-60)/16+30):Math.ceil((s-20*d)/d*9/16+18),"ximalaya"===n.type)c=230,"sound"===n.mode&&(c=40),h=260;else if("163"===n.type){c=+(n.height||66)+20,h=+(n.width||330);var m=!d||u?s-60:(s-20*d)/d;h>m&&(h=m)}return null===i?(f["default"].log(n),"letv"===n.type?o["default"].createElement("div",{dangerouslySetInnerHTML:{__html:'<object width="100%" height="'+c+"\">\n\t\t\t\t\t\t\t<param name='allowFullScreen' value='true'>\n\t\t\t\t\t\t\t\t<param name='movie' value=\"//img1.c0.letv.com/ptv/player/swfPlayer.swf?autoPlay=0&id="+n.id+"\"/>\n\t\t\t\t\t\t\t\t<embed allowFullScreen='true' type='application/x-shockwave-flash'\n\t\t\t\t\t\t\t\t       src=\"//img1.c0.letv.com/ptv/player/swfPlayer.swf?autoPlay=0&id="+n.id+'"\n\t\t\t\t\t\t\t\t       width="100%" height="'+c+'" />\n\t\t\t\t\t\t\t</param>\n\t\t\t\t\t\t</object>'}}):"taobao"===n.type?o["default"].createElement("video",{style:{width:"100%",height:c},controls:!0,autoPlay:!1},o["default"].createElement("source",{type:"video/mp4",src:"//cloud.video.taobao.com//play"+n.data})):null):o["default"].createElement("iframe",{width:h,height:c,src:i,frameBorder:"0",allowFullScreen:!0,webkitAllowFullScreen:!0,MozAllowFullscreen:!0,scrolling:"no"})},render:function(){var t=this.props,a=t.data,n=t.componentStyle;return o["default"].createElement("div",{className:(0,s["default"])("fb_component","fb_staticComponent",a.type),id:a.id,style:n},this.renderIframe(a.staticVideoUrl,a.videoInfo))}}),t.exports=a["default"]},function(t,a){"use strict";function n(t){return o.isMatch(t)?o.getInfo(t):r.isMatch(t)?r.getInfo(t):i.isMatch(t)?i.getInfo(t):l.isMatch(t)?l.getInfo(t):s.isMatch(t)?s.getInfo(t):d.isMatch(t)?d.getInfo(t):u.isMatch(t)?u.getInfo(t):c.isMatch(t)?c.getInfo(t):f.isMatch(t)?f.getInfo(t):h.isMatch(t)?h.getInfo(t):g.isMatch(t)?g.getInfo(t):v.isMatch(t)?v.getInfo(t):p.isMatch(t)?p.getInfo(t):m.isMatch(t)?m.getInfo(t):null}a.__esModule=!0;var i=function(){var t=/^(https?:\/{2})?(w{3}\.)?youtube|youtu\.be/;return{isMatch:function(a){return a.match(t)},getInfo:function(t){var a=null;return a=t.match("embed")?t.split(/embed\//)[1].split('"')[0]:t.split(/v\/|v=|youtu\.be\//)[1].split(/[?&]/)[0],{type:"youtube",id:a.split("#")[0]}}}}(),l=function(){var t=/^(https?:\/{2})?(w{3}\.)?vimeo\.com/;return{isMatch:function(a){return a.match(t)},getInfo:function(t){var a=t.split("/"),n=a[a.length-1];return{type:"vimeo",id:n}}}}(),o=function(){var t=/^(https?:\/{2})?((w{3}|v)\.)?youku\.com/,a=/id_(\w+)/;return{isMatch:function(a){return a.match(t)},getInfo:function(t){var n=a.exec(t),i=n[1];return{type:"youku",id:i}}}}(),r=function(){var t=/^(https?:\/{2})?((w{3}|video)\.)?tudou\.com/;return{isMatch:function(a){return a.match(t)},getInfo:function(t){var a=t.split("?")[0],n=t.split("?")[0].split("/").filter(function(t){return t}),i=a.match(/\/listplay\//),l=a.match(/\/albumplay\//),o=a.match(/\/v\//),r=n[n.length-1],s=null,d=null;return i||l||!o?(i||l)&&(r=r.split(".")[0],s=n[n.length-2],d=l?2:i?1:null):(r=r.replace(".html",""),d=3),{type:"tudou",id:r,lid:s,playType:d}}}}(),s=function(){var t=/^(https?:\/{2})?v\.qq\.com/;return{isMatch:function(a){return a.match(t)},getInfo:function(t){var a=t.indexOf("?vid=")===-1,n=null,i=null;if(a){var l=t.split("/");n=l[l.length-1],n=n.split(".")[0]}else{var o=t.split("vid=");i=o[o.length-1]}return{type:"qq",id:i?i.split(/&|#/)[0]:null,vid:n,"static":a}}}}(),d=function(){var t=/^(https?:\/{2})?(w{3}\.)?bilibili\.(com|tv)/;return{isMatch:function(a){return a.match(t)},getInfo:function(t){var a=t.split("/"),n=null;return a.forEach(function(t){if(t.match(/^av(\d)+$/))return n=t.replace("av",""),!1}),{type:"bilibili",id:n}}}}(),u=function(){var t=/\/\/player\.bilibili\.com/;return{isMatch:function(a){return a.match(t)},getInfo:function(t){var a=t.match(/aid=((.*?)&)/),n=t.match(/cid=((.*?)&)/);return{type:"bilibili",aid:a?a[2]:"",cid:n?n[2]:"","static":a}}}}(),c=(function(){var t=/^(https?:\/{2})?(w{3}\.)?le\.com/;return{isMatch:function(a){return a.match(t)},getInfo:function(t){var a=t.split(/[\/\?]/g),n=null;return a.forEach(function(t){if(t.match(/^(\d+)\.html$/))return n=t.replace(".html",""),!1}),{type:"letv",id:n}}}}(),function(){var t=/^(https?:\/{2})?(w{3}\.)?iqiyi\.com/;return{isMatch:function(a){return a.match(t)},getInfo:function(t){return{type:"iqiyi",tvid:null,vid:null}}}}()),f=function(){var t=/open\.iqiyi\.com/;return{isMatch:function(a){return a.match(t)},getInfo:function(t){var a=t.match(/vid=((.*?)&)/),n=t.match(/tvId=((.*?)&)/);return{type:"iqiyi",tvid:n[2],vid:a[2],"static":n&&a}}}}(),h=function(){var t=/^(https?:\/{2})?cloud\.video\.taobao\.com\/(\/)?play/;return{isMatch:function(a){return a.match(t)&&a.match(/\.mp4$/)},getInfo:function(a){var n=a.replace(t,"");return n=n.match(/[a-zA-z0-9\/\.]+/)[0],{type:"taobao",data:n}}}}(),p=function(){var t=/^(https?:\/{2})?www\.ximalaya\.com\/([^\/]+)\/(\d+)\/((\d+)\/?){0,1}/;return{isMatch:function(a){return a.match(t)},getInfo:function(a){var n="album",i=null,l=a.replace(t,function(){return(arguments.length<=5?void 0:arguments[5])?(n="sound",(arguments.length<=5?void 0:arguments[5])+"/"):(arguments.length<=3?void 0:arguments[3])+"/"});return i=l.split("/")[0],{type:"ximalaya",id:i,mode:n}}}}(),m=function(){var t=/(https?:\/{2})?www\.ximalaya\.com\/thirdparty\/player\/(album|sound)\/player\.html/;return{isMatch:function(a){return a.match(t)},getInfo:function(a){var n=a.match(/id=((.*?)&)/)[2],i=null;return a.replace(t,function(){return i=arguments.length<=2?void 0:arguments[2],""}),{type:"ximalaya",id:n,mode:i}}}}(),g=function(){var t=/^(https?:\/{2})?music\.163\.com\/\#\/(program)\?id=(\d+)&*/;return{isMatch:function(a){return a.match(t)},getInfo:function(a){var n=null,i=null;return a.replace(t,function(){return i=3,n=arguments.length<=3?void 0:arguments[3],""}),{type:"163",id:n,mode:i}}}}(),v=function(){var t=/\/\/music\.163\.com\/outchain\/player\?type=(\d{1})&id=(\d+)&auto=(\d{1})&height=(\d+)/;return{isMatch:function(a){return a.match(t)},getInfo:function(a){var n=null,i=null,l=null,o=null,r=null;return a.replace(t,function(){return i=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2],l=!!(arguments.length<=3?void 0:arguments[3]),o=+(arguments.length<=4?void 0:arguments[4]),""}),r=+a.match(/width=(\d+)/)[1],{type:"163",id:n,mode:i,autoPlay:l,height:o,width:r}}}}();a["default"]=n,t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}a.__esModule=!0;var l=n(14),o=i(l),r=n(43),s=i(r),d=n(9),u=n(8),c=i(u),f=n(60),h=i(f),p=n(47),m=i(p),g=n(57),v=i(g),y=n(40),b=n(51),S=i(b),C=(0,y.FORM_COMPONENTS_NAME_DETAILS)({np:d.lang.cnamePrefix,nf:d.lang.cnameFirst,nm:d.lang.cnameMiddle,nl:d.lang.cnameLast,ns:d.lang.cnameSuffix,nn:d.lang.cnameNick});a["default"]=o["default"].createClass({displayName:"Component(Name)",mixins:[S["default"],h["default"]],handleChange:function(e){var t={};t[e.target.name]=e.target.value,m["default"].dispatch({type:"setValue",id:this.props.data.id,value:t})},handleBlur:function(e){var t={};t[e.target.name]=e.target.value,m["default"].dispatch({type:"inputBlur",id:this.props.data.id,value:t})},render:function(){var t=this,a=this.props,n=a.data,i=a.fill,l=a.valid,r=a.componentStyle,u=a.isMobile,f=a.style,h=a.itemNum;i=i||{};var p=this.formStyle(),m=p.inputStyle,g=p.inputWithIconStyle,y=p.inputIconStyle,b=[];b=l&&l.length>0?["err"+n.id,"title"+n.id,"subtitle"+n.id,"placehoder"+n.id]:["title"+n.id,"subtitle"+n.id,"placehoder"+n.id];var S=o["default"].createElement(v["default"],{component:"input",key:"name",name:"n",className:(0,s["default"])("fbc_input",{error:l&&l.length>0}),type:"text",spellCheck:!1,tabIndex:1,"aria-labelledby":b.join(" "),icon:String.fromCharCode(59073),themeColor:f.themeColor,style:g,iconStyle:y,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:n.placeholder||"",value:i.n||""}),_=n.detailsItem||[2,4];if(n.isOpenDetails&&!c["default"].isEmpty(_)){var w=101/_.length-1,E=!1;u&&(2===_.length?(E=!0,w=50):w=100);var I=!0;S=[];var N=[];c["default"].forEach(C,function(a){var r=a.id,u=a.name,f=a.title;if(c["default"].indexOf(_,r)!==-1){var h=!1;l&&l.indexOf("required")>-1&&(h=!i[u]);var p=I?b:[];I&&(N.push(o["default"].createElement("span",{className:"aria-name-struct-des",id:"nameStruct"+n.id,"aria-label":d.lang.ariaNameStruct+"."})),p.push("nameStruct"+n.id),I=!1),p.push("nameStruct"+u+n.id),N.push(o["default"].createElement("span",{className:"aria-name-struct-hint",id:"nameStruct"+u+n.id,"aria-label":f+"."})),S.push(o["default"].createElement(v["default"],{component:"input",key:"name"+r,name:u,type:"text",spellCheck:!1,className:(0,s["default"])("fbc_input nameItem",{"name_singleLine":E,"error":h}),tabIndex:1,"aria-labelledby":p.join(" "),style:c["default"].assign({width:w+"%"},m),onChange:t.handleChange,onBlur:t.handleBlur,placeholder:f,value:i[u]||""}))}}),S=S.concat(N)}var k=10*(u?10:n.cpWidth||8),T={},M={};return u||2!==+n.cpLayout||(T={"float":"left",paddingTop:6,width:((f.bodyStyle||{}).cpTitleWidth||20)+"%"},M={"float":"left",width:100-((f.bodyStyle||{}).cpTitleWidth||20)+"%"},h&&h>1&&(T.width="auto",T.maxWidth=105-k+"%",M.width=k-5+"%",k=100)),o["default"].createElement("div",{className:"fb_component name",id:n.id,style:r},o["default"].createElement("div",{className:"fb_componentText",style:T},this.renderTitle(n),this.renderSubtitle(n),this.renderError(l)),o["default"].createElement("div",{className:"fb_componentBody",style:M},o["default"].createElement("div",{className:"fbc_content fbc_widthCp",style:{width:k+"%"}},o["default"].createElement("span",{className:"aria-placeholder",id:"placehoder"+n.id,"aria-label":(n.placeholder||"")+"."}),S,o["default"].createElement("div",{className:"clearB"}))))}}),t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}a.__esModule=!0;var l=n(14),o=i(l),r=n(43),s=i(r),d=n(8),u=i(d),c=n(35),f=n(39),h=i(f),p=n(38),m=i(p),g=n(32),v=n(60),y=i(v),b=n(9),S=n(47),C=i(S),_=n(57),w=i(_),E=n(51),I=i(E),N=30;a["default"]=o["default"].createClass({displayName:"Component(MobileVerification)",mixins:[I["default"],y["default"]],getInitialState:function(){return this.validMobile=!1,this.getVerificationCode=!1,{isLock:!1,timer:N,codeValid:null}},componentWillUpdate:function(t,a){if(!this.state.isLock&&a.isLock){var n=this,i=(0,h["default"])().time()+1e3*N,l=void 0,o=function r(){var t=(0,h["default"])().time();i>=t?(n.setState({timer:Math.floor((i-t)/1e3),isLock:!0}),l=m["default"].rAF(r)):(n.setState({timer:0,isLock:!1}),m["default"].cAF(l))};o()}},componentWillReceiveProps:function(t){var a=this;!this.validMobile||t.valid&&!u["default"].isEmpty(t.valid)||(this.getVerificationCode=!0,this.validMobile=!1,this.setState({isLock:!0}),C["default"].getPhoneVerificationCode(this.props.data.id).done(function(t){0===t.r?a.setState({isLock:!0}):(a.validMobile=!0,a.setState({isLock:!0,codeValid:!1,lockValidCode:!1}))}).always(function(){a.getVerificationCode=!1}))},handleGetPhoneVerificationCode:function(){var t=this.props,a=t.fill,n=t.data;a&&a.mobile&&!this.state.isLock&&!this.validMobile&&(a.verificationToken&&!a.verificationMobileToken||(this._clearValidState(),this.validMobile=!0,C["default"].dispatch({type:"validMobile",id:n.id})))},_clearValidState:function(){this.setState({codeValid:null,lockValidCode:!1})},handleVerificationCodeChange:function(e){this.state.lockValidCode||(C["default"].dispatch({type:"setVerificationCode",id:this.props.data.id,value:e.target.value}),this.setState({codeValid:null}),4===e.target.value.length&&(this.setState({lockValidCode:!0}),C["default"].validVerificationCode(this.props.data.id,this.handleValidVerificationCode)))},handleValidVerificationCode:function(t){this.validVerificationCode=!1,this.setState({codeValid:t,lockValidCode:!1})},handleMobileChange:function(e){this.getVerificationCode=!1,this.validMobile=!1,this._clearValidState(),C["default"].dispatch({type:"setMobileValue",id:this.props.data.id,value:e.target.value})},render:function(){var t=this.state,a=t.isLock,n=t.timer,i=t.codeValid,l=this.props,r=l.data,d=l.fill,f=l.valid,h=l.componentStyle,p=l.isMobile,m=l.style,v=l.itemNum,y=this.formStyle(),S=y.inputStyle,C=y.inputBtnStyle,_=y.inputWithIconStyle,E=y.inputIconStyle,I=(0,g.getWidth)(b.lang.cMobileGetCode,(C.fontSize||14)+"px/1 "+c._FONT)+30,N=u["default"].assign(C,{width:I}),k=!1;!a&&d&&d.mobile&&!this.validMobile&&(d.verificationToken&&!d.verificationMobileToken||(k=!0)),k?N.borderColor=N.backgroundColor:(N.cursor="default",N.color="#999999",N.backgroundColor="#F9FAFB",N.borderColor="#D9D9D9");var T=o["default"].createElement("a",{className:"fbc_sendMsgAuth",style:N,onClick:this.handleGetPhoneVerificationCode},a?b.lang.cMobileHasSendCode({timer:n}):b.lang.cMobileGetCode),M=null;d&&d.verificationToken&&!d.verificationMobileToken&&(M=o["default"].createElement("p",{className:"fbc_noQuotaTips"},b.lang.cMobileNoQuotaTips),T=o["default"].createElement("a",{className:"fbc_sendMsgAuth",style:N},o["default"].createElement("i",{className:"iconfont"},String.fromCharCode(59173)),b.lang.cMobileCodeSucceed));var x=null;if(d&&d.verificationToken&&d.verificationMobileToken){var D=f&&(f.indexOf("errMobileVCRequired")>-1||f.indexOf("errMobileVCError")>-1),P=(0,g.getWidth)(b.lang.cMobileCodeInput+"*",(C.fontSize||14)+"px/1 "+c._FONT)+30,O=null;O="ar"===b.currentLang?{paddingRight:P+6}:{paddingLeft:P+6},x=o["default"].createElement("div",{className:"fbc_authInput"},o["default"].createElement("p",{className:"fbc_aiTitle",style:{width:P,lineHeight:S.lineHeight,fontSize:S.fontSize}},b.lang.cMobileCodeInput,o["default"].createElement("span",{className:"fbc_required"},"*")),o["default"].createElement(w["default"],{component:"input",type:"text",className:(0,s["default"])("fbc_input",{error:D}),style:u["default"].assign({},S,O),value:d.verificationCode||"",disabled:!!this.validVerificationCode&&"disabled",onChange:this.handleVerificationCodeChange}),o["default"].createElement("span",{className:(0,s["default"])("iconfont fbc_aiStatus",{isLoading:this.validVerificationCode,isTrue:i===!0,isFalse:i===!1}),style:{lineHeight:S.height-2+"px"}},null===i?"":i?String.fromCharCode(58988):String.fromCharCode(58938)))}var L=f&&(f.indexOf("mobileRequired")>-1||f.indexOf("errMobileExtResourceUnavailable")>-1||f.indexOf("errMobileAreaUnavailable")>-1||f.indexOf("required")>-1),F=10*(p?10:r.cpWidth||8),R={},A={};p||2!==+r.cpLayout||(R={"float":"left",paddingTop:6,width:((m.bodyStyle||{}).cpTitleWidth||20)+"%"},A={"float":"left",width:100-((m.bodyStyle||{}).cpTitleWidth||20)+"%"},"ar"===b.currentLang&&(A["float"]="right",R["float"]="right"),v&&v>1&&(R.width="auto",R.maxWidth=105-F+"%",A.width=F-5+"%",F=100));var W=null;return W="ar"===b.currentLang?{marginLeft:I?I+7:null}:{marginRight:I?I+7:null},o["default"].createElement("div",{className:"fb_component contactMobile",id:r.id,style:h},o["default"].createElement("div",{className:"fb_componentText",style:R},this.renderTitle(r),this.renderSubtitle(r),this.renderError(f)),o["default"].createElement("div",{className:"fb_componentBody",style:A},o["default"].createElement("div",{className:"fbc_content fbc_widthCp",style:{width:F+"%"}},o["default"].createElement("div",{className:"fbc_imItem isSendMsgAuth",style:W},o["default"].createElement(w["default"],{component:"input",className:(0,s["default"])("fbc_input",{error:L}),type:p?"tel":"text",spellCheck:!1,autoComplete:"off",icon:String.fromCharCode(59074),themeColor:m.themeColor,style:_,iconStyle:E,disabled:!!a&&"disabled",onChange:this.handleMobileChange,placeholder:r.placeholder||"",value:d?d.mobile||"":""}),T),M,x)))}}),t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}a.__esModule=!0;var l=n(8),o=i(l),r=n(43),s=i(r),d=n(9),u=n(14),c=i(u),f=n(60),h=i(f),p=n(47),m=i(p),g=n(57),v=i(g),y=n(62),b=n(51),S=i(b),C=c["default"].createClass({displayName:"MultiItem",mixins:[S["default"],h["default"]],handleChange:function(e){m["default"].dispatch({type:"setMultiValue",id:this.props.data.id,idx:this.props.idx,value:e.target.value})},handleBlur:function(e){m["default"].dispatch({type:"inputMultiBlur",id:this.props.data.id,idx:this.props.idx,value:e.target.value})},handleAdd:function(){m["default"].dispatch({type:"inputMultiAdd",id:this.props.data.id})},handleRemove:function(){m["default"].dispatch({type:"inputMultiRemove",id:this.props.data.id,idx:this.props.idx})},render:function(){var t=this.props,a=t.isMobile,n=t.length,i=t.idx,l=t.fill,o=t.data,r=t.inputStyle,u=t.themeColor,f=t.inputWithIconStyle,h=t.inputIconStyle,p=t.componentStyle,m=t.inputType,g=t.valid,b=t.mode,S=t.ariaLabelledBy,C=null;if(o.isAcceptMulti){var _=null,w=null;a||i!==n-1||(w=c["default"].createElement("a",{className:"iconfont fbc_addIcon",title:d.lang.cMultiInputInsert,style:r,onClick:this.handleAdd},String.fromCharCode(58979))),1!==n&&(_=c["default"].createElement("a",{className:"iconfont fbc_removeIcon",title:d.lang.cMultiInputRemove,style:r,onClick:this.handleRemove},String.fromCharCode(58980))),C=c["default"].createElement("div",{className:"fbc_imOperate"},_,w)}return c["default"].createElement("div",{className:(0,s["default"])("fbc_imItem",{"is-multi":o.isAcceptMulti}),style:p},c["default"].createElement(v["default"],{component:"input",className:(0,s["default"])("fbc_input",{error:g}),type:a&&1===b?d.INPUT_TYPING_TYPE[m]||"text":"text",spellCheck:!1,autoComplete:"off",tabIndex:1,"aria-labelledby":S,icon:y.FIELD_INFO_MAPPING[m].icon,themeColor:u,style:f,iconStyle:h,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:o.placeholder||"",value:l||""}),C)}});a["default"]=c["default"].createClass({displayName:"Component(InputMulti)",mixins:[S["default"],h["default"]],render:function(){var t=this.props,a=t.data,n=t.fill,i=t.valid,l=t.componentStyle,r=t.isMobile,s=t.type,u=t.style,f=t.mode,h=t.itemNum,p=this.formStyle(),m=p.inputStyle,g=p.inputWithIconStyle,v=p.inputIconStyle,y=(n||[""]).length,b=[];b=i&&i.length>0?["err"+a.id,"title"+a.id,"subtitle"+a.id,"hint"+a.id,"placehoder"+a.id]:["title"+a.id,"subtitle"+a.id,"hint"+a.id,"placehoder"+a.id];var S=o["default"].map(n||[""],function(t,n){var l=!1;return i&&i.indexOf("required")>-1&&(l=!t),c["default"].createElement(C,{key:"im"+n,isMobile:r,valid:l,length:y,idx:n,mode:f,fill:t,data:a,inputType:s,themeColor:u.themeColor,inputStyle:m,ariaLabelledBy:b.join(" "),inputWithIconStyle:g,inputIconStyle:v})}),_=10*(r?10:a.cpWidth||8),w={},E={};return r||2!==+a.cpLayout||(w={"float":"left",paddingTop:6,width:((u.bodyStyle||{}).cpTitleWidth||20)+"%"},E={"float":"left",width:100-((u.bodyStyle||{}).cpTitleWidth||20)+"%"},h&&h>1&&(w.width="auto",w.maxWidth=105-_+"%",E.width=_-5+"%",_=100)),c["default"].createElement("div",{className:"fb_component inputMulti",id:a.id,style:l},c["default"].createElement("div",{className:"fb_componentText",style:w},this.renderTitle(a,r&&a.isAcceptMulti&&(!a.subtitle||0===a.subtitle.length)),this.renderSubtitle(a,r&&a.isAcceptMulti),this.renderError(i)),c["default"].createElement("div",{className:"fb_componentBody",style:E},c["default"].createElement("div",{className:"fbc_content fbc_widthCp",style:{width:_+"%"}},c["default"].createElement("span",{className:"aria-placeholder",id:"placehoder"+a.id,"aria-label":(a.placeholder||"")+"."}),a.isAcceptMulti?c["default"].createElement("span",{className:"aria-placeholder",id:"hint"+a.id,"aria-label":d.lang.ariaAcceptMultiItem+"."}):null,S)))}}),t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}a.__esModule=!0;var l=n(14),o=i(l),r=n(43),s=i(r),d=n(60),u=i(d),c=n(8),f=i(c),h=n(38),p=n(35),m=n(57),g=i(m),v=n(32),y=n(9),b=n(47),S=i(b),C=n(51),_=i(C),w=o["default"].createClass({displayName:"MultiWxItem",getInitialState:function(){return{succeedAuth:!1}},componentDidUpdate:function(){var t=this;window.clearTimeout(this.resetTimer),this.state.succeedAuth&&(this.resetTimer=window.setTimeout(function(){t.setState({succeedAuth:!1})},2e3))},componentWillUnmount:function(){window.clearTimeout(this.resetTimer)},handleChange:function(e){S["default"].dispatch({type:"setMultiValue",id:this.props.data.id,idx:this.props.idx,value:e.target.value})},handleBlur:function(e){S["default"].dispatch({type:"inputMultiBlur",id:this.props.data.id,idx:this.props.idx,value:e.target.value})},handleAdd:function(){S["default"].dispatch({type:"inputMultiAdd",id:this.props.data.id})},handleRemove:function(){S["default"].dispatch({type:"inputMultiRemove",id:this.props.data.id,idx:this.props.idx})},handleGetWxInfo:function(e){var t=this;e.preventDefault(),e.stopPropagation(),S["default"].wxAuth().done(function(a){t.setState({succeedAuth:!0})})},render:function(){var t=this.props,a=t.isMobile,n=t.length,i=t.idx,l=t.fill,r=t.data,d=t.inputStyle,u=t.inputWithIconStyle,c=t.inputIconStyle,m=t.componentStyle,b=t.inputButtonStyle,S=t.themeColor,C=null;if(r.isAcceptMulti){var _=null,w=null;a||i!==n-1||(w=o["default"].createElement("a",{className:"iconfont fbc_addIcon",title:y.lang.cMultiInputInsert,style:d,onClick:this.handleAdd},String.fromCharCode(58979))),1!==n&&(_=o["default"].createElement("a",{className:"iconfont fbc_removeIcon",title:y.lang.cMultiInputRemove,style:d,onClick:this.handleRemove},String.fromCharCode(58980))),C=o["default"].createElement("div",{className:"fbc_imOperate"},_,w)}var E=null,I=0;if(0===i&&!(0,h.inIframe)()){var N=(0,p.isAuthorizedWx)()?y.lang.cRefreshWxAuth:y.lang.cWxAuth;I=(0,v.getWidth)(N,b.fontSize+"px/1 "+p._FONT)+30;var k=f["default"].assign(b,{width:I});E=o["default"].createElement("a",{className:"fbc_sendMsgAuth",style:k,onClick:this.handleGetWxInfo},this.state.succeedAuth?o["default"].createElement("i",{className:"iconfont"},String.fromCharCode(58988)):N)}var T=null;return T="ar"===y.currentLang?{marginLeft:I?I+5:null}:{marginRight:I?I+5:null},o["default"].createElement("div",{className:(0,s["default"])({"fbc_imItem":!0,"hasAuthBtn":E,"is-multi":r.isAcceptMulti}),style:f["default"].assign({},m,T)},o["default"].createElement(g["default"],{component:"input",className:"fbc_input",type:"text",spellCheck:!1,icon:String.fromCharCode(59094),themeColor:S,style:u,iconStyle:c,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:r.placeholder||"",value:l||""}),E,C)}});a["default"]=o["default"].createClass({displayName:"Component(WxMulti)",mixins:[_["default"],u["default"]],render:function(){var t=this.props,a=t.data,n=t.fill,i=t.valid,l=t.componentStyle,r=t.isMobile,s=t.style,d=this.formStyle(),u=d.inputStyle,c=d.inputWithIconStyle,f=d.inputIconStyle,h=d.inputBtnStyle,p=(n||[""]).map(function(t,i){return o["default"].createElement(w,{key:"im"+i,isMobile:r,length:(n||[""]).length,idx:i,fill:t,data:a,themeColor:s.themeColor,inputStyle:u,inputWithIconStyle:c,inputIconStyle:f,inputButtonStyle:h})}),m=r?10:a.cpWidth||8;return o["default"].createElement("div",{className:"fb_component inputMulti",id:a.id,style:l},this.renderTitle(a,!(!r||!a.isAcceptMulti||a.subtitle&&0!==a.subtitle.length)),this.renderSubtitle(a,!(!r||!a.isAcceptMulti)),this.renderError(i),o["default"].createElement("div",{className:"fbc_content fbc_widthCp",style:{width:10*m+"%"}},p))}}),t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}a.__esModule=!0;var l=n(14),o=i(l),r=n(43),s=i(r),d=n(8),u=i(d),c=n(60),f=i(c),h=n(35),p=n(47),m=i(p),g=n(9),v=n(66),y=i(v),b=n(57),S=i(b),C=n(51),_=i(C),w=[{id:36,value:g.lang.cWechat},{id:35,value:g.lang.cQQ},{id:41,value:g.lang.cSkype},{id:38,value:g.lang.cWhatsApp},{id:39,value:g.lang.cMessenger},{id:42,value:g.lang.cViber},{id:37,value:g.lang.cLine},{id:40,value:g.lang.cTelegram},{id:49,value:g.lang.cWeibo},{id:47,value:g.lang.cLinkedIn},{id:48,value:g.lang.cTwitter},{id:44,value:g.lang.cFacebook},{id:46,value:g.lang.cInstagram},{id:45,value:g.lang.cGooglePlus}];a["default"]=o["default"].createClass({displayName:"Component(IMSNSGroup)",mixins:[_["default"],f["default"]],getInitialState:function(){this.props.data.infoTypes||[];return null},handleMouseDownType:function(t,a,e){h.isIE8&&(e.preventDefault(),e.stopPropagation(),this.handleChangeType(t,a,e))},handleChangeType:function(t,a){m["default"].dispatch({type:"setGroupType",id:this.props.data.id,value:a,index:t})},handleDropChangeType:function(t,e){var a=+e.target.value;m["default"].dispatch({type:"setGroupType",id:this.props.data.id,value:a,index:t})},handleChangeContent:function(t,a,e){m["default"].dispatch({type:"setGroupInfo",id:this.props.data.id,index:t,value:e.target.value,contentType:a})},handleBlur:function(e){},handleAdd:function(){m["default"].dispatch({type:"addContactInfoGroup",id:this.props.data.id})},handleRemove:function(t){m["default"].dispatch({type:"removeContactInfoGroup",id:this.props.data.id,index:t})},renderOptions:function(t,a){for(var n=this.props,i=n.isMobile,l=n.data,r=l.infoTypes||[],d=[],c=0,f=r.length;c<f;c++){var h=u["default"].find(w,{id:r[c]});h&&(i?d.push(o["default"].createElement("option",{className:"fbc_selectLi",key:"infoType"+h.id,value:h.id},h.value)):d.push(o["default"].createElement("li",{className:(0,s["default"])("fbc_selectLi",{"fbc_currentSelected":t===h.id}),key:"infoType"+h.id,onMouseDown:this.handleMouseDownType.bind(this,a,h.id),onClick:this.handleChangeType.bind(this,a,h.id)},h.value)))}return d},renderItem:function(t,a,n){var i=this.props,l=i.isMobile,r=i.data,d=this.formStyle(),c=d.inputStyle,f=d.selectStyle,h=d.selectPlaceholderStyle,p=d.selectArrowStyle,m=r.infoTypes;if(!m||u["default"].isEmpty(m))return null;var v=+(t.type||m[0]),b=t.info||"",C=(u["default"].find(w,{id:v})||{}).value,_=[],E=null,I=null;if(!("isAcceptMulti"in r)||r.isAcceptMulti){E=(c.fontSize+4)*(l?1:2)+2;var N=null,k=null;l||a!==n.len-1||(k=o["default"].createElement("a",{className:"iconfont fbc_addIcon",title:g.lang.cMultiInputInsert,style:c,onClick:this.handleAdd},String.fromCharCode(58979))),1!==n.len&&(N=o["default"].createElement("a",{className:"iconfont fbc_removeIcon",title:g.lang.cMultiInputRemove,style:c,onClick:this.handleRemove.bind(this,a)},String.fromCharCode(58980))),I=o["default"].createElement("div",{className:"fbc_imOperate"},N,k)}var T=null;if(T="ar"===g.currentLang?{paddingLeft:E?E:5}:{paddingRight:E?E:5},1===m.length)_.push(o["default"].createElement(S["default"],{component:"input",className:(0,s["default"])("fbc_input",{error:n.valid}),ref:"input",type:"text",spellCheck:!1,autoComplete:"off",key:"contentInput",placeholder:C,value:b,style:u["default"].assign({},c,T),onChange:this.handleChangeContent.bind(this,a,v)}));else{var M=null;M=l?o["default"].createElement("div",{className:(0,s["default"])("fbc_select","combineItem",{"hasValue":C}),ref:"dropdown",key:"typeSelect"},o["default"].createElement("i",{className:"iconfont fbc_selectArrow",
style:{lineHeight:c.height+"px"}},String.fromCharCode(58983)),o["default"].createElement("select",{className:(0,s["default"])("fbc_innerSelect"),value:v,style:c,onChange:this.handleDropChangeType.bind(this,a)},this.renderOptions(v,a))):o["default"].createElement(y["default"],{className:(0,s["default"])("fbc_select","combineItem",{"hasValue":C}),display:C,ref:"dropdown",key:"typeSelect",selectArrowStyle:p,style:C?f:h},this.renderOptions(v,a)),_=_.concat([M,o["default"].createElement(S["default"],{component:"input",className:(0,s["default"])("fbc_input combineItem",{error:n.valid}),ref:"input",type:"text",spellCheck:!1,autoComplete:"off",key:"contentInput",style:u["default"].assign({},c,T),onChange:this.handleChangeContent.bind(this,a,v),value:b})])}return o["default"].createElement("div",{className:(0,s["default"])({"fbc_imItem":!0,"is-multi":r.isAcceptMulti}),key:"infoGroup"+a},_,o["default"].createElement("div",{className:"clearB"}),I)},render:function(){var t=this,a=this.props,n=a.data,i=a.fill,l=a.valid,r=a.componentStyle,d=a.isMobile,c=a.style,f=a.itemNum,h=[],p=(i||[{}]).length;u["default"].forEach(i||[{}],function(a,n){var i={len:p};l&&l.indexOf("required")>-1&&(i.valid=!a.info),h.push(t.renderItem(a,n,i))});var m=10*(d?10:n.cpWidth||8),g={},v={};return d||2!==+n.cpLayout||(g={"float":"left",paddingTop:6,width:((c.bodyStyle||{}).cpTitleWidth||20)+"%"},v={"float":"left",width:100-((c.bodyStyle||{}).cpTitleWidth||20)+"%"},f&&f>1&&(g.width="auto",g.maxWidth=105-m+"%",v.width=m-5+"%",m=100)),o["default"].createElement("div",{className:(0,s["default"])("fb_component",n.type),id:n.id,style:r},o["default"].createElement("div",{className:"fb_componentText",style:g},this.renderTitle(n,!(!d||!n.isAcceptMulti||n.subtitle&&0!==n.subtitle.length)),this.renderSubtitle(n,!(!d||!n.isAcceptMulti)),this.renderError(l)),o["default"].createElement("div",{className:"fb_componentBody",style:v},o["default"].createElement("div",{className:(0,s["default"])("fbc_content","fbc_widthCp",{"fbc_combineComponent":n.infoTypes.length>1}),style:{width:m+"%"}},h)))}}),t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}a.__esModule=!0;var l=n(14),o=i(l),r=n(43),s=i(r),d=n(8),u=i(d),c=n(60),f=i(c),h=n(47),p=i(h),m=n(9),g=n(32),v=n(66),y=i(v),b=n(57),S=i(b),C=n(35),_=n(51),w=i(_);a["default"]=o["default"].createClass({displayName:"Component(Input)",mixins:[w["default"],f["default"]],handleChangeSymbol:function(t){p["default"].dispatch({type:"setCurrencySymbol",id:this.props.data.id,value:t})},handleMouseDownSymbol:function(t,e){C.isIE8&&(e.preventDefault(),e.stopPropagation(),this.handleChangeSymbol(t,e))},handleDropChangeSymbol:function(e){var t=+e.target.value;p["default"].dispatch({type:"setCurrencySymbol",id:this.props.data.id,value:t})},handleChangeContent:function(e){p["default"].dispatch({type:"setCurrencyVal",id:this.props.data.id,value:e.target.value})},handleBlurContent:function(e){p["default"].dispatch({type:"blurCurrencyVal",id:this.props.data.id,value:e.target.value})},renderOptions:function(t){var a=this,n=this.props.isMobile,i=[];return u["default"].forEach(m.lang.cCurrencySymbolArray,function(l,r){n?i.push(o["default"].createElement("option",{className:"fbc_selectLi",key:"infoType"+r,value:r+1},l)):i.push(o["default"].createElement("li",{className:(0,s["default"])("fbc_selectLi",{"fbc_currentSelected":t===r+1}),key:"infoType"+r,onMouseDown:a.handleMouseDownSymbol.bind(a,r+1),onClick:a.handleChangeSymbol.bind(a,r+1)},l))}),i},render:function(){var t=this.props,a=t.fw,n=t.data,i=t.fill,l=t.valid,r=t.componentStyle,d=t.isMobile,c=t.style,f=t.itemNum,h=this.formStyle(),p=h.inputStyle,v=h.inputUnitStyle,b=h.selectStyle,_=h.selectPlaceholderStyle,w=h.selectArrowStyle,E=10*(d?10:n.cpWidth||8),I={},N={};d||2!==+n.cpLayout||(I={"float":"left",paddingTop:6,width:((c.bodyStyle||{}).cpTitleWidth||20)+"%"},N={"float":"left",width:100-((c.bodyStyle||{}).cpTitleWidth||20)+"%"},f&&f>1&&(I.width="auto",I.maxWidth=105-E+"%",N.width=E-5+"%",E=100));var k=i?i[0]||n.cfDefaultSymbol:n.cfDefaultSymbol,T=(i?i[1]:null)||"",M=m.lang.cCurrencySymbolArray[k-1];k=k?+k:0;var x=null;x=d?o["default"].createElement("div",{className:(0,s["default"])("fbc_select fbc_cfCurrencySymbol",{"hasValue":M}),ref:"dropdown",key:"symbol"},o["default"].createElement("i",{className:"iconfont fbc_selectArrow",style:{lineHeight:p.height+"px"}},String.fromCharCode(58983)),o["default"].createElement("select",{className:(0,s["default"])("fbc_innerSelect"),value:k,style:p,onChange:this.handleDropChangeSymbol},this.renderOptions(k))):o["default"].createElement(y["default"],{className:(0,s["default"])("fbc_select vpType",{"hasValue":M}),display:M,ref:"dropdown",key:"symbol",selectArrowStyle:w,style:u["default"].assign({},M?b:_)},this.renderOptions(k));var D=null;n.unit&&(D=Math.ceil(Math.min((0,g.getWidth)(n.unit,v.fontSize+"px/1 "+C._FONT),((a/(f||1)-60)*(E/10)-(d?10:25))/50)));var P=null;return P="ar"===m.currentLang?{paddingLeft:D?D+8:null}:{paddingRight:D?D+8:null},o["default"].createElement("div",{className:(0,s["default"])("fb_component","fb_cfCurrency",n.type),id:n.id,style:r},o["default"].createElement("div",{className:"fb_componentText",style:I},this.renderTitle(n),this.renderSubtitle(n),this.renderError(l)),o["default"].createElement("div",{className:"fb_componentBody",style:N},o["default"].createElement("div",{className:(0,s["default"])("fbc_content","fbc_widthCp"),style:{width:E+"%",height:p.height}},x,o["default"].createElement("div",{className:"fbc_cfCurrencyVal"},o["default"].createElement(S["default"],{component:"input",className:(0,s["default"])("fbc_input",{error:l&&l.length>0}),ref:"input",type:"text",spellCheck:!1,autoComplete:"off",style:u["default"].assign({},p,P),key:"value",onChange:this.handleChangeContent,onBlur:this.handleBlurContent,value:T})),n.unit?o["default"].createElement("span",{className:(0,s["default"])("fbc_unit"),style:v},n.unit):null)))}}),t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}a.__esModule=!0;var l=n(14),o=i(l),r=n(43),s=i(r),d=n(60),u=i(d),c=n(47),f=i(c),h=n(57),p=i(h),m=n(51),g=i(m);a["default"]=o["default"].createClass({displayName:"Component(Input)",mixins:[g["default"],u["default"]],handleChange:function(e){f["default"].dispatch({type:"setValue",id:this.props.data.id,value:e.target.value})},handleBlur:function(e){f["default"].dispatch({type:"inputBlur",id:this.props.data.id,value:e.target.value})},render:function(){var t=this.props,a=t.data,n=t.fill,i=t.valid,l=t.componentStyle,r=t.isMobile,d=t.style,u=t.itemNum,c=10*(r?10:a.cpWidth||8),f={},h={};return r||2!==+a.cpLayout||(f={"float":"left",paddingTop:6,width:((d.bodyStyle||{}).cpTitleWidth||20)+"%"},h={"float":"left",width:100-((d.bodyStyle||{}).cpTitleWidth||20)+"%"},u&&u>1&&(f.width="auto",f.maxWidth=105-c+"%",h.width=c-5+"%",c=100)),o["default"].createElement("div",{className:(0,s["default"])("fb_component","fb_cfCnId",a.type),id:a.id,style:l},o["default"].createElement("div",{className:"fb_componentText",style:f},this.renderTitle(a),this.renderSubtitle(a),this.renderError(i)),o["default"].createElement("div",{className:"fb_componentBody",style:h},o["default"].createElement("div",{className:(0,s["default"])("fbc_content","fbc_widthCp")},o["default"].createElement(p["default"],{component:"input",style:{},className:(0,s["default"])("fbc_input",{error:i&&i.length>0}),ref:"input",type:"text",spellCheck:!1,autoComplete:"off",themeColor:d.themeColor,onChange:this.handleChange,onBlur:this.handleBlur,value:n||""}))))}}),t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}a.__esModule=!0;var l=n(14),o=i(l),r=n(43),s=i(r),d=n(8),u=i(d),c=n(60),f=i(c),h=n(47),p=i(h),m=n(66),g=i(m),v=n(57),y=i(v),b=n(35),S=n(51),C=i(S);a["default"]=o["default"].createClass({displayName:"Component(Input)",mixins:[C["default"],f["default"]],handleChangeType:function(t){p["default"].dispatch({type:"setVehicleType",id:this.props.data.id,value:t})},handleMouseDownType:function(t,e){b.isIE8&&(e.preventDefault(),e.stopPropagation(),this.handleChangeType(t,e))},handleDropChangeType:function(e){var t=+e.target.value;p["default"].dispatch({type:"setVehicleType",id:this.props.data.id,value:t})},handleChangeContent:function(e){p["default"].dispatch({type:"setVehicleVal",id:this.props.data.id,value:e.target.value})},handleBlurContent:function(e){p["default"].dispatch({type:"blurVehicleVal",id:this.props.data.id,value:e.target.value})},renderOptions:function(t){var a=this,n=this.props.isMobile,i=[];return u["default"].forEach(b.FORM_SETTINGS_CF_VEHICLE_TYPE_SELECT,function(l){n?i.push(o["default"].createElement("option",{className:"fbc_selectLi",key:"infoType"+l.id,value:l.id},l.title)):i.push(o["default"].createElement("li",{className:(0,s["default"])("fbc_selectLi",{"fbc_currentSelected":t===l.id}),key:"infoType"+l.id,onMouseDown:a.handleMouseDownType.bind(a,l.id),onClick:a.handleChangeType.bind(a,l.id)},l.title))}),i},render:function(){var t=this.props,a=t.data,n=t.fill,i=t.valid,l=t.componentStyle,r=t.isMobile,d=t.style,c=t.itemNum,f=10*(r?10:a.cpWidth||8),h={},p={};r||2!==+a.cpLayout||(h={"float":"left",paddingTop:6,width:((d.bodyStyle||{}).cpTitleWidth||20)+"%"},p={"float":"left",width:100-((d.bodyStyle||{}).cpTitleWidth||20)+"%"},c&&c>1&&(h.width="auto",h.maxWidth=105-f+"%",p.width=f-5+"%",f=100));var m=+((n||{}).vpType||a.defaultVpLocation||1),v=(n||{}).vpVal||"",S=(u["default"].find(b.FORM_SETTINGS_CF_VEHICLE_TYPE_SELECT,{id:m})||{}).title,C=null;C=r?o["default"].createElement("div",{className:(0,s["default"])("fbc_mlItem fbc_select vpType",{"hasValue":S}),ref:"dropdown",key:"vpType"},o["default"].createElement("i",{className:"iconfont fbc_selectArrow"},String.fromCharCode(58983)),o["default"].createElement("select",{className:(0,s["default"])("fbc_innerSelect"),value:m,onChange:this.handleDropChangeType},this.renderOptions(m))):o["default"].createElement(g["default"],{className:(0,s["default"])("fbc_mlItem fbc_select vpType",{"hasValue":S}),display:S,ref:"dropdown",key:"vpType"},this.renderOptions(m));var _=6;"F"!==v.charAt(1).toUpperCase()&&"D"!==v.charAt(1).toUpperCase()&&(7!==v.length||"F"!==v.charAt(6).toUpperCase()&&"D"!==v.charAt(6).toUpperCase())||(_=7);var w=[C,o["default"].createElement(y["default"],{component:"input",className:(0,s["default"])("fbc_mlItem fbc_input vpNo vpExt","length"+_,{error:i&&i.length>0}),ref:"input",type:"text",spellCheck:!1,autoComplete:"off",key:"vpNo",style:{},onChange:this.handleChangeContent,onBlur:this.handleBlurContent,value:v}),o["default"].createElement("div",{key:"clear",className:"clearB"})];if(2===a.componentType){var E=u["default"].trim(v).match(/^WJ['京津冀晋蒙辽吉黑沪苏浙皖闽赣鲁豫鄂湘粤桂琼渝川贵云藏陕甘青宁新']/);v&&v.match(/^[京津冀晋蒙辽吉黑沪苏浙皖闽赣鲁豫鄂湘粤桂琼渝川贵云藏陕甘青宁新]/)&&("F"===v.charAt(2).toUpperCase()||"D"===v.charAt(2).toUpperCase()||8===v.length&&("F"===v.charAt(7).toUpperCase()||"D"===v.charAt(7).toUpperCase()))&&(E=!0),w=o["default"].createElement(y["default"],{key:"vpNo",component:"input",className:(0,s["default"])("fbc_input vpNo",{length7:!E,length8:E,error:i&&i.length>0}),style:{},ref:"input",type:"text",spellCheck:!1,autoComplete:"off",themeColor:d.themeColor,onChange:this.handleChangeContent,onBlur:this.handleBlurContent,value:v||""})}return o["default"].createElement("div",{className:(0,s["default"])("fb_component","fb_cfCnVehiclePlate",a.type),id:a.id,style:l},o["default"].createElement("div",{className:"fb_componentText",style:h},this.renderTitle(a),this.renderSubtitle(a),this.renderError(i)),o["default"].createElement("div",{className:"fb_componentBody",style:p},o["default"].createElement("div",{className:(0,s["default"])("fbc_content","fbc_widthCp")},w)))}}),t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function l(t){I=t.isMobile,k=t.getCurrentWidth,T=t.getMode}function o(t,a){N=a;var n=0!==g["default"].getSettings()["isShowShare"]?100:20;E=I()?0:n,p["default"].render(f["default"].createElement(M,null),t[0])}a.__esModule=!0;var r=n(8),s=i(r),d=n(43),u=i(d),c=n(14),f=i(c),h=n(26),p=i(h),m=n(35),g=i(m),v=n(45),y=i(v),b=n(47),S=i(b),C=n(9),_=n(51),w=i(_),E=20,I=void 0,N=!1,k=void 0,T=void 0,M=f["default"].createClass({displayName:"Copyright",mixins:[w["default"]],getInitialState:function(){var t=Math.min(k()-E,g["default"].getFormWidth());return s["default"].assign({formWidth:t,updateCounter:0},S["default"].getState())},componentDidMount:function(){this.unsubscribe=S["default"].addChangeListener(this.handleStateChange)},componentWillUnmount:function(){this.unsubscribe()},handleStateChange:function(t){if("$$resize"===t.type){var a=Math.min(k()-E,g["default"].getFormWidth()),n={updateCounter:(this.state.updateCounter+1)%100};a!==this.state.formWidth&&(n.formWidth=a),this.setState(n)}},render:function(){var t=this.state.formWidth,a=g["default"].getTail()||{},n=g["default"].getOrgName(),i=y["default"].getExt("nologo"),l=y["default"].getExt("copyrightLogo"),o=C.lang.gPoweredBy;2===a.copyrightType&&n&&(o=C.lang.gPoweredByWithCompanyFunc({company:n||""}));var r=f["default"].createElement("a",{className:"poweredBy",target:"_blank",href:"http://www.mikecrm.com/indexForm.php?ref=form",key:"cpr"},f["default"].createElement("span",{className:(0,u["default"])("poweredBy_logo",{"poweredBy_light":N})}),f["default"].createElement("span",{className:"poweredBy_title",style:{maxWidth:t-100,color:N?"#fff":null}},o)),s=null;if(l&&3===a.copyrightType){var d={};I()||(d={width:t}),s=f["default"].createElement("div",{className:"pb_hasSelfLogo",style:d,key:"cSelfLogo"},f["default"].createElement("div",{key:"company",className:"pb_companyInfo"},a.companyLogo?f["default"].createElement("a",{className:"pb_companyLogoWrapper",target:"_blank",href:a.companyLink},f["default"].createElement("img",{className:"pb_companyLogo",src:a.companyLogo})):null,a.companyName?f["default"].createElement("p",{className:"pb_companyName"},f["default"].createElement("a",{className:"pb_caLink",target:"_blank",href:a.companyLink,style:{color:N?"#fff":null}},a.companyName||"")):null),i?null:I()?r:f["default"].createElement("a",{key:"mike",className:"pb_mikeLogo",target:"_blank",href:"http://www.mikecrm.com/indexForm.php?ref=form"}))}else i||(s=r);var c=[s];return f["default"].createElement("div",{className:(0,u["default"])("c_main",{"is-noLogo":i})},c)}});a["default"]={inject:l,render:o},t.exports=a["default"]},,,,,function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function l(){var t=+window._VT;return isNaN(t)?1:t<0||t>5?1:t||1}function o(t){return A=t,F=(0,y["default"])(window),T=(0,y["default"])(".main"),M=T.find(".body"),x=T.find(".submitWrapper"),D=(0,y["default"])(".copyright"),P=(0,y["default"])("body"),O=(0,y["default"])(".wrapper"),L=(0,y["default"])("html, body, .handleForm"),R=(0,y["default"])(".handleForm"),{$form:T,$body:M,$submit:x,$copyright:D,$wrapper:P,$container:O,$scrollContainer:L,$submitForm:R,$window:F}}function r(){return{raw:B,vst:U,JHR:H,token:V,OQ:z}}function s(){var t=window.SOUL&&window.SOUL._m?window.SOUL._m.T:null;B=window.SOUL,U=window.VST,H=window.JHR,V=window._T||t,z=window.OQ}function d(){return S["default"].deviceCheck.isMobile}function u(){return S["default"].getWindowSize().width}function c(t){if(I["default"].isUrl(t))return t;if("cn"===window._SLD&&"./images/form/wechat_default.jpg"===t)return k["default"].CDN_PATH_WITHOUT_PROTOCOL+"images/form/wechat_default.jpg";if(null!=window._LFP&&!window._CDN&&window._LFP<.5){var a=location.hostname.split(".");return a.length>2?a[0]="":a=[""].concat(a),a=a.join("."),a.indexOf("mikecrm.com")===-1&&a.indexOf("zoform.com")===-1&&(a=".mikecrm.com"),location.protocol+"//pcdn"+a+"/"+t.replace(/^(\.)?\//g,"")}return location.protocol+"//"+location.host+"/"+t.replace(/^(\.)?\//g,"")}function f(t,a){t=t||{isWcShare:1};var n=S["default"].parseURL(location.href);if(n.params&&n.params.WCT){var i=n.params.WCT,l=new Date;l.setTime(l.getTime()+3456e7);var o="expires="+l.toGMTString();document.cookie="WCT="+i+"; path=/; "+o+"; domain="+location.host.replace(/^(cn|hk|sv|va|sg|jp)\./,"")+";",document.cookie="WCT="+i+"; path=/; "+o+"; domain="+location.host+";"}if(!window.IN_WECHAT||!window.WC_JSAPI_PARAMS)return!1;var r=["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareQZone","openLocation","getLocation","showOptionMenu","scanQRCode","hideMenuItems","showMenuItems","hideAllNonBaseMenuItem","showAllNonBaseMenuItem"];t.isWcShare||(r=["openLocation","getLocation","scanQRCode","hideMenuItems","showMenuItems","hideAllNonBaseMenuItem","showAllNonBaseMenuItem"]);var s={debug:!1,appId:WC_JSAPI_PARAMS.appId,timestamp:WC_JSAPI_PARAMS.timestamp,nonceStr:WC_JSAPI_PARAMS.nonceStr,signature:WC_JSAPI_PARAMS.signature,jsApiList:r};_["default"].config(s);var d=A.getSettings(),u=d.weChatTitle,f=d.weChatImage,h=d.weChatDescribe,p=A.getHeader(),m=p.headline,g=p.description;m=(m||[""]).join(""),g=(g||[""]).join("");var v={title:void 0===u?m||w.lang.gWeChatSetHeadlineDefault:u||"",desc:void 0===h?g:h||"",link:location.origin+"/"+A.token(),imgUrl:c(f||"./images/form/wechat_default.jpg")};_["default"].ready(function(){_["default"].checkJsApi({jsApiList:r,success:function(n){"checkJsApi:ok"===n.errMsg&&(_["default"].showOptionMenu(),t.isWcShare?(_["default"].onMenuShareTimeline(v),_["default"].onMenuShareAppMessage(v),_["default"].onMenuShareQQ(v),_["default"].onMenuShareWeibo(v),_["default"].showAllNonBaseMenuItem()):_["default"].hideAllNonBaseMenuItem(),a&&a())}})})}function h(t){S["default"].inIframe()&&window.addEventListener&&window.addEventListener("message",function(a){if(a.data){var n={};try{n=JSON.parse(a.data)}catch(e){}n.cif&&(j={},j.opacityBg=n.atp,j.topFrameLocationHref=n.tl,A.setInjectState(n.cif),P.addClass("inframe"),A.postMessage({height:O.outerHeight(!0)+30}),t&&t(a,n))}})}function p(){return j||{}}function m(){}a.__esModule=!0;var g=n(8),v=(i(g),n(25)),y=i(v),b=n(38),S=i(b),C=n(140),_=i(C),w=n(9),E=n(32),I=i(E),N=n(6),k=i(N),T=(n(141),void 0),M=void 0,x=void 0,D=void 0,P=void 0,O=void 0,L=void 0,F=void 0,R=void 0,A=null,W=window.SOUL&&window.SOUL._m?window.SOUL._m.T:null,B=window.SOUL,U=window.VST,H=window.JHR,V=window._T||W,z=window.OQ,j={};a["default"]={isMobile:d,setPageMode:l,setRawInfo:r,updateRawInfo:s,contentBinder:o,setWechat:f,getStaticPath:c,setMessageIframe:h,getPostSettings:p,getCurrentWidth:u,eventBind:m},t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var l=n(30),o=i(l);!function(a,n){o["default"].browserCheck.msie&&parseInt(o["default"].browserCheck.version)<=11||document.documentMode&&document.documentMode<9?t.exports={}:t.exports=n(a,!0)}(window,function(t,a){function n(a,n,i){t.WeixinJSBridge?WeixinJSBridge.invoke(a,e(n),function(t){r(a,t,i)}):u(a,i)}function i(a,n,i){t.WeixinJSBridge?WeixinJSBridge.on(a,function(t){i&&i.trigger&&i.trigger(t),r(a,t,n)}):i?u(a,i):u(a,n)}function e(t){return t=t||{},t.appId=x.appId,t.verifyAppId=x.appId,t.verifySignType="sha1",t.verifyTimestamp=x.timestamp+"",t.verifyNonceStr=x.nonceStr,t.verifySignature=x.signature,t}function l(t){return{timeStamp:t.timestamp+"",nonceStr:t.nonceStr,"package":t["package"],paySign:t.paySign,signType:t.signType||"SHA1"}}function o(t){return t.postalCode=t.addressPostalCode,delete t.addressPostalCode,t.provinceName=t.proviceFirstStageName,delete t.proviceFirstStageName,t.cityName=t.addressCitySecondStageName,delete t.addressCitySecondStageName,t.countryName=t.addressCountiesThirdStageName,delete t.addressCountiesThirdStageName,t.detailInfo=t.addressDetailInfo,delete t.addressDetailInfo,t}function r(t,a,n){"openEnterpriseChat"==t&&(a.errCode=a.err_code),delete a.err_code,delete a.err_desc,delete a.err_detail;var i=a.errMsg;i||(i=a.err_msg,delete a.err_msg,i=s(t,i),a.errMsg=i),n=n||{},n._complete&&(n._complete(a),delete n._complete),i=a.errMsg||"",x.debug&&!n.isInnerInvoke&&alert(JSON.stringify(a));var e=i.indexOf(":"),l=i.substring(e+1);switch(l){case"ok":n.success&&n.success(a);break;case"cancel":n.cancel&&n.cancel(a);break;default:n.fail&&n.fail(a)}n.complete&&n.complete(a)}function s(t,a){var n=t,i=v[n];i&&(n=i);var e="ok";if(a){var l=a.indexOf(":");e=a.substring(l+1),"confirm"==e&&(e="ok"),"failed"==e&&(e="fail"),-1!=e.indexOf("failed_")&&(e=e.substring(7)),-1!=e.indexOf("fail_")&&(e=e.substring(5)),e=e.replace(/_/g," "),e=e.toLowerCase(),("access denied"==e||"no permission to execute"==e)&&(e="permission denied"),"config"==n&&"function not exist"==e&&(e="ok"),""==e&&(e="fail")}return a=n+":"+e}function d(t){if(t){for(var a=0,n=t.length;n>a;++a){var i=t[a],e=g[i];e&&(t[a]=e)}return t}}function u(t,a){if(!(!x.debug||a&&a.isInnerInvoke)){var n=v[t];n&&(t=n),a&&a._complete&&delete a._complete,console.log('"'+t+'",',a||"")}}function c(t){if(!(_||w||x.debug||"6.0.2">k||M.systemType<0)){var a=new Image;M.appId=x.appId,M.initTime=T.initEndTime-T.initStartTime,M.preVerifyTime=T.preVerifyEndTime-T.preVerifyStartTime,F.getNetworkType({isInnerInvoke:!0,success:function(t){M.networkType=t.networkType;var n="https://open.weixin.qq.com/sdk/report?v="+M.version+"&o="+M.isPreVerifyOk+"&s="+M.systemType+"&c="+M.clientVersion+"&a="+M.appId+"&n="+M.networkType+"&i="+M.initTime+"&p="+M.preVerifyTime+"&u="+M.url;a.src=n}})}}function f(){return(new Date).getTime()}function h(a){E&&(t.WeixinJSBridge?a():y.addEventListener&&y.addEventListener("WeixinJSBridgeReady",a,!1))}function p(){F.invoke||(F.invoke=function(a,n,i){t.WeixinJSBridge&&WeixinJSBridge.invoke(a,e(n),i)},F.on=function(a,n){t.WeixinJSBridge&&WeixinJSBridge.on(a,n)})}if(!t.jWeixin){var m,g={config:"preVerifyJSAPI",onMenuShareTimeline:"menu:share:timeline",onMenuShareAppMessage:"menu:share:appmessage",onMenuShareQQ:"menu:share:qq",onMenuShareWeibo:"menu:share:weiboApp",onMenuShareQZone:"menu:share:QZone",previewImage:"imagePreview",getLocation:"geoLocation",openProductSpecificView:"openProductViewWithPid",addCard:"batchAddCard",openCard:"batchViewCard",chooseWXPay:"getBrandWCPayRequest",openEnterpriseRedPacket:"getRecevieBizHongBaoRequest",startSearchBeacons:"startMonitoringBeacons",stopSearchBeacons:"stopMonitoringBeacons",onSearchBeacons:"onBeaconsInRange",consumeAndShareCard:"consumedShareCard",openAddress:"editAddress"},v=function(){var t={};for(var a in g)t[g[a]]=a;return t}(),y=t.document,b=y.title,S=navigator.userAgent.toLowerCase(),C=navigator.platform.toLowerCase(),_=!(!C.match("mac")&&!C.match("win")),w=-1!=S.indexOf("wxdebugger"),E=-1!=S.indexOf("micromessenger"),I=-1!=S.indexOf("android"),N=-1!=S.indexOf("iphone")||-1!=S.indexOf("ipad"),k=function(){var t=S.match(/micromessenger\/(\d+\.\d+\.\d+)/)||S.match(/micromessenger\/(\d+\.\d+)/);return t?t[1]:""}(),T={initStartTime:f(),initEndTime:0,preVerifyStartTime:0,preVerifyEndTime:0},M={version:1,appId:"",initTime:0,preVerifyTime:0,networkType:"",isPreVerifyOk:1,systemType:N?1:I?2:-1,clientVersion:k,url:encodeURIComponent(location.href)},x={},D={_completes:[]},P={state:0,data:{}};h(function(){T.initEndTime=f()});var O=!1,L=[],F=(m={config:function(t){x=t,u("config",t);var a=x.check!==!1;h(function(){if(a)n(g.config,{verifyJsApiList:d(x.jsApiList)},function(){D._complete=function(t){T.preVerifyEndTime=f(),P.state=1,P.data=t},D.success=function(t){M.isPreVerifyOk=0},D.fail=function(t){D._fail?D._fail(t):P.state=-1};var t=D._completes;return t.push(function(){c()}),D.complete=function(a){for(var n=0,i=t.length;i>n;++n)t[n]();D._completes=[]},D}()),T.preVerifyStartTime=f();else{P.state=1;for(var t=D._completes,i=0,e=t.length;e>i;++i)t[i]();D._completes=[]}}),x.beta&&p()},ready:function(t){0!=P.state?t():(D._completes.push(t),!E&&x.debug&&t())},error:function(t){"6.0.2">k||(-1==P.state?t(P.data):D._fail=t)},checkJsApi:function(t){var a=function i(t){var i=t.checkResult;for(var a in i){var n=v[a];n&&(i[n]=i[a],delete i[a])}return t};n("checkJsApi",{jsApiList:d(t.jsApiList)},function(){return t._complete=function(t){if(I){var n=t.checkResult;n&&(t.checkResult=JSON.parse(n))}t=a(t)},t}())},onMenuShareTimeline:function(t){i(g.onMenuShareTimeline,{complete:function(){n("shareTimeline",{title:t.title||b,desc:t.title||b,img_url:t.imgUrl||"",link:t.link||location.href,type:t.type||"link",data_url:t.dataUrl||""},t)}},t)},onMenuShareAppMessage:function(t){i(g.onMenuShareAppMessage,{complete:function(){n("sendAppMessage",{title:t.title||b,desc:t.desc||"",link:t.link||location.href,img_url:t.imgUrl||"",type:t.type||"link",data_url:t.dataUrl||""},t)}},t)},onMenuShareQQ:function(t){i(g.onMenuShareQQ,{complete:function(){n("shareQQ",{title:t.title||b,desc:t.desc||"",img_url:t.imgUrl||"",link:t.link||location.href},t)}},t)},onMenuShareWeibo:function(t){i(g.onMenuShareWeibo,{complete:function(){n("shareWeiboApp",{title:t.title||b,desc:t.desc||"",img_url:t.imgUrl||"",link:t.link||location.href},t)}},t)},onMenuShareQZone:function(t){i(g.onMenuShareQZone,{complete:function(){n("shareQZone",{title:t.title||b,desc:t.desc||"",img_url:t.imgUrl||"",link:t.link||location.href},t)}},t)},startRecord:function(t){n("startRecord",{},t)},stopRecord:function(t){n("stopRecord",{},t)},onVoiceRecordEnd:function(t){i("onVoiceRecordEnd",t)},playVoice:function(t){n("playVoice",{localId:t.localId},t)},pauseVoice:function(t){n("pauseVoice",{localId:t.localId},t)},stopVoice:function(t){n("stopVoice",{localId:t.localId},t)},onVoicePlayEnd:function(t){i("onVoicePlayEnd",t)},uploadVoice:function(t){n("uploadVoice",{localId:t.localId,isShowProgressTips:0==t.isShowProgressTips?0:1},t)},downloadVoice:function(t){n("downloadVoice",{serverId:t.serverId,isShowProgressTips:0==t.isShowProgressTips?0:1},t)},translateVoice:function(t){n("translateVoice",{localId:t.localId,isShowProgressTips:0==t.isShowProgressTips?0:1},t)},chooseImage:function(t){n("chooseImage",{scene:"1|2",count:t.count||9,sizeType:t.sizeType||["original","compressed"],sourceType:t.sourceType||["album","camera"]},function(){return t._complete=function(t){if(I){var a=t.localIds;a&&(t.localIds=JSON.parse(a))}},t}())},getLocation:function(t){},previewImage:function(t){n(g.previewImage,{current:t.current,urls:t.urls},t)},uploadImage:function(t){n("uploadImage",{localId:t.localId,isShowProgressTips:0==t.isShowProgressTips?0:1},t)},downloadImage:function(t){n("downloadImage",{serverId:t.serverId,isShowProgressTips:0==t.isShowProgressTips?0:1},t)},getLocalImgData:function(t){O===!1?(O=!0,n("getLocalImgData",{localId:t.localId},function(){return t._complete=function(t){if(O=!1,L.length>0){var a=L.shift();wx.getLocalImgData(a)}},t}())):L.push(t)},getNetworkType:function(t){var a=function i(t){var i=t.errMsg;t.errMsg="getNetworkType:ok";var a=t.subtype;if(delete t.subtype,a)t.networkType=a;else{var n=i.indexOf(":"),e=i.substring(n+1);switch(e){case"wifi":case"edge":case"wwan":t.networkType=e;break;default:t.errMsg="getNetworkType:fail"}}return t};n("getNetworkType",{},function(){return t._complete=function(t){t=a(t)},t}())},openLocation:function(t){n("openLocation",{latitude:t.latitude,longitude:t.longitude,name:t.name||"",address:t.address||"",scale:t.scale||28,infoUrl:t.infoUrl||""},t)}},m["getLocation"]=function(t){t=t||{},n(g.getLocation,{type:t.type||"wgs84"},function(){return t._complete=function(t){delete t.type},t}())},m.hideOptionMenu=function(t){n("hideOptionMenu",{},t)},m.showOptionMenu=function(t){n("showOptionMenu",{},t)},m.closeWindow=function(t){t=t||{},n("closeWindow",{},t)},m.hideMenuItems=function(t){n("hideMenuItems",{menuList:t.menuList},t)},m.showMenuItems=function(t){n("showMenuItems",{menuList:t.menuList},t)},m.hideAllNonBaseMenuItem=function(t){n("hideAllNonBaseMenuItem",{},t)},m.showAllNonBaseMenuItem=function(t){n("showAllNonBaseMenuItem",{},t)},m.scanQRCode=function(t){t=t||{},n("scanQRCode",{needResult:t.needResult||0,scanType:t.scanType||["qrCode","barCode"]},function(){return t._complete=function(t){if(N){var a=t.resultStr;if(a){var n=JSON.parse(a);t.resultStr=n&&n.scan_code&&n.scan_code.scan_result}}},t}())},m.openAddress=function(t){n(g.openAddress,{},function(){return t._complete=function(t){t=o(t)},t}())},m.openProductSpecificView=function(t){n(g.openProductSpecificView,{pid:t.productId,view_type:t.viewType||0,ext_info:t.extInfo},t)},m.addCard=function(t){for(var a=t.cardList,i=[],e=0,l=a.length;l>e;++e){var o=a[e],r={card_id:o.cardId,card_ext:o.cardExt};i.push(r)}n(g.addCard,{card_list:i},function(){return t._complete=function(t){var a=t.card_list;if(a){a=JSON.parse(a);for(var n=0,i=a.length;i>n;++n){var e=a[n];e.cardId=e.card_id,e.cardExt=e.card_ext,e.isSuccess=!!e.is_succ,delete e.card_id,delete e.card_ext,delete e.is_succ}t.cardList=a,delete t.card_list}},t}())},m.chooseCard=function(t){n("chooseCard",{app_id:x.appId,location_id:t.shopId||"",sign_type:t.signType||"SHA1",card_id:t.cardId||"",card_type:t.cardType||"",card_sign:t.cardSign,time_stamp:t.timestamp+"",nonce_str:t.nonceStr},function(){return t._complete=function(t){t.cardList=t.choose_card_info,delete t.choose_card_info},t}())},m.openCard=function(t){for(var a=t.cardList,i=[],e=0,l=a.length;l>e;++e){var o=a[e],r={card_id:o.cardId,code:o.code};i.push(r)}n(g.openCard,{card_list:i},t)},m.consumeAndShareCard=function(t){n(g.consumeAndShareCard,{consumedCardId:t.cardId,consumedCode:t.code},t)},m.chooseWXPay=function(t){n(g.chooseWXPay,l(t),t)},m.openEnterpriseRedPacket=function(t){n(g.openEnterpriseRedPacket,l(t),t)},m.startSearchBeacons=function(t){n(g.startSearchBeacons,{ticket:t.ticket},t)},m.stopSearchBeacons=function(t){n(g.stopSearchBeacons,{},t)},m.onSearchBeacons=function(t){i(g.onSearchBeacons,t)},m.openEnterpriseChat=function(t){n("openEnterpriseChat",{useridlist:t.userIds,chatname:t.groupName},t)},m),R=1,A={};return y.addEventListener("error",function(t){if(!I){var a=t.target,n=a.tagName,i=a.src;if("IMG"==n||"VIDEO"==n||"AUDIO"==n||"SOURCE"==n){var e=-1!=i.indexOf("wxlocalresource://");if(e){t.preventDefault(),t.stopPropagation();var l=a["wx-id"];if(l||(l=R++,a["wx-id"]=l),A[l])return;A[l]=!0,wx.ready(function(){wx.getLocalImgData({localId:i,success:function(t){a.src=t.localData}})})}}}},!0),y.addEventListener("load",function(t){if(!I){var a=t.target,n=a.tagName;if(a.src,"IMG"==n||"VIDEO"==n||"AUDIO"==n||"SOURCE"==n){var i=a["wx-id"];i&&(A[i]=!1)}}},!0),a&&(t.wx=t.jWeixin=F),F}})},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}a.__esModule=!0;var l=n(9),o=i(l),r=n(35),s=i(r),d=n(45),u=i(d),c=n(142),f=i(c),h=n(143),p=i(h),m=n(147),g=i(m),v=n(134),y=i(v),b=n(150),S=i(b),C=n(151),_=i(C),w=n(135),E=i(w),I=n(47),N=i(I);a["default"]={currentLang:o["default"].currentLang,lang:o["default"].lang,changeFormLang:o["default"].changeFormLang,utils:s["default"],formExtends:u["default"],header:f["default"],body:p["default"],submit:g["default"],copyright:y["default"],Succeed:S["default"],ErrorHandler:_["default"],HugeErrorHandler:E["default"],formStore:N["default"]},t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function l(){this._q=[],this.add=function(t,a,n){var i=t;a&&(i=i.done(a)),n&&(i=i.fail(n)),this._q.push(i)},this.allDone=function(){return k["default"].when.apply(k["default"],this._q)},this.clear=function(){this._q=[]}}function o(t){A=null,W={},B=null,L=!0,U=1,H=1,V=t.isMobile,z=t.getCurrentWidth,j=t.getMode}function r(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];w["default"].log("re-calculate ...>",t);var a=g["default"].getHeader(),n=V(),i=a.logoHeight,l=a.logoWidth,o=F/3;l>=o&&(l=Math.round(o),i=Math.ceil(o/a.logoWidth*i)),a.logo&&n&&F-a.logoWidth<160&&(H=(F-160)/a.logoWidth,i=Math.ceil(H*a.logoHeight),l=Math.ceil(H*a.logoWidth));var r=g["default"].getStyle("headerStyle"),s=O.find(".header").css({"height":"auto","minHeight":"auto"}),d=O.find(".h_logo"),u=s.find(".h_headline"),c=s.find(".h_description"),f=s.find(".h_TDWrapper"),h=Math.floor((i||0)*H)-(2===a.logoDisplay?D:0),p=Math.floor((l||0)*H)-(2===a.logoDisplay?P/2:0);3===a.logoDisplay&&(h=Math.round(Math.floor((i||0)*H/2)-D/2)),
!a.logoBorder||4!==a.logoBorder&&5!==a.logoBorder||(h+=4,p+=4),G.allDone().then(function(){t&&(O.width(F),2===B?f.width(F-p-P-10):3===B&&u.width(F-p-P-10));var i=s.outerHeight(!0)-D,l=f.height()||0,o=u.outerHeight(!0),m=c.height()+(c.length>0?10:0),v=0;switch(A&&(4!==r.bgLayoutHorizontal?v=A.height:(v=Math.floor(A.height/A.width*F),U=n?F/g["default"].getFormWidth()*.85:F/g["default"].getFormWidth())),B){case 2:s.css({"min-height":Math.max(h,l,v-D)}),3!==a.logoDisplay&&(h>l?f.css("margin-top",Math.floor((h-l)/2)):1===a.logoDisplay&&d.css("margin-top",Math.floor((l-h)/2)));break;case 3:s.css({"min-height":Math.max(Math.max(h,o)+m,v-D)}),3!==a.logoDisplay&&(h>o?u.css("margin-top",Math.floor((h-o)/2)):1===a.logoDisplay&&d.css("margin-top",Math.floor((o-h)/2)));break;case 1:default:s.css({"min-height":Math.max(Math.min(i,h+o+m),v-D)})}if(w["default"].log(a),3===a.logoDisplay&&(s.css("margin-top",Math.floor(h+D/2)),d.css("margin-top",-Math.floor(h+D))),2===a.logoDisplay){var y={"margin-top":-D/2},b=a.layoutStr.charAt(2);"L"===b?y["margin-left"]=-P/2:"R"===b&&(y["margin-right"]=-P/2),d.css(y)}if(L&&(w["default"].log("in>>>>"),r&&r.background&&s.css(I["default"].assign({"background-image":"url("+r.background+")","background-position":"center center","background-repeat":"no-repeat"},W)),r&&r.headerContentOffsetY&&s.find(".fb_headerInfo").css({paddingTop:Math.ceil((r.headerContentOffsetY||0)*U)+"px"}),n&&r&&4===r.bgLayoutHorizontal&&s.outerHeight(!0)>v&&4!==r.bgLayoutVertical&&9!==r.bgLayoutVertical)){var S="center";if(a.headline)switch(a.layoutStr.charAt(0)){case"R":S="right";break;case"C":break;case"L":default:S="left"}else if(a.description)switch(a.layoutStr.charAt(1)){case"R":S="right";break;case"C":break;case"L":default:S="left"}s.css({"background-position":"center "+S,"background-size":"auto "+s.outerHeight(!0)+"px"})}w["default"].log("finish set false"),L=!1})}function s(){O.off("$$resize").on("$$resize",function(){var t=x;z()<400&&(t=0),F=Math.min(z()-t,g["default"].getFormWidth()),r(!0)}),O.trigger("$$resize")}function d(t,a){return(0,k["default"])(y["default"].renderToStaticMarkup(y["default"].createElement("div",null,M.render(t||"",a||null))))[0].innerHTML}function u(t){var a=!1;return I["default"].isArray(t)?t.join("\n").length>0&&(a=!0):t&&(a=!0),a}function c(t,a){return B=1,w["default"].log("headerRenderType",B),(t.logo?'<div class="h_logo" style="'+a.style.logo+'"><img class="logo style'+(a.logoBorder||0)+'" style="'+a.style.logoImage+'" src="'+t.logo+'"></div>':"")+"\n\t\t"+(u(t.headline)?'<div class="h_headline" style="'+a.style.headline+'">'+d(t.headline,t.headline_style)+"</div>":"")+"\n\t\t"+(u(t.description)?'<div class="h_description" style="'+a.style.description+'">'+d(t.description,t.description_style)+"</div>":"")+'\n\t\t<div class="clearB"></div>'}function f(t,a){return B=2,(t.logo?'<div class="h_logo" style="'+a.style.logo+'"><img class="logo style'+(a.logoBorder||0)+'" style="'+a.style.logoImage+'" src="'+t.logo+'"></div>':"")+'\n\t\t<div class="h_TDWrapper" style="'+a.style.wrapper+'">\n\t\t\t'+(u(t.headline)?'<div class="h_headline" style="'+a.style.headline+'">'+d(t.headline,t.headline_style)+"</div>":"")+"\n\t\t\t"+(u(t.description)?'<div class="h_description" style="'+a.style.description+'">'+d(t.description,t.description_style)+"</div>":"")+'\n\t\t</div><div class="clearB"></div>'}function h(t,a){return B=3,'<div class="h_TLWrapper">\n\t\t\t'+(t.logo?'<div class="h_logo" style="'+a.style.logo+'"><img class="logo style'+(a.logoBorder||0)+'" style="'+a.style.logoImage+'" src="'+t.logo+'"></div>':"")+"\n\t\t\t"+(u(t.headline)?'<div class="h_headline" style="'+a.style.headline+'">'+d(t.headline,t.headline_style)+"</div>":"")+'\n\t\t\t<div class="clearB"></div>\n\t\t</div>\n\t\t'+(u(t.description)?'<div class="h_description" style="'+a.style.description+'">'+d(t.description,t.description_style)+"</div>":"")}function p(t){var a=V(),n=0!==g["default"].getSettings()["isShowShare"]?100:20;x=a?0:n,D=30,P=a?20:40,L=!0,U=1,H=1,O=t,O.off("$$resize");var i=x;z()<400&&(i=0),F=Math.min(z()-i,g["default"].getFormWidth()),O.width(F);var l=g["default"].getStyle("headerStyle")||{},o=g["default"].getHeader();if(o){var d="",u={};if(u.style={},R=o.layoutStr){if(a&&"N"!==R.charAt(2)){var p=R.split("");p[2]="C",p[3]="",o.logo&&(p[0]="C"),R=p.join("")}for(var m=u.style,v=["headline","description","logo","stayNewLine"],y=null,b=0;b<4;b++)if(y=v[b],"stayNewLine"===y)u.newLine="Y"===R.charAt(b);else switch(R.charAt(b)){case"L":m[y]="text-align:left;";break;case"R":m[y]="text-align:right;";break;case"C":m[y]="text-align:center;";break;case"N":default:m[y]=""}}if(l&&l.background)if(G.add(S["default"].getImageSize(l.background,3===j()),function(t){t.width||(t.width=0),t.height||(t.height=0),4!==l.bgLayoutVertical&&(A=t)}),W={},l.bgLayoutHorizontal!==l.bgLayoutVertical||3!==l.bgLayoutHorizontal&&4!==l.bgLayoutHorizontal){switch(l.bgLayoutHorizontal){case 3:W["background-repeat"]="repeat-x";break;case 4:W["background-size"]="100% auto";break;case 5:W["background-position-x"]="left";break;case 7:W["background-position-x"]="right";break;case 6:default:W["background-position-x"]="center"}switch(l.bgLayoutVertical){case 3:W["background-repeat"]="repeat-y";break;case 4:W["background-size"]="auto 100%",W["background-position"]="initial";break;case 8:W["background-position-y"]="top";break;case 9:W["background-position-y"]="bottom";break;case 6:default:W["background-position-y"]="center"}}else 3===l.bgLayoutHorizontal&&(W["background-repeat"]="repeat"),4===l.bgLayoutHorizontal&&(W["background-size"]="cover");var _=R?R.charAt(2):null,E=!0;!o.logo||null!=o.logoHeight&&null!=o.logoWidth||(E=new Promise(function(t,a){S["default"].getImageSize(o.logo).done(function(a){if(o.logoHeight=a.height||0,o.logoWidth=a.width||0,o.logoWidth>1/3*F){var n=Math.ceil(o.logoHeight*Math.ceil(1/3*F)/o.logoWidth);o.logoWidth=Math.ceil(1/3*F),o.logoHeight=n}t(!0)}).fail(function(){o.logoHeight=0,o.logoWidth=0,t(!0)})})),Promise.resolve(E).then(function(){w["default"].log("process...>");var t=void 0,n=void 0;if(o.logo&&("L"===_?u.style.logo+="float:left;":"R"===_?u.style.logo+="float:right;":"N"===_&&(u.style.logo+="float:left;"),t=o.logoHeight,n=o.logoWidth,a&&F-o.logoWidth<160&&(H=(F-160)/o.logoWidth,t=Math.ceil(H*o.logoHeight),n=Math.ceil(H*o.logoWidth)),(a||"C"===_)&&(u.style.headline+="margin-top:5px;"),u.style.logoImage="width:"+n+"px;height:"+t+"px;",u.logoBorder=o.logoBorder),u.style.headline+=l.headlineFontSize?"font-size:"+l.headlineFontSize+"px;":"",u.style.headline+=l.headlineColor?"color:"+l.headlineColor+";":"",u.style.headline+=0===l.headlineFontWeight?"font-weight:normal;":"",u.style.description+=l.subheadFontSize?"font-size:"+l.subheadFontSize+"px;":"",u.style.description+=l.subheadColor?"color:"+l.subheadColor+";":"",u.style.description+=l.subheadFontWeight?"font-weight:bold;":"",L=!0,o.logo&&"L"!==o.hasValue&&"C"!==_){if(o.logo){"L"!==_&&"R"!==_&&(_="L");var i=("L"===_?"float:right;":"float:left;")+"width:"+(F-(n-(2===o.logoDisplay?P/2:0)+(!o.logoBorder||4!==o.logoBorder&&5!==o.logoBorder?0:4))-P-10)+"px;";u.newLine?(u.style.headline+=i,d=h(o,u)):(u.style.wrapper=i,d=f(o,u))}}else d=c(o,u);var p={};if(!I["default"].isEmpty(l)&&(l.bgColor||null!=l.bgOpacityValue&&1!==l.bgOpacityValue)&&(p={backgroundColor:l.bgColor},1!==l.bgOpacityValue)){var m=new C.OColor(l.bgColor||"#669acc");m.set("a",Math.min(l.bgOpacityValue,1)),p.backgroundColor=m.getRGBA(),p.zoom=1,g["default"].isIE8&&(_style.filter="progid:DXImageTransform.Microsoft.gradient(GradientType=1,startColorstr="+m.getIEFullHEX()+", endColorstr="+m.getIEFullHEX()+")",_style["-ms-filter"]="progid:DXImageTransform.Microsoft.gradient(GradientType=1,startColorstr='"+m.getIEFullHEX()+"', endColorstr='"+m.getIEFullHEX()+"')",_style.backgroundColor="transparent")}O.find(".header").css(p).html('<div class="fb_headerInfo" style="padding-top:'+(l.headerContentOffsetY||0)*U+'px" tabindex="1" role="heading" aria-level="1">'+d+"</div>"),r(),s()})}}a.__esModule=!0;var m=n(35),g=i(m),v=n(14),y=i(v),b=n(38),S=i(b),C=n(55),_=n(37),w=i(_),E=n(8),I=i(E),N=n(25),k=i(N),T=n(42),M=(0,T.crateTextRender)({entity:{}}),x=100,D=30,P=40,O=void 0,L=!0,F=void 0,R=void 0,A=null,W={},B=null,U=1,H=1,V=void 0,z=function(){return S["default"].getWindowSize().width},j=void 0,G=new l;a["default"]={render:p,inject:o},t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function l(t){tt=t.isMobile,at=t.getCurrentWidth,nt=t.getMode,it=t.getContent}function o(t){var a=0!==m["default"].getSettings()["isShowShare"]?100:20;lt=tt()?0:a,b["default"].render(v["default"].createElement(rt,{isMobile:tt()}),t[0])}a.__esModule=!0;var r=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},s=n(25),d=i(s),u=n(8),c=i(u),f=n(43),h=i(f),p=n(35),m=i(p),g=n(14),v=i(g),y=n(26),b=i(y),S=n(37),C=i(S),_=n(47),w=i(_),E=n(59),I=i(E),N=n(63),k=i(N),T=n(65),M=i(T),x=n(67),D=i(x),P=n(68),O=i(P),L=n(70),F=i(L),R=n(71),A=i(R),W=n(72),B=i(W),U=n(77),H=i(U),V=n(80),z=i(V),j=n(86),G=i(j),q=n(88),Q=i(q),J=n(89),X=i(J),Y=n(90),K=i(Y),Z=n(102),ee=i(Z),te=n(103),ae=i(te),ne=n(104),ie=i(ne),le=n(106),oe=i(le),re=n(107),se=i(re),de=n(108),ue=i(de),ce=n(109),fe=i(ce),he=n(144),pe=i(he),me=n(114),ge=i(me),ve=n(115),ye=i(ve),be=n(117),Se=i(be),Ce=n(85),_e=i(Ce),we=n(118),Ee=i(we),Ie=n(120),Ne=i(Ie),ke=n(121),Te=i(ke),Me=n(122),xe=i(Me),De=n(123),Pe=i(De),Oe=n(124),Le=i(Oe),Fe=n(126),Re=i(Fe),Ae=n(127),We=i(Ae),Be=n(128),Ue=i(Be),He=n(129),Ve=i(He),ze=n(130),je=i(ze),Ge=n(131),qe=i(Ge),$e=n(132),Qe=i($e),Je=n(133),Xe=i(Je),Ye=n(145),Ke=i(Ye),Ze=n(51),et=i(Ze),tt=void 0,at=void 0,nt=void 0,it=void 0,lt=20,ot=!1,rt=v["default"].createClass({displayName:"Body",mixins:[et["default"]],getInitialState:function(){w["default"].setDefaultFillingData(),this.Rank={};var t=this.measureFormWidth({});return c["default"].assign({forceUpdateCount:0},t,w["default"].getState())},_postHeightChange:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,a=this;window.clearInterval(a.updateHeightLooper),a.updateHeightLooper=null,1===nt()&&m["default"].canPostMessage()&&(a.parentInfoGetting||(a.parentInfoGetting=m["default"].getParentInfo([{t:"self",v:"rect",e:1,n:"rect"}])),a.parentInfoGetting.then(function(n){if(0===n.rect.width&&0===n.rect.height)return!0;var i=t,l=function(){window.clearInterval(a.updateHeightLooper),a.updateHeightLooper=null};return a.updateHeightLooper=window.setInterval(function(){if(i--,i<=0)return void l();var t=it().$container.outerHeight(!0)+30;t!==a.containerHeight&&(a.containerHeight=t,m["default"].postMessage({height:a.containerHeight}))},1e3),!1}).then(function(){a.parentInfoGetting=!1}))},componentDidMount:function(){this.unsubscribe=w["default"].addChangeListener(this.handleStateChange),this._postHeightChange(),this.forceResize||(this.forceResize=!0,window.setTimeout(function(){w["default"].dispatch({type:"$$resize"}),it().$form.trigger("$$resize"),(0,d["default"])("body").scrollTop(0)},500))},componentWillUpdate:function(){var t=this.measureFormWidth();t&&this.setState(t)},measureFormWidth:function(t){t=t||this.state;var a=at(),n=(0,d["default"])(".f_shareBtn"),i=lt,l=a<400;l?(i=0,n.addClass("isMiniSize")):n.removeClass("isMiniSize");var o=Math.min(a-i,m["default"].getFormWidth());return o!==t.formWidth||l!==t.isMiniSize?{formWidth:o,isMiniSize:l}:null},componentDidUpdate:function(){var t=this;this._postHeightChange(2);var a=!1,n=!1;if(1===nt())if(this.state.valid&&!c["default"].isEmpty(this.state.valid)&&this.scrollToErrorElement){this.aria||(n=!0);var i=this.state.valid;c["default"].forEach(this.currentComponent,function(l){var o=!1;if("squeezeBox"===l.type?c["default"].forEach(l.children,function(t){if(i[t])return o=t,!1}):i[l.id]&&(o=l.id),o){var r=(0,d["default"])(document.getElementById(o)),s=0;return r&&r.length>0&&(s=Math.max(r.offset().top+it().$submitForm.prop("scrollTop")-20,0),n||(n=!0,setTimeout(function(){r.find(".aria-content").eq(0).focus()},30))),m["default"].getParentInfo([{t:"self",v:"rect",e:1,n:"rect"},{t:"scrollParent",v:"scrollTop",n:"scrollTop"}]).then(function(n){if(n&&n.innerState){var i=s+n.scrollTop+n.rect.top;m["default"].getParentInfo([{t:"window",v:"scrollTo",e:[0,i]}])}else it().$scrollContainer.animate({scrollTop:s},300),t.scrollToErrorElement=!1;a=!0}),!1}})}else this.scrollToErrorElement=!1;else this.scrollToErrorElement=!1;this.scrollToTop&&(this.scrollToTop=!1,setTimeout(function(){it().$scrollContainer.scrollTop(0)},30)),this.ariaPage&&!n&&(n=!0,this.ariaPage=!1,setTimeout(function(){(0,d["default"])(document.getElementById(t.currentComponent[0].id)).find(".aria-content").eq(0).focus()},30)),setTimeout(function(){it().$window.trigger("$$stickyUpdate"),t.scrollToErrorElement=!1},0),this.forceResizeFirstUpdate||(this.forceResizeFirstUpdate=!0,window.setTimeout(function(){w["default"].dispatch({type:"$$resize"}),it().$form.trigger("$$resize")},500))},componentWillUnmount:function(){this.unsubscribe()},handleStateChange:function(t){if(this.scrollToTop=!1,"$$resize"===t.type){var a={},n=Math.min(at()-lt,m["default"].getFormWidth());this.state.formWidth!==n&&(a.formWidth=n),1!==nt()&&(a.forceUpdateCount=((this.state.forceUpdateCount||0)+1)%100),c["default"].isEmpty(a)||this.setState(a)}else if("$$messenger"===t.type){var i={};i.forceUpdateCount=((this.state.forceUpdateCount||0)+1)%100,this.setState(i)}else"cashierInfo"===t.type?1===nt()&&b["default"].render(v["default"].createElement(Ke["default"],{isMobile:tt(),payment:this.state.payment}),document.getElementById("popwin")):["submitValid","duplicateDataError","page","MobileValidCodeError","MobileValidEmpty","commodityQuotaError","optionQuotaError"].indexOf(t.type)>-1&&(this.scrollToErrorElement=!0,this.aria=!!t.aria);"page"===t.type?(this.scrollToTop=!0,this.ariaPage=!!t.aria):this.ariaPage=!1,this.setState(w["default"].getState())},renderComponent:function(t,a,n,i){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=this.state.data,s=this.state.valid,d=this.state.formWidth,u=m["default"].getComponents(t);if(!u)return C["default"].log("JUMP...ERROR COMPONENT",t),null;var f=o[t],h=s?s[t]:null,p=tt(),g=c["default"].assign({key:"c"+t,data:u,fill:f,type:u.type,valid:h,style:n,isMobile:p,mode:nt(),componentStyle:i,forceUpdateCount:this.state.forceUpdateCount,fw:d},l);"commodity"===u.type&&(g.cartValid=s.cart);var y=null;1===a.showQuestionNo&&(m["default"].isFillingComponent(u.type)||u.isCustomField)&&(this._num++,g.num=this._num,g.showQuestionNo=!0,g.questionNoType=a.questionNoType||1);var b=null;if(u.isCustomField)switch(u.type){case 1:b=v["default"].createElement(I["default"],g);break;case 3:b=v["default"].createElement(A["default"],g);break;case 4:b=v["default"].createElement(G["default"],g);break;case 5:b=v["default"].createElement(qe["default"],g);break;case 6:b=2!==u.cfRadioType?v["default"].createElement(k["default"],g):p?v["default"].createElement(D["default"],g):v["default"].createElement(M["default"],g);break;case 7:b=v["default"].createElement(k["default"],g);break;case 8:b=p?v["default"].createElement(F["default"],g):v["default"].createElement(O["default"],g);break;case 9:b=p?v["default"].createElement(H["default"],g):v["default"].createElement(B["default"],g);break;case 11:b=v["default"].createElement(Qe["default"],g);break;case 12:b=v["default"].createElement(Xe["default"],g);break;default:console.error("ERROR UNKNOW CTCF_COMPONENT",t,JSON.stringify(u))}else switch(u.type){case"input":b=v["default"].createElement(I["default"],g);break;case"checkbox":case"radio":b=v["default"].createElement(k["default"],g);break;case"dropDown":b=p?v["default"].createElement(D["default"],g):v["default"].createElement(M["default"],g);break;case"multiLevel":b=p?v["default"].createElement(F["default"],g):v["default"].createElement(O["default"],g);break;case"number":b=v["default"].createElement(A["default"],g);break;case"dateTime_both":case"dateTime_date":case"dateTime_time":b=p?v["default"].createElement(H["default"],g):v["default"].createElement(B["default"],g);break;case"birthDate":b=p?v["default"].createElement(H["default"],r({},g,{isBirthDate:!0})):v["default"].createElement(B["default"],r({},g,{isBirthDate:!0}));break;case"attachment":b=v["default"].createElement(z["default"],g);break;case"rate":b=v["default"].createElement(G["default"],g);break;case"tabular":b=p?v["default"].createElement(X["default"],g):v["default"].createElement(Q["default"],g);break;case"rank":p?b=v["default"].createElement(ee["default"],g):(this.Rank[t]||(this.Rank[t]=(0,K["default"])()),y=this.Rank[t],b=v["default"].createElement(y,g));break;case"currency":b=v["default"].createElement(ae["default"],g);break;case"city":case"location":b=p?v["default"].createElement(oe["default"],g):v["default"].createElement(ie["default"],g);break;case"address":b=p?v["default"].createElement(ue["default"],g):v["default"].createElement(se["default"],g);break;case"commodity":b=v["default"].createElement(fe["default"],g);break;case"button":b=v["default"].createElement(pe["default"],r({},g,{onGetContent:it}));break;case"picRadio":case"picCheckbox":b=v["default"].createElement(Se["default"],g);break;case"picAttachment":b=v["default"].createElement(_e["default"],g);break;case"staticPic":b=v["default"].createElement(Ee["default"],g);break;case"picCarousel":b=v["default"].createElement(Ne["default"],g);break;case"staticText":b=v["default"].createElement(Te["default"],g);break;case"separator":b=v["default"].createElement(xe["default"],g);break;case"authCode":b=v["default"].createElement(Pe["default"],g);break;case"staticVideo":b=v["default"].createElement(Le["default"],g);break;case"staticMap":b=v["default"].createElement(ye["default"],g);break;case"name":b=v["default"].createElement(Re["default"],g);break;case"avatar":b=v["default"].createElement(_e["default"],r({},g,{isAcceptMultipleFile:!0}));break;case"gender":case"title":b=2===+u.componentType?p?v["default"].createElement(D["default"],g):v["default"].createElement(M["default"],g):v["default"].createElement(k["default"],g);break;case"company":case"department":case"position":b=2===+u.searchComponentType?v["default"].createElement(k["default"],g):3===+u.searchComponentType?p?v["default"].createElement(D["default"],g):v["default"].createElement(M["default"],g):v["default"].createElement(I["default"],g);break;case"IM":case"SNS":b=v["default"].createElement(je["default"],g);break;case"mobile":!g.data.isSendMsgAuth||ot&&ot!==t?b=v["default"].createElement(Ue["default"],g):(ot=t,b=v["default"].createElement(We["default"],g));break;case"wechat":b=window.IN_WECHAT?v["default"].createElement(Ve["default"],g):v["default"].createElement(Ue["default"],g);break;case"email":case"website":case"tel":case"fax":case"qq":case"skype":case"whatsApp":case"messenger":case"viber":case"line":case"telegram":case"weibo":case"linkedIn":case"twitter":case"facebook":case"instagram":case"mkGooglePlus":b=v["default"].createElement(Ue["default"],g);break;case"paging":b=null;break;default:console.error("ERROR UNKNOW COMPONENT",t,JSON.stringify(u))}return b},renderComponents:function(){var t=this,a=[],n=m["default"].getPage(this.state.page)||[];if(!n)return null;this.currentComponent=n;var i=[];this._num=m["default"].getPageStartOffset(this.state.page);var l=m["default"].getSettings(),o=m["default"].getStyle();return c["default"].forEach(n,function(n){if("normal"===n.type)i.push(n.id),a.push(t.renderComponent(n.id,l,o));else if("squeezeBox"===n.type){var r="sq"+n.children.join(""),s=Math.floor(1e3/n.layout.reduce(function(t,a){return t+a}))/10,d=n.children.length,u=!!tt()&&c["default"].reduce(n.children,function(t,a){var n=m["default"].getComponents(a);return n?t&&"button"===n.type:t&&!1},!0),f=c["default"].map(n.children,function(a,r){return i.push(a),t.renderComponent(a,l,o,{width:n.layout[r]*s+"% "+(u?"!important":"")},{itemNum:d,forceSqueeze:u})});a.push(v["default"].createElement("div",{className:"clearB",key:"sqbf"+r})),a.push(v["default"].createElement("div",{className:(0,h["default"])("fb_group",{"fb_forceSqueeze":u}),key:r},f,v["default"].createElement("div",{className:"clearB"})))}}),p.isOldIE&&(0,p.hasAttachmentComponent)()&&c["default"].forEach(m["default"].getLayout(),function(n){if("normal"===n.type){if(i.indexOf(n.id)>-1)return!0;a.push(t.renderComponent(n.id,l,o,{display:"none"}))}else if("squeezeBox"===n.type){var r="sq"+n.children.join(""),s=Math.floor(1e3/n.layout.reduce(function(t,a){return t+a}))/10,d=n.children.length,u=[];if(c["default"].forEach(n.children,function(a,r){return i.indexOf(a)>-1||void u.push(t.renderComponent(a,l,o,{width:n.layout[r]*s+"%",display:"none"},{itemNum:d}))}),!(u.length>0))return!0;a.push(v["default"].createElement("div",{className:"clearB",key:"sqbf"+r})),a.push(v["default"].createElement("div",{className:"fb_group",key:r},u,v["default"].createElement("div",{className:"clearB"})))}}),a},render:function(){var t=this.state.valid,a=this.state.isMiniSize;return v["default"].createElement("div",null,v["default"].createElement("div",{className:(0,h["default"])("fb_componentWrapper",{"fb_componentMiniSize":a})},this.renderComponents(),v["default"].createElement("div",{className:"clearB",key:"clearB"})),v["default"].createElement(ge["default"],{key:"cart",forceUpdateCount:this.state.forceUpdateCount,valid:t.cart}))}});a["default"]={inject:l,render:o},t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}a.__esModule=!0;var l=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=n(8),r=i(o),s=n(14),d=i(s),u=n(43),c=i(u),f=n(9),h=n(60),p=i(h),m=n(38),g=n(51),v=i(g),y=n(62),b=n(47),S=i(b),C=n(35),_=i(C),w=d["default"].createClass({displayName:"ElemButton",mixins:[v["default"]],getInitialState:function(){return this.hasPage=_["default"].hasPage(),this.pageNum=_["default"].getPageNum(),{forceUpdateCount:0,page:S["default"].getState().page}},componentDidMount:function(){this.unsubscribe=S["default"].addChangeListener(this.handleStateChange)},componentWillUnmount:function(){this.unsubscribe&&this.unsubscribe(),this.resetProgress&&clearTimeout(this.resetProgress)},handleStateChange:function(t){var a=this,n=+this.props.data.btnAction,i={};[7,8].indexOf(n)>-1?(_["default"].hasPage()===this.hasPage&&_["default"].getPageNum()===this.pageNum||(this.hasPage=_["default"].hasPage(),this.pageNum=_["default"].getPageNum(),i.forceUpdateCount=(this.state.forceUpdateCount+1)%100),"page"===t.type?i.page=S["default"].getState().page:"$$resize"===t.type&&(i.forceUpdateCount=this.state.forceUpdateCount+1)):1===n&&("savingForm"===t.type?(i.saving=!0,i.progress=t.progress||null,t.progress>=100&&(this.resetProgress=setTimeout(function(){a.setState({progress:null})},1200))):"endSubmit"===t.type&&(i.saving=!1,i.progress=null)),r["default"].isEmpty(i)||this.setState(i)},handleChangePage:function(t){t<0?t=0:t>this.props.pageNum-1&&(t=this.props.pageNum-1),S["default"].dispatch({type:"page",data:t})},handleBtnClick:function(e){e.preventDefault(),e.stopPropagation();var t=this.props,a=t.isMobile,n=t.data,i=t.onGetContent,l=n.btnAction;switch(void 0===l&&(l=2),+l){case 1:i().$form.trigger("form-submit");break;case 2:n.btnJumpTo&&window.open((0,m.linkify)(n.btnJumpTo));break;case 5:n.btnQqTo&&(a?window.IN_WECHAT?window.open("https://wpa.qq.com/msgrd?v=3&uin="+n.btnQqTo+"&site=qq&menu=yes"):window.open("mqqwpa://im/chat?chat_type=wpa&uin="+n.btnQqTo+"&version=1&src_type=web&web_src=oicqzone.com"):location.href="tencent://message/?uin="+n.btnQqTo+"&Site=qq&Menu=yes");break;case 6:i().$scrollContainer.animate({scrollTop:0},300);break;case 7:this.hasPage&&this.handleChangePage(this.state.page-1);break;case 8:this.hasPage&&this.handleChangePage(this.state.page+1)}},render:function(){var t=this.props.data,a=null,n={height:t.btnHeight,lineHeight:(t.btnHeight?t.btnHeight:40)+"px",fontSize:t.btnFontSize,fontWeight:t.btnFontWeight?"bold":"normal",color:t.btnFontColor};2===t.btnWidthType?n.width="100%":3===t.btnWidthType&&t.btnWidth?n.width=t.btnWidth:[7,8].indexOf(t.btnStyle)===-1&&(n.paddingLeft="30px",n.paddingRight="30px"),[3,4].indexOf(t.btnStyle)===-1&&(n.backgroundColor=t.btnColor),[3,4].indexOf(t.btnStyle)>-1&&(n.borderColor=t.btnColor),[2,4,6,8,10,12].indexOf(t.btnStyle)>-1&&(n.borderRadius=(t.btnHeight||40)/2+"px");var i=[];if(t.isShowBtnIcon&&t.btnIcon&&i.push(d["default"].createElement("i",{key:"icon",className:"iconfont fbc_cpbIcon",style:{fontSize:(t.btnFontSize||14)+1}},r["default"].find(y.FORM_SETTINGS_BTN_ICON,{id:t.btnIcon}).icon)),t.btnText||!("btnText"in t)){var o="btnText"in t?t.btnText:f.lang.cBtnDefault;1===+t.btnAction&&this.state.saving&&(o=f.lang.gSaving,this.state.progress&&(o+=" "+this.state.progress.toFixed(1)+"%")),i.push(d["default"].createElement("span",{key:"title",className:"fbc_cpbTitle"},o))}var s={};switch(3===+t.btnAction?s.href="tel:"+t.btnTelTo:4===+t.btnAction?s.href="sms:"+t.btnSmsTo+(t.btnSmsContent?"?&body="+encodeURIComponent(t.btnSmsContent):""):9===+t.btnAction?s.href="mailTo:"+t.btnMailTo:s.onClick=this.handleBtnClick,t.btnStyle){case 7:case 8:n.height=+(t.btnHeight||40)+5;var u={},h={backgroundColor:t.btnColor};t.btnWidthType&&1!==t.btnWidthType||(h.paddingLeft="30px",h.paddingRight="30px"),8===t.btnStyle&&(u.borderRadius=(t.btnHeight||40)/2+"px",h.borderRadius=(t.btnHeight||40)/2+"px"),a=d["default"].createElement("a",l({className:(0,c["default"])("fbc_cpButton","fbc_cpButtonStyle"+(t.btnStyle||1)),style:n},s),d["default"].createElement("i",{className:"fbc_cpBs7Mask",style:u}),d["default"].createElement("span",{className:"fbc_cpBs7Content",style:h},i));break;case 11:case 12:var p={};12===t.btnStyle&&(p.borderRadius=(t.btnHeight||40)/2+"px"),a=d["default"].createElement("a",l({className:(0,c["default"])("fbc_cpButton","fbc_cpButtonStyle"+(t.btnStyle||1)),style:n},s),d["default"].createElement("i",{className:"fbc_cpBs11Bor",style:p}),i);break;case 1:case 2:case 3:case 4:case 5:case 6:case 9:case 10:default:a=d["default"].createElement("a",l({className:(0,c["default"])("fbc_cpButton","fbc_cpButtonStyle"+(t.btnStyle||1)),style:n},s),i)}return a}});a["default"]=d["default"].createClass({displayName:"Component(Button)",mixins:[v["default"],p["default"]],render:function(){var t=this.props,a=t.isMobile,n=t.data,i=t.componentStyle,l=t.onGetContent;return d["default"].createElement("div",{className:(0,c["default"])("fb_component","fb_staticComponent",n.type),id:n.id,style:i},d["default"].createElement("div",{className:"fbc_cpButtonWrapper",style:{textAlign:["","left","center","right"][n.btnAlign]}},d["default"].createElement(w,{isMobile:a,data:n,onGetContent:l})))}}),t.exports=a["default"]},function(t,a,n){(function($){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}a.__esModule=!0;var l=n(14),o=i(l),r=n(9),s=n(79),d=i(s),u=n(137),c=i(u),f=n(146),h=i(f),p=n(138),m=i(p),g=n(35),v=i(g),y=n(38),b=i(y),S=n(51),C=i(S);a["default"]=o["default"].createClass({displayName:"PopPay",mixins:[C["default"]],getDefaultProps:function(){return{defaultPayState:1}},getInitialState:function(){var t=this;return v["default"].getParentInfo([{t:"self",v:"rect",e:1,n:"rect"}]).then(function(a){a&&a.innerState&&t.setState({rectTop:a.rect.top})}),{payState:this.props.defaultPayState||1}},handleClose:function(t){t&&window.setTimeout(function(){$(".main").trigger("paymentSucceed")},200),this.refs.popwin.doClose()},handleStateChange:function(t){this.setState({payState:t})},render:function(){var t=this.state.payState,a=" ",n=o["default"].createElement(c["default"],{isMobile:b["default"].fuzzyDeviceCheck,onClose:this.handleClose,payType:this.handleStateChange});return 1===t?4===this.props.payment.type?(a=r.lang.cPayOfflineTitle,n=o["default"].createElement(h["default"],{onClose:this.handleClose})):a=r.lang.cPayOnlineTitle:2===t&&(n=o["default"].createElement(m["default"],{onClose:this.handleClose})),o["default"].createElement(d["default"],{className:"pop_pay",ref:"popwin",boxStyle:{marginTop:this.state.rectTop?Math.max(60-this.state.rectTop,60):null},isCantClose:!0,title:a},n)}}),t.exports=a["default"]}).call(a,n(25))},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}a.__esModule=!0;var l=n(8),o=i(l),r=n(14),s=i(r),d=n(9),u=n(39),c=(i(u),n(35)),f=i(c),h=n(47),p=i(h),m=n(12),g=i(m),v=n(51),y=i(v);a["default"]=s["default"].createClass({displayName:"PopPayOnline",mixins:[y["default"]],getInitialState:function(){var t=p["default"].getState();return{info:t.payment,data:t.data}},componentDidMount:function(){this.unsubscribe=p["default"].addChangeListener(this.handleStateChange)},componentWillUnmount:function(){this.unsubscribe(),clearInterval(this.getDmwProgress)},handleStateChange:function(){var t=p["default"].getState();this.setState({info:t.payment,data:t.data})},handleClose:function(){this.props.onClose&&this.props.onClose(!0)},render:function(){var t=this.state.info,a=this.state.data,n=f["default"].getSettings(),i="￥";"0"==n.cartSymbol?i=n.cartSymbolDefined||"":n.cartSymbol&&(i=d.lang.cCurrencySymbolArray[n.cartSymbol-1]);var l=0,r=f["default"].processCart(a,function(t){return{price:t.price,num:t.num}});return r.length>0&&(l=Math.round(o["default"].reduce(r,function(t,a){return t+a.price*a.num},0))/100),s["default"].createElement("div",{className:"pay_offLine"},s["default"].createElement("p",{className:"pay_guide"},s["default"].createElement("i",{className:"iconfont pay_gIcon"},String.fromCharCode(58988)),s["default"].createElement("span",null,d.lang.cPayOfflineGuide)),s["default"].createElement("div",{className:"pay_tradeInfo"},s["default"].createElement("p",{className:"pay_orderNo"},s["default"].createElement("span",null,d.lang.cPayOrderNo),s["default"].createElement("span",{className:"orderNo"},t.ordiNo)),s["default"].createElement("p",{className:"pay_needPay"},s["default"].createElement("span",null,d.lang.cPayNeedPay),s["default"].createElement("span",{className:"needPay"},i+" "+g["default"].localeNumberFormatter(l,2,2)))),s["default"].createElement("div",{className:"pay_operate"},s["default"].createElement("a",{className:"btn_normal btn_finish",onClick:this.handleClose},d.lang.cPayKnowIt)))}}),t.exports=a["default"]},function(t,a,n){(function($){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function l(t){w=t.isMobile,E=t.getCurrentWidth,I=t.getMode,N=t.getContent}function o(t){if(w&&N){var a=N().$window,n=N().$submit,i=N().$form,l=N().$submitForm;a.off("scroll.positionCalculate $$stickyUpdate"),l.removeClass("bottomFixed"),i.removeClass("main_sticky"),n.removeClass("submitWrapper_sticky submitWrapper_fixed");var o=u["default"].getTail();if(o&&!o.isHideBtn&&o.stickyBottom)if(k)n.addClass("submitWrapper_sticky"),i.addClass("main_sticky");else{var r=$(".header"),s=$(".body");l.addClass("bottomFixed"),a.on("scroll.positionCalculate $$stickyUpdate",function(e){var t=n.height();r.outerHeight()+s.outerHeight(!0)-a.scrollTop()-2>a.height()?(n.addClass("submitWrapper_fixed"),s.css("paddingBottom",t)):(n.removeClass("submitWrapper_fixed"),s.css("paddingBottom",0))}),a.trigger("$$stickyUpdate")}}p["default"].render(f["default"].createElement(T,{isMobile:w}),t[0])}a.__esModule=!0;var r=n(8),s=i(r),d=n(35),u=i(d),c=n(14),f=i(c),h=n(26),p=i(h),m=n(47),g=i(m),v=n(148),y=i(v),b=n(149),S=i(b),C=n(51),_=i(C),w=void 0,E=void 0,I=void 0,N=void 0,k=function(){var t=["","-webkit-","-ms-","-moz-","-o-"],a=t.length,n=document.createElement("div");if(n&&n.style)try{for(var i=0;i<a;i++)if(n.style.position=t[i]+"sticky",""!==n.style.position)return!0}catch(e){}return!1}(),T=f["default"].createClass({displayName:"SubmitWrapper",mixins:[_["default"]],getInitialState:function(){return this.hasPage=u["default"].hasPage(),this.pageNum=u["default"].getPageNum(),{forceUpdateCount:0,page:g["default"].getState().page
}},componentDidMount:function(){this.unsubscribe=g["default"].addChangeListener(this.handleStateChange),this.tagTailFieldStatus()},componentDidUpdate:function(){var t=N().$window;t.trigger("$$stickyUpdate"),this.tagTailFieldStatus()},componentWillUnmount:function(){this.unsubscribe()},tagTailFieldStatus:function(){var t=$(".main"),a="is-emptyTail";t.removeClass(a);var n=u["default"].getSettings()||{},i=n.isHidePageBtn,l=n.isBanReturn,o=u["default"].getTail()||{},r=o.isHideBtn;i&&this.hasPage&&u["default"].hasNextPage(this.state.page+1)?t.addClass(a):r&&(!this.hasPage||this.hasPage&&!u["default"].hasNextPage(this.state.page+1)&&(i||l))&&t.addClass(a)},handleStateChange:function(t){var a={};u["default"].hasPage()===this.hasPage&&u["default"].getPageNum()===this.pageNum||(this.hasPage=u["default"].hasPage(),this.pageNum=u["default"].getPageNum(),a.forceUpdateCount=(this.state.forceUpdateCount+1)%100),g["default"].getState().page!==this.state.page?a.page=g["default"].getState().page:"$$resize"===t.type&&(a.forceUpdateCount=this.state.forceUpdateCount+1),s["default"].isEmpty(a)||this.setState(a)},render:function(){var t=this.state.page,a=u["default"].hasPage();return f["default"].createElement("div",null,a&&u["default"].hasNextPage(t+1)?f["default"].createElement(y["default"],{page:t,pageNum:u["default"].getPageNum(),key:"paging",isMobile:w(),forceUpdateCount:this.state.forceUpdateCount}):f["default"].createElement(S["default"],{page:t,pageNum:u["default"].getPageNum(),key:"submit",isMobile:w(),forceUpdateCount:this.state.forceUpdateCount}))}});a["default"]={inject:l,render:o},t.exports=a["default"]}).call(a,n(25))},function(t,a,n){(function($){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}a.__esModule=!0;var l=n(14),o=i(l),r=n(43),s=i(r),d=n(47),u=i(d),c=n(55),f=n(35),h=i(f),p=n(9),m=n(51),g=i(m),v=n(45),y=i(v);a["default"]=o["default"].createClass({displayName:"Component(Paging)",mixins:[g["default"]],componentDidMount:function(){$(".fbc_button").on("mousedown.stopPop",this.handleStopPop)},componentWillUnmount:function(){$(".fbc_button").off("mousedown.stopPop")},handleStopPop:function(e){e.stopPropagation(),e.preventDefault()},handleARIAChangePage:function(t,e){13!==e.keyCode&&32!==e.keyCode||this.handleChangePage(t,!0,e)},handleChangePage:function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t<0?t=0:t>this.props.pageNum-1&&(t=this.props.pageNum-1),u["default"].dispatch({type:"page",data:t,aria:a})},render:function(){var t=h["default"].getSettings(),a=h["default"].getStyle(),n=a.submitStyle||{},i=this.props,l=i.isMobile,r=i.page,d=i.pageNum,u=["","left","center","right"],m={textAlign:u[n.btnAlign||2]};if(n.bgColor&&(m.backgroundColor=n.bgColor),null!==n.bgOpacityValue&&void 0!==n.bgOpacityValue&&n.bgOpacityValue<1){var g=new c.OColor(n.bgColor||"#ffffff");g.set("a",n.bgOpacityValue),m.backgroundColor=g.getRGBA(),m.zoom=1,f.isIE8&&(m.filter="progid:DXImageTransform.Microsoft.gradient(GradientType=1,startColorstr="+g.getIEFullHEX()+", endColorstr="+g.getIEFullHEX()+")",m["-ms-filter"]="progid:DXImageTransform.Microsoft.gradient(GradientType=1,startColorstr='"+g.getIEFullHEX()+"', endColorstr='"+g.getIEFullHEX()+"')",m.backgroundColor="transparent")}if(n.background){m.backgroundImage="url("+n.background+")",m.backgroundPosition="center center",m.backgroundRepeat="no-repeat";var v=n.bgLayoutHorizontal||6,b=n.bgLayoutVertical||6;switch(v){case 3:m.backgroundRepeat="repeat-x";break;case 4:m.backgroundSize="100% auto";break;case 5:m.backgroundPositionX="left";break;case 7:m.backgroundPositionX="right";break;case 6:default:m.backgroundPositionX="center"}switch(b){case 3:m.backgroundRepeat="repeat-y";break;case 4:m.backgroundSize="auto 100%";break;case 8:m.backgroundPositionY="top";break;case 9:m.backgroundPositionY="bottom";break;case 6:default:m.backgroundPositionY="center"}3===v&&3===b&&(m.backgroundRepeat="repeat"),4===v&&4===b&&(m.backgroundSize="cover")}var S={width:1===+n.isFormWith||l?"100%":"auto",height:Math.floor(2.2*(n.submitFontSize||14))+(l?6:0),paddingTop:(n.submitFontSize||14)/2+(l?3:0),paddingBottom:(n.submitFontSize||14)/2+(l?3:0),paddingLeft:(n.submitFontSize||14)+6,paddingRight:(n.submitFontSize||14)+6,fontSize:n.submitFontSize,fontWeight:n.fontWeight?"bold":"normal",color:n.fontColor,background:n.btnColor},C=!1,_=t.isShowCurrentPageNum,w=t.isShowAllPageNum,E=t.isBanReturn,I=t.isHidePageBtn;y["default"].getExt("componentButton")||(I=!1),_&&w?C=p.lang.gPageCurrentAndAll({current:r+1,total:d}):_?C=p.lang.gPageCurrent({num:r+1}):w&&(C=p.lang.gPageAll({num:d}));var N=null;C&&(N=o["default"].createElement("p",{className:"fbc_pageNum"},C));var k=null;return 1!==E&&0!==r&&(S.width="1"==n.isFormWith||l?"49%":"auto",k=o["default"].createElement("a",{className:"fbc_button",style:S,tabIndex:1,role:"button",onKeyDown:this.handleARIAChangePage.bind(this,r-1),onClick:this.handleChangePage.bind(this,r-1,!1)},p.lang.gPrev)),o["default"].createElement("div",{className:(0,s["default"])("submit","paging"),style:m},I?null:o["default"].createElement("div",{className:"fbc_pageBtn"},k,o["default"].createElement("a",{className:"fbc_button",style:S,tabIndex:1,role:"button",onKeyDown:this.handleARIAChangePage.bind(this,r+1),onClick:this.handleChangePage.bind(this,r+1,!1)},p.lang.gNext)),N)}}),t.exports=a["default"]}).call(a,n(25))},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}a.__esModule=!0;var l=n(8),o=i(l),r=n(25),s=(i(r),n(14)),d=i(s),u=n(43),c=i(u),f=n(9),h=n(47),p=i(h),m=n(55),g=n(35),v=i(g),y=n(51),b=i(y);a["default"]=d["default"].createClass({displayName:"Submit.react",mixins:[b["default"]],getInitialState:function(){return{saving:!1,updateCounter:0}},componentDidMount:function(){this.unsub=p["default"].addChangeListener(this.handleChangeState)},componentWillUnmount:function(){clearTimeout(this.resetProgress),this.unsub()},handleChangeState:function(t){var a=this;"savingForm"===t.type?(this.setState({saving:!0,progress:t.progress||null}),t.progress>=100&&(this.resetProgress=setTimeout(function(){a.setState({progress:null})},1200))):"endSubmit"===t.type?this.setState({saving:!1,progress:null}):"$$resize"===t.type&&this.setState({updateCounter:this.state.updateCounter+1})},handleChangePage:function(t){t<0?t=0:t>this.props.pageNum-1&&(t=this.props.pageNum-1),p["default"].dispatch({type:"page",data:t})},render:function(){var t=v["default"].getTail(),a=v["default"].getStyle(),n=v["default"].getSettings(),i=this.props,l=i.isMobile,r=i.page,s=i.pageNum,u=a.submitStyle||{},h=["","left","center","right"],p={textAlign:h[u.btnAlign||2]};if(u.bgColor&&(p.backgroundColor=u.bgColor),null!=u.bgOpacity&&1!==u.bgOpacityValue){var y=new m.OColor(u.bgColor||"#ffffff");y.set("a",u.bgOpacityValue),p.backgroundColor=y.getRGBA(),p.zoom=1,g.isIE8&&(p.filter="progid:DXImageTransform.Microsoft.gradient(GradientType=1,startColorstr="+y.getIEFullHEX()+", endColorstr="+y.getIEFullHEX()+")",p["-ms-filter"]="progid:DXImageTransform.Microsoft.gradient(GradientType=1,startColorstr='"+y.getIEFullHEX()+"', endColorstr='"+y.getIEFullHEX()+"')",p.backgroundColor="transparent")}if(u.background){p.backgroundImage="url("+u.background+")",p.backgroundPosition="center center",p.backgroundRepeat="no-repeat";var b=u.bgLayoutHorizontal||6,S=u.bgLayoutVertical||6;switch(b){case 3:p.backgroundRepeat="repeat-x";break;case 4:p.backgroundSize="100% auto";break;case 5:p.backgroundPositionX="left";break;case 7:p.backgroundPositionX="right";break;case 6:default:p.backgroundPositionX="center"}switch(S){case 3:p.backgroundRepeat="repeat-y";break;case 4:p.backgroundSize="auto 100%";break;case 8:p.backgroundPositionY="top";break;case 9:p.backgroundPositionY="bottom";break;case 6:default:p.backgroundPositionY="center"}3===b&&3===S&&(p.backgroundRepeat="repeat"),4===b&&4===S&&(p.backgroundSize="cover")}var C=!1,_=null,w=!1,E=null;if(s>1){var I=n.isShowCurrentPageNum,N=n.isShowAllPageNum,k=n.isBanReturn,T=n.isHidePageBtn;I&&N?C=f.lang.gPageCurrentAndAll({current:r+1,total:s}):I?C=f.lang.gPageCurrent({num:r+1}):N&&(C=f.lang.gPageAll({num:s})),C&&(_=d["default"].createElement("p",{className:"fbc_pageNum"},C)),1===k||0===r||T||(w=!0)}var M={width:1===+u.isFormWith||this.props.isMobile?"100%":"auto",height:Math.floor(2.2*(u.submitFontSize||14))+(l?6:0),paddingTop:(u.submitFontSize||14)/2+(l?3:0),paddingBottom:(u.submitFontSize||14)/2+(l?3:0),paddingLeft:(u.submitFontSize||14)+6,paddingRight:(u.submitFontSize||14)+6,fontSize:u.submitFontSize,fontWeight:u.fontWeight?"bold":"normal",color:u.fontColor,background:u.btnColor},x=o["default"].assign({},M);this.props.isMobile&&w&&(x.width="49%","ar"===f.currentLang?x.marginRight="2%":x.marginLeft="2%");var D=null;if(!t||t&&1!==t.isHideBtn){var P=f.lang.gSubmit;t&&t.isDefaultSubmitText&&(P="submitText"in t?t.submitText:f.lang.gSubmit),this.state.saving&&(P=f.lang.gSaving,this.state.progress&&(P+=" "+this.state.progress.toFixed(1)+"%")),D=d["default"].createElement("a",{className:(0,c["default"])("fb_submitBtn",{"fb_savingBtn":this.state.saving}),tabIndex:1,role:"button","aria-disabled":this.state.saving,id:"form_submit",style:x},P)}return w&&(E=d["default"].createElement("a",{className:"fbc_button",style:M,tabIndex:1,role:"button","aria-live":"polite",onClick:this.handleChangePage.bind(this,r-1)},f.lang.gPrev)),d["default"].createElement("div",{className:"submit",style:p,"aria-live":"assertive","aria-relevant":"text"},E?d["default"].createElement("div",{className:"fbc_pageBtn fbc_submitPagePrev",style:{width:t&&1===t.isHideBtn?"100%":null}},E):null,D,_,d["default"].createElement("div",{className:"clearB"}))}}),t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function l(t,a){t=""+t;for(var n="",i=[],l=0,o=t.length;l<o;l++)l%a===0&&n&&(i.push(n),n=""),n+=t.charAt(l);return n&&i.push(n),i}a.__esModule=!0;var o=n(8),r=i(o),s=n(25),d=i(s),u=n(14),c=i(u),f=n(9),h=n(35),p=i(h),m=n(38),g=i(m),v=n(45),y=n(42),b=n(51),S=i(b),C=n(26),_=i(C),w=n(145),E=i(w),I=/micromessenger/i.test(window.navigator.userAgent),N=(0,y.crateTextRender)({entity:{}});a["default"]=c["default"].createClass({displayName:"succeed",mixins:[S["default"]],componentDidMount:function(){var t=this;p["default"].postMessage({height:(0,d["default"])(".wrapper").outerHeight(!0)+30}),(0,d["default"])("body").scrollTop(0),setTimeout(function(){(0,d["default"])(".fb_secondaryStatus").focus(),setTimeout(function(){t.props.needAlert&&t.props.orderNo&&_["default"].render(c["default"].createElement(E["default"],{isMobile:g["default"].fuzzyDeviceCheck,defaultPayState:2}),document.getElementById("popwin"))},200)},10)},_getHrefUrl:function(){var t="",a=this.props.settings;if("2"==a.asButtonLinkType&&a.asButtonLink)t=a.asButtonLink;else{var n="";if(I){var i=+new Date;n=location.pathname!==p["default"].token()?"?wechat_hash="+i:/wechat_hash/.test(location.search)?location.search.replace(/wechat_hash=\d+(&?)/,"wechat_hash="+i+"$1"):""==location.search?"?wechat_hash="+i:location.search+"&wechat_hash="+i}window._SST&&(n+=n?"&":"?",n+="sst="+window._SST),t=location.origin+"/"+p["default"].token()+n}return t},handleImgError:function(e){e.target.src="images/form/success.png"},handleImgLoad:function(){setTimeout(function(){p["default"].postMessage({height:(0,d["default"])(".wrapper").outerHeight(!0)+30})},100)},handleViewStatistics:function(){location.href="r.php?t="+(p["default"].token()||"")},handleViewSubmitData:function(){location.href="r.php?t="+(p["default"].token()||"")+"&s=2"},render:function(){var t=this.props,a=t.settings,n=t.isMobile,i=t.randomCode,o=t.ticketValidationCode,s=t.ticketValidationQR,d=p["default"].getStyle(),u=d.bodyStyle,h=d.submitStyle;u=u||{},h=h||{};var g=null,y=null,b=null,S=null,C=null,_=null,w=null;if(a&&0!==a.asIsShowImage){var E=a.asImage||{},I="images/form/success.png";a.asIsDefaultImg||((E.isLink||E.isCoop)&&E.linkUri?I=E.linkUri:E.isLink||E.isCoop||!E.imageUri||(I=E.imageUri)),g=c["default"].createElement("div",{className:"fb_ssItem image","aria-hidden":!0},c["default"].createElement("img",{className:"fb_ssImg",src:I,onError:this.handleImgError,onLoad:this.handleImgLoad}))}if(a&&0!==a.asIsShowText&&(y=c["default"].createElement("div",{className:"fb_ssItem text",key:"tips"},c["default"].createElement("div",{className:"fb_ssTitle",style:{color:u.titleColor}},"asTextTitle"in a?a.asTextTitle&&!r["default"].isEmpty(a.asTextTitle)?N.render(a.asTextTitle,a.asTextTitle_style):"":f.lang.asSubmitSucceed),c["default"].createElement("div",{className:"fb_ssSubTitle",style:{color:u.describeColor}},"asTextSubTitle"in a?a.asTextSubTitle&&!r["default"].isEmpty(a.asTextSubTitle)?N.render(a.asTextSubTitle,a.asTextSubTitle_style):"":f.lang.asSubmitSucceedDescribe))),(0,v.getTicketValidation)().isTicketValidation){var k=(0,v.getTicketValidation)().info||{},T=k.ticketValidationTitle,M=k.ticketValidationDescribe;b=c["default"].createElement("div",{className:"fb_ssItem ticketValidation",key:"ticketValidation"},c["default"].createElement("div",{className:"fb_ticketValidation"},c["default"].createElement("div",{className:"fb_tvContent"},c["default"].createElement("div",{className:"fb_tvTitle"},"ticketValidationTitle"in(0,v.getTicketValidation)().info?T&&!r["default"].isEmpty(T)?r["default"].map(T,function(t,a){return c["default"].createElement("p",{key:"des"+a},t)}):"":c["default"].createElement("p",{key:"des"},f.lang.ticketValidationTitle)),c["default"].createElement("p",{className:"fb_tvGuide"},f.lang.ticketValidationGuide),c["default"].createElement("div",{className:"fb_tvDecorate"},c["default"].createElement("div",{className:"fb_tvBorder"})),c["default"].createElement("img",{className:"fb_tvQrCode",src:(0,m.linkify)(s)}),c["default"].createElement("p",{className:"fb_tvRandomCode"},l(o,4).join(" ")),M&&(M.length>1||M[0])?c["default"].createElement("div",{className:"fb_tvDescribe"},r["default"].map(M,function(t,a){return c["default"].createElement("p",{key:"des"+a},t)})):null)))}if(a&&a.asIsShowRandomCode&&(S=c["default"].createElement("div",{className:"fb_ssItem randomCode",key:"randomCode"},c["default"].createElement("div",{className:"fb_randomCode"},c["default"].createElement("p",{className:"fb_rdTitle"},"asRandomCodeTitle"in a?a.asRandomCodeTitle:f.lang.asRandomCode),c["default"].createElement("br",null),c["default"].createElement("p",{className:"fb_rdExample"},i)))),a&&a.asIsShowFeedbackNum&&(C=c["default"].createElement("div",{className:"fb_ssItem feedbackNum",key:"feedbackNum"},c["default"].createElement("p",{className:"fb_fnText"},"asFeedbackNumText"in a?a.asFeedbackNumText:f.lang.asFeedbackNumber))),a&&a.asIsShowFeedbackResult){var x=0!==a.isShowStatistics,D=null,P=0!==a.isShowData,O=null,L=null;x&&(D=c["default"].createElement("div",{className:"fb_frStatistics",onClick:this.handleViewStatistics},c["default"].createElement("p",{className:"fb_frIcon"}),c["default"].createElement("p",{className:"fb_frTitle",style:{color:u.titleColor}},f.lang.asStatisticsView))),P&&(O=c["default"].createElement("div",{className:"fb_frData",onClick:this.handleViewSubmitData},c["default"].createElement("p",{className:"fb_frIcon"}),c["default"].createElement("p",{className:"fb_frTitle",style:{color:u.titleColor}},f.lang.asFormSubmitView))),x&&P&&(L=c["default"].createElement("div",{className:"fb_frBorder"})),_=c["default"].createElement("div",{className:"fb_ssItem feedbackResult",key:"feedbackResult"},D,L,O)}return a&&0!==a.asIsShowButton&&(w=c["default"].createElement("div",{className:"fb_ssItem button"},c["default"].createElement("a",{className:"fb_submitBtn",style:{width:"1"==h.isFormWith||n?"100%":"auto",height:Math.floor((2.2+(n?.4:0))*(h.fontSize||14)),lineHeight:n?Math.floor(1.6*(h.fontSize||14))+"px":null,paddingTop:(h.fontSize||14)/2,paddingBottom:(h.fontSize||14)/2,paddingLeft:h.fontSize||14,paddingRight:h.fontSize||14,fontSize:h.fontSize,fontWeight:h.fontWeight,color:h.fontColor,background:h.btnColor},href:this._getHrefUrl()},"asButtonText"in a?a.asButtonText||f.lang.gGoBack:f.lang.gGoBack))),c["default"].createElement("div",{className:"fb_secondaryStatus",tabIndex:1,style:n?{padding:10}:null},g,y,b,S,C,_)}}),t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}a.__esModule=!0;var l=n(25),o=i(l),r=n(14),s=i(r),d=n(26),u=i(d),c=n(43),f=i(c),h=n(39),p=i(h),m=n(37),g=i(m),v=n(38),y=i(v),b=n(47),S=i(b),C=n(35),_=i(C),w=n(45),E=(i(w),n(9)),I=n(6),N=i(I),k=n(152),T=(i(k),n(51)),M=i(T),x=/micromessenger/i.test(window.navigator.userAgent),D="";"cn"===window._SLD&&(D=N["default"].CDN_PATH_WITHOUT_PROTOCOL),a["default"]=s["default"].createClass({displayName:"errorHandler",mixins:[M["default"]],getInitialState:function(){return{time:null,valid:!1}},componentDidMount:function(){this.refs.password&&(u["default"].findDOMNode(this.refs.password).focus(),(0,o["default"])(u["default"].findDOMNode(this.refs.password)).on("keydown",this.handleKeyPreventDefault)),S["default"].addChangeListener(this.handleStateChange),_["default"].postMessage({height:(0,o["default"])(".wrapper").outerHeight(!0)+30})},componentWillMount:function(){var t=this.props,a=t.settings,n=t.errorCode,i=void 0,l=this;if(n===-822){var o=this.usableTimeFromTime=(0,p["default"])(a.usableTimeFrom).time();window.JHD&&(o=this.usableTimeFromTime=(0,p["default"])().time()+1e3*window.JHD);var r=function s(){var t=(0,p["default"])().time();o>=t?(l.setState({time:Math.floor(t/1e3)}),i=y["default"].rAF(s)):(y["default"].cAF(i),location.reload(!0))};r()}},componentDidUpdate:function(){_["default"].postMessage({height:(0,o["default"])(".wrapper").outerHeight(!0)+30})},componentWillUnmount:function(){(0,o["default"])(u["default"].findDOMNode(this.refs.password)).off("keydown",this.handleKeyPreventDefault)},handleStateChange:function(t){"passwordValid"===t.type&&this.setState({valid:t.data})},handleRefresh:function(){return x?void(window.location.href=y["default"].updateUrl(window.location.href)):void location.reload()},handleImageLoad:function(){setTimeout(function(){_["default"].postMessage({height:(0,o["default"])(".wrapper").outerHeight(!0)+30})},100)},handleKeyPreventDefault:function(e){13===e.which&&e.preventDefault()},handleKeySubmitPassword:function(e){this.setState({valid:!1});var t=e.keyCode||e.which;13===t&&(e.preventDefault(),this.handleSubmitPassword())},handleSubmitPassword:function(){var t=u["default"].findDOMNode(this.refs.password).value;t?S["default"].validPassword(t):this.setState({valid:"required"})},_getAfterSubmitImage:function(){var t=this.props.settings,a=t.asImage||{},n=null;return t.asIsDefaultImg||(a.isLink&&a.linkUri?n=a.linkUri:!a.isLink&&a.imageUri&&(n=a.imageUri)),n},handleViewStatistics:function(){location.href="r.php?t="+(_["default"].token()||"")},handleViewSubmitData:function(){location.href="r.php?t="+(_["default"].token()||"")+"&s=2"},renderFeedbackResult:function(){var t=this.props.settings,a=_["default"].getStyle().bodyStyle||{},n=null;if(t&&t.asIsShowFeedbackResult){var i=0!==t.isShowStatistics,l=null,o=0!==t.isShowData,r=null,d=null;i&&(l=s["default"].createElement("div",{className:"fb_frStatistics",onClick:this.handleViewStatistics},s["default"].createElement("p",{className:"fb_frIcon"}),s["default"].createElement("p",{className:"fb_frTitle",style:{color:a.titleColor}},E.lang.asStatisticsView))),o&&(r=s["default"].createElement("div",{className:"fb_frData",onClick:this.handleViewSubmitData},s["default"].createElement("p",{className:"fb_frIcon"}),s["default"].createElement("p",{className:"fb_frTitle",style:{color:a.titleColor}},E.lang.asFormSubmitView))),i&&o&&(d=s["default"].createElement("div",{className:"fb_frBorder"})),n=s["default"].createElement("div",{className:"fb_ssItem feedbackResult",key:"feedbackResult"},l,d,r)}return n},preRenderNeedPasswordComponent:function(){var t=null,a=(this.props.style||{}).submitStyle;"error"===this.state.valid&&(t=s["default"].createElement("p",{key:"errorTips",className:"fbc_errorTips"},E.lang.errAccessPassword));var n=s["default"].createElement("div",{key:"input",className:"fb_ssItem input"},s["default"].createElement("input",{type:"password",className:(0,f["default"])("fbc_input",{"error":this.state.valid}),autoComplete:!1,spellCheck:!1,ref:"password",onKeyUp:this.handleKeySubmitPassword})),i=s["default"].createElement("div",{key:"button",className:"fb_ssItem button"},s["default"].createElement("a",{className:"fbc_button",style:{color:a.fontColor,background:a.btnColor},onClick:this.handleSubmitPassword},E.lang.gConfirm));return{image:D+"images/form/err_passwordLimit.png",subTitle:E.lang.tAccessPassword,content:[t,n,i]}},preRenderBannedComponent:function(){return{image:D+"images/form/err_banned.png",title:E.lang.tBannedForm,subTitle:E.lang.tBannedFormDescribe}},preRenderFrozenComponent:function(){return{image:D+"images/form/err_banned.png",title:E.lang.tFrozenForm,subTitle:E.lang.tFrozenFormDescribe}},preRenderPauseComponent:function(){return{image:D+"images/form/err_pause.png",title:E.lang.tPauseForm,subTitle:E.lang.tPauseFormDescribe}},preRenderStoppedComponent:function(){return{image:D+"images/form/err_stopped.png",title:E.lang.tStoppedForm}},preRenderIPLimitedComponent:function(){var t=(this.props.style||{}).submitStyle,a=s["default"].createElement("div",{className:"fb_ssItem button"},s["default"].createElement("a",{className:"fbc_button",style:{color:t.fontColor,background:t.btnColor},href:"http://hk.mikecrm.com/ZN5fxQj"},E.lang.tIPLimitedSubmit));return{image:D+"images/form/err_wrongSLD.png",title:E.lang.tIPLimited,subTitle:this.props.isMobile?E.lang.tIPLimitedDescribeMobile||E.lang.tIPLimitedDescribe:E.lang.tIPLimitedDescribe,content:[a]}},preRenderWrongDNSComponent:function(){return{image:D+"images/form/err_stopped.png",title:E.lang.tWrongDNSTitle}},preRenderNotNewestComponent:function(){var t=(this.props.style||{}).submitStyle,a=s["default"].createElement("div",{className:"fb_ssItem button"},s["default"].createElement("a",{className:"fbc_button",style:{color:t.fontColor,background:t.btnColor},onClick:this.handleRefresh},E.lang.tFormRefresh));return{image:D+"images/form/err_expired.png",title:E.lang.tNotNewestForm,subTitle:E.lang.tNotNewestFormDescribe,content:[a]}},preRenderWrongSLDComponent:function(){var t="www";window._CL_SLD&&(t=window._CL_SLD+("cn"!==window._SLD?"."+window._SLD:""));var a=s["default"].createElement("div",{className:"fb_ssItem link"},s["default"].createElement("a",{className:"fbc_link",href:"http://"+t+".mikecrm.com/"+_["default"].token()},"http://"+t+".mikecrm.com/"+_["default"].token()));return{image:D+"images/form/err_wrongSLD.png",title:E.lang.tWrongSLDTitle,subTitle:E.lang.tWrongSLDDescribe,content:[a]}},preRenderUnstartComponent:function(){var t=this.props.settings,a=(0,p["default"])().time(),n=null;if(this.usableTimeFromTime-a<=864e5&&this.usableTimeFromTime-a>0){var i=Math.floor((this.usableTimeFromTime-a)/1e3),l=i%60,o=(i-l)/60,r=o%60,d=(o-r)/60%24;n=s["default"].createElement("div",{className:"fb_ssItem openTime",key:"runTimer"},s["default"].createElement("p",{className:"fb_ssTimeGuide"},E.lang.tStartCountdown),s["default"].createElement("p",{className:"fb_ssTime"},E.lang.tCountdownTimerFunc({hour:y["default"].leftPad(d,0,2),minutes:y["default"].leftPad(r,0,2),seconds:y["default"].leftPad(l,0,2)})))}else n=s["default"].createElement("div",{className:"fb_ssItem openTime",key:"timer"},s["default"].createElement("p",{className:"fb_ssTimeGuide"},E.lang.tStartHint),s["default"].createElement("p",{className:"fb_ssTime"},(0,p["default"])(t.usableTimeFrom).getFullDateTime()));return{image:D+"images/form/err_timeLimit.png",title:t.usableTimeTextBefore||E.lang.tCollectionNotStarted,content:[n]}},preRenderTimeStoppedComponent:function(){var t=this.props,a=t.settings,n=t.style,i=(n||{}).submitStyle,l=y["default"].parseURL(location.url),o=location.protocol+"//"+l.host+"/"+_["default"].token()+"?iro=1",r=s["default"].createElement("div",{className:"fb_ssItem button"},s["default"].createElement("a",{className:"fbc_button",style:{color:i.fontColor,background:i.btnColor},href:o},E.lang.tFormView));return{image:D+"images/form/err_numLimit.png",title:a.usableTimeTextAfter||E.lang.tCollectionFinished,content:[this.renderFeedbackResult(),r]}},preRenderDayTimeUnstartComponent:function(){var t=this.props.settings,a=(t.usableTimeDailyFrom||"00:00:00").split(":"),n=(t.usableTimeDailyTo||"23:59:59").split(":");a.pop(),n.pop();var i=s["default"].createElement("div",{className:"fb_ssItem dayTime"},s["default"].createElement("p",{className:"fb_ssTimeGuide"},E.lang.tCollectionPeriod),s["default"].createElement("p",{className:"fb_ssTime"},a.join(":")+" ~ "+n.join(":")));return{image:D+"images/form/err_timeLimit.png",title:t.usableTimeTextBefore||E.lang.tCollectionNotStarted,content:[i]}},preRenderDayTimeStoppedComponent:function(){var t=this.props.settings,a=(t.usableTimeDailyFrom||"00:00:00").split(":"),n=(t.usableTimeDailyTo||"23:59:59").split(":");a.pop(),n.pop();var i=s["default"].createElement("div",{className:"fb_ssItem dayTime"},s["default"].createElement("p",{className:"fb_ssTimeGuide"},E.lang.tCollectionPeriod),s["default"].createElement("p",{className:"fb_ssTime"},a.join(":")+" ~ "+n.join(":")));return{image:D+"images/form/err_timeLimit.png",title:t.usableTimeTextAfter||E.lang.tCollectionFinished,content:[i]}},preRenderFullEntryComponent:function(){var t=this.props,a=t.settings,n=t.style,i=(n||{}).submitStyle,l=y["default"].parseURL(location.url),o=location.protocol+"//"+l.host+"/"+_["default"].token()+"?iro=1",r=s["default"].createElement("div",{className:"fb_ssItem button"},s["default"].createElement("a",{className:"fbc_button",style:{color:i.fontColor,background:i.btnColor},href:o},E.lang.tFormView));return{image:D+"images/form/err_numLimit.png",title:a.mensurableSubmitText||E.lang.tCollectionFull,content:[this.renderFeedbackResult(),r]}},preRenderRepeatSubmitComponent:function(){var t=this.props,a=t.settings,n=t.style,i=n.submitStyle||{},l=y["default"].parseURL(location.url),o=location.protocol+"//"+l.host+"/"+_["default"].token()+"?iro=1",r=s["default"].createElement("div",{className:"fb_ssItem button"},s["default"].createElement("a",{className:"fbc_button",style:{color:i.fontColor,background:i.btnColor},href:o},E.lang.tFormView));return{image:D+"images/form/err_submitLimit.png",title:(a.isOnlySubmitPerDay?a.onlySubmitPerDayText||E.lang.tSubmittedToday:"")||(a.isOnlySubmit?a.onlySubmitText:"")||E.lang.tAlreadySubmitted,content:[this.renderFeedbackResult(),r]}},preRenderSubmitError:function(){return{image:D+"images/form/err_submitError.png",title:E.lang.tSubmitErrorTitle,subTitle:E.lang.tSubmitErrorDescribe}},render:function(){var t=this.props,a=_["default"].getStyle().bodyStyle||{},n=null;switch(+t.errorCode){case-801:n=this.preRenderBannedComponent();break;case-802:n=this.preRenderFrozenComponent();break;case-803:n=this.preRenderPauseComponent();break;case-804:n=this.preRenderStoppedComponent();break;case-80001:n=this.preRenderIPLimitedComponent();break;case-810:n=this.preRenderWrongDNSComponent();break;case-811:n=this.preRenderNotNewestComponent();break;case-812:n=this.preRenderWrongSLDComponent();break;case-820:n=this.preRenderNeedPasswordComponent();break;case-822:n=this.preRenderUnstartComponent();break;case-823:n=this.preRenderTimeStoppedComponent();break;case-824:n=this.preRenderDayTimeUnstartComponent();break;case-825:n=this.preRenderDayTimeStoppedComponent();break;case-826:n=this.preRenderFullEntryComponent();break;case-827:n=this.preRenderRepeatSubmitComponent();break;case-2:default:n=this.preRenderSubmitError()}return n?s["default"].createElement("div",{className:"fb_secondaryStatus",style:t.isMobile?{padding:10}:null},s["default"].createElement("div",{className:"fb_ssItem image"},s["default"].createElement("img",{className:"fb_ssImg",src:n.image,onLoad:this.handleImageLoad})),s["default"].createElement("div",{className:"fb_ssItem text",key:"tips"},s["default"].createElement("p",{className:"fb_ssTitle",style:{color:a.titleColor}},n.title),s["default"].createElement("p",{className:(0,f["default"])("fb_ssSubTitle",{"error":"required"===this.state.valid})},n.subTitle)),n.content):(g["default"].error("no fit error type",t),null)}}),t.exports=a["default"]},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}a.__esModule=!0;var l=n(8),o=i(l),r=n(14),s=i(r),d=n(26),u=i(d),c=n(51),f=i(c),h=function(){return(+(""+(Math.random()*Math.random()*2222>>>0)+ +new Date)).toString(36)},p=[],m=o["default"].debounce(function(e){o["default"].forEach(p,function(t){o["default"].isFunction(t)&&t(e)}),setTimeout(function(){o["default"].forEach(p,function(t){o["default"].isFunction(t)&&t(e)})},600)},300);"onresize"in window&&window.addEventListener("resize",m),"onorientationchange"in window&&window.addEventListener("orientationchange",m);var g=function(t){var a=p.length;return o["default"].isFunction(t)?(p.push(t),a):-1},v=function(t){t>-1&&(p=p.slice(),p.splice(t,1))},y=s["default"].createClass({displayName:"MAd",mixins:[f["default"]],getDefaultProps:function(){return{size:"720*100"}},getInitialState:function(){var t=this.className="g"+h(),a=this.props,n=a.size,i=a.position,l=a.overThrough;return this.unStyled=this.styled(t,{size:n,position:i,overThrough:l}),this._measureIdx=null,{display:!0,height:null}},styled:function(t,a){var n=this,i="styled_"+t,l=(a.size||"").split("*"),r=l[0],s=l[1];this.ratio=r/s;var d=null,u=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");if(a.overThrough?(d=["."+t+" { width:100%; margin-left:auto; margin-right: auto; margin-bottom: 20px; position: relative; }","."+t+"c { display: block; max-width: 100%; max-height: 100%; margin: 0 auto; }","."+t+"tag { position:absolute; right: 0; bottom: 0; background: #ddd;  color: #FFF; font-size: 12px; padding: 2px; opacity: 0.7; transform: scale(0.8); transform-origin: right bottom; }"],this.needSizeMeasure=!0,this._measureStyle=[],this._baseStyle=d.join(" ")):d=["."+t+" { background: #E9E9E9; max-width: "+ +r+"px; max-height: "+ +s+"px; margin-left:auto; margin-right: auto; margin-bottom: 20px; position: relative; }","."+t+"w { display: block; width: 100%; height: 100%; overflow: hidden; }","."+t+"c { display: block; width: 100%; height: 100%; }","."+t+"tag { position:absolute; right: 0; bottom: 0; background: #ddd;  color: #FFF; font-size: 12px; padding: 2px; opacity: 0.7; transform: scale(0.8); transform-origin: right bottom; }"],a.position)switch(a.position){case"afterSubmit":d.push("."+t+" { margin-top: 32px; margin-bottom: 12px; }");break;case"error":d.push("."+t+" { margin-top: 26px; margin-bottom: 8px; }")}return c.type="text/css",c.id=i,u.appendChild(c),c.styleSheet?c.styleSheet.cssText=d.join(" "):o["default"].forEach(d,function(t){c.appendChild(document.createTextNode(t))}),this._style=c,function(){u.removeChild(c),c=n._style=null}},styleMeasure:function(){var t=this;console.log("styleMeasure");var a=(this.props.size||"").split("*"),n=a[0],i=(a[1],u["default"].findDOMNode(this.ad)),l=i.offsetLeft,r=i.parentNode.clientWidth-i.clientWidth-i.offsetLeft,s=Math.min(i.parentNode.clientWidth,n);if(this._style){var d=["."+this.className+" { height: "+Math.round(s/this.ratio)+"px; }","."+this.className+"w { display: block; position: absolute; left: "+-l+"px; right: "+-r+"px; top: 0; height: "+Math.round(s/this.ratio)+"px; overflow: hidden; text-align: center; }","."+this.className+"tag { right: "+((i.parentNode.clientWidth-s)/2-r)+"px; }"];this._style.styleSheet?(this._baseStyle||(this._baseStyle=this._style.styleSheet.cssText),this._style.styleSheet.cssText=this._baseStyle+d.join(" ")):(this._measureStyle&&this._measureStyle.length>0&&(o["default"].forEach(this._measureStyle,function(a){t._style.removeChild(a)}),this._measureStyle=[]),o["default"].forEach(d,function(a){var n=document.createTextNode(a);t._measureStyle.push(n),t._style.appendChild(n)}))}},componentDidMount:function(){this.needSizeMeasure&&(this.styleMeasure(),
this._measureIdx=g(this.styleMeasure.bind(this)))},componentWillUnmount:function(){this.unStyled&&this.unStyled(),null!=this._measureIdx&&v(this._measureIdx),this._measureIdx=null},handleError:function(){this.setState({display:!1})},_refAd:function(t){this.ad=t},render:function(){var t=this.state,a=t.display,n=t.height,i=this.props,l=i.src,o=i.href;return s["default"].createElement("div",{className:this.className,style:{display:a?null:"none",height:n},ref:this._refAd},a?s["default"].createElement("a",{className:this.className+"w",href:o,target:"_blank"},s["default"].createElement("img",{className:this.className+"c",src:l,onError:this.handleError})):null,s["default"].createElement("span",{className:this.className+"tag"},"广告"))}});a["default"]=y,t.exports=a["default"]},function(t,a,n){(function($){n(2),n(4),n(5),n(25);var a=n(154),i=n(6);window.rootPath=function(t){return t?t.match(/^http/)||t.match(/^\/\//)||t.match(/^data\:/)?t:(t=t.replace(/^(\.)*\//,""),"cn"===window._SLD&&t.match(/^images\//)&&!t.match(/^images\/formTemplate\//)?i.CDN_PATH_WITHOUT_PROTOCOL+t:"./"+t):null},n(141);var l=n(155)(n(139)),o=l.dmwCheck,r=l.isMobile,s="form/css/form.css";r&&(s="form/css/formMobile.css");var d=!1;a.loadCSS(s+"?v="+(window._VER||""),function(){$(function(){d||(d=!0,l.init())})}),t.exports={isMobile:r,dmwCheck:o,__PRI_MK_GET_DT:l.__PRI_MK_GET_DT}}).call(a,n(25))},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function l(t){function a(t){return o.body?t():void setTimeout(function(){a(t)})}function n(){r.addEventListener&&r.removeEventListener("load",n),l&&l(),r.media=i||"all"}var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all",l=arguments[2],o=window.document,r=o.createElement("link"),s=o.getElementsByTagName("head")[0].childNodes,d=s[s.length-1],u=o.styleSheets;r.rel="stylesheet",r.type="text/css",r.href=t,r.media="only x",a(function(){d.parentNode.insertBefore(r,d.nextSibling)});var c=function f(t){for(var a=r.href,n=u.length;n--;)if(u[n].href===a)return t();setTimeout(function(){f(t)})};return r.addEventListener&&r.addEventListener("load",n),r.onloadcssdefined=c,c(n),r}a.__esModule=!0;var o=n(25),r=i(o);a["default"]={loadCSS:function(t,a){for(var n=[].concat(t),i=0,o=n.length;i<o;i++)l(n[i],"all",a)},loadJS:function(t,a){for(var n=[].concat(t),i=0,l=n.length;i<l;i++)n[i]&&r["default"].getScript(n[i],a)}},t.exports=a["default"]},function(t,a,n){(function(i){"use strict";function l(t){return t&&t.__esModule?t:{"default":t}}function o(t,a){var n={};for(var i in t)a.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function r(){return Se}function s(t){return function(e){if(_e){var a=G.formStore.getState(),n=G.utils.getCacheFilling(a.data);R["default"].isEmpty(n)||t(JSON.stringify(n))}}}function d(){return'<div class="mask" id="ckiMask"><div class="checkInAuth popInnerAnimation"><div class="cki_content"><p class="cki_tips">'+G.lang.ckiAuthGuide+'</p></div><div class="cki_operate"><a class="fbc_button cki_no">'+G.lang.ckiAuthNo+'</a><a class="fbc_button cki_yes" name="auth">'+G.lang.ckiAuthYse+"</a></div></div></div>"}function u(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return'<div class="mask" id="captchaMask"><div class="captcha popInnerAnimation"><div class="cpt_content"><img class="cpt_img" src="'+t+'" title="'+G.lang.fCaptchaChangeTips+'" ><p class="cpt_tips'+("error"===a?" error":"")+'">'+G.lang.fCaptchaTips+'</p><div class="cpt_inputWrapper fbc_input'+("error"===a?" error":"")+'"><input class="cpt_input fbi_input" />'+("succeed"===a?'<i class="iconfont cpt_icon succeed">'+String.fromCharCode(59173)+"</i>":"")+("error"===a?'<i class="iconfont cpt_icon error">'+String.fromCharCode(58982)+"</i>":"")+'</div></div><div class="cpt_operate"><a class="fbc_button cpt_confirm">'+G.lang.gConfirm+"</a></div></div></div>"}function c(t,a,n){function l(t){r>5||(r++,he.post(Ae,{hideErrorAlert:!0,data:{d:JSON.stringify({cvs:{t:G.utils.token()}})}}).done(function(a){0===a.r&&(t.src=G.utils.QR(!0,+new Date))}))}if(!G.utils.token()||"null"===G.utils.token()){var o="images/form/icon_weChat.png";return"cn"===window._SLD&&(o=ie["default"].CDN_PATH_WITHOUT_PROTOCOL+"images/form/icon_weChat.png"),'<div class="mask '+t+'" id="'+t+'"><div class="scanner popInnerAnimation"><div class="scannerGuide"><img class="scannerWeChatIcon" src="'+o+'" /><p class="scannerDes">'+G.lang.errNoTokenShareImage+"</p></div></div>"}var r=0;i.MKGetQR=null,i.MKGetQR=R["default"].throttle(l,1e3);var s="images/form/icon_weChat.png";return"cn"===window._SLD&&(s=ie["default"].CDN_PATH_WITHOUT_PROTOCOL+"images/form/icon_weChat.png"),'<div class="mask '+t+'" id="'+t+'"><div class="scanner popInnerAnimation"><img class="scannerQRCode" src="'+a+'" onerror="MKGetQR(this)"/><div class="scannerGuide"><img class="scannerWeChatIcon" src="'+s+'" /><p class="scannerDes">'+n+"</p></div></div>"}function f(){Se!==ge&&Se!==me||(ke.css("overflow","hidden").on("click.closeShare","#shareMask",function(){(0,W["default"])("#shareMask").remove(),ke.css("overflow-y","auto").off("click.closeShare"),Te.removeClass("form-disabled")}),xe.after(c("shareMask",G.utils.QR(!0),G.lang.sShareFormDis)),Te.addClass("form-disabled"))}function h(){Se!==me&&Se!==ye||(Ee.css({"overflow":"hidden","width":"100%","height":"100%"}).bind("touchmove",function(e){e.preventDefault(),e.stopPropagation()}),De.css({"overflow":"hidden","width":"100%","height":"100%"}),xe.after(c("",G.utils.QR(!0),G.lang.errOnlyInWeChat)),Te.addClass("form-disabled"))}function p(t,a){if(Se===me||Se===ye){var n="#captchaMask",i=!1,l=null;ke.css("overflow","hidden").on("captchaFin",function(){(0,W["default"])(n).remove(),ke.css("overflow-y","auto").off("captchaFin").off(".captchaEvent")}).on("input.captchaEvent propertychange.captchaEvent",n+" .cpt_input",function(e){var t=(0,W["default"])(this),a=(0,W["default"])(n),i=t.val();G.utils.setCaptchaData(i),l!==i&&(a.find(".cpt_icon").remove(),a.find(".cpt_tips").removeClass("error"),a.find(".cpt_inputWrapper").removeClass("error")),4===i.length&&l!==i&&G.formStore.checkCaptcha(G.utils.getCaptchaToken(),i).done(function(n){0===n.r?t.after('<i class="iconfont cpt_icon succeed">'+String.fromCharCode(59173)+"</i>"):(a.find(".cpt_inputWrapper").addClass("error"),t.after('<i class="iconfont cpt_icon error">'+String.fromCharCode(58982)+"</i>"))}),l=i}).on("click.captchaEvent",n+" .cpt_img",function(){l=null,G.utils.setCaptchaToken(null),G.utils.setCaptchaData(null),(0,W["default"])(n+" .cpt_input").val(""),(0,W["default"])(n).find(".cpt_icon").remove();var t=(0,W["default"])(this);G.formStore.generateCaptcha().then(function(a){G.utils.setCaptchaToken(a.t),t.attr("src","data:image/png;base64,"+a.img)})}).on("click.captchaEvent",n+" .cpt_confirm",function(){if(!i)if(G.utils.getCaptchaData())i=!0,a();else{var t=(0,W["default"])(n);t.find(".cpt_tips").addClass("error"),t.find(".cpt_inputWrapper").addClass("error")}}),xe.after(u(t))}}function m(){Se===me&&(ke.css({"overflow":"hidden","width":"100%","height":"100%"}).on("click.opeCheckInAuth",".fbc_button",function(e){(0,W["default"])("#ckiMask").remove(),ke.css("overflow-y","auto").off("click.closeShare"),Te.removeClass("form-disabled"),"auth"===e.target.name&&G.formStore.wxAuth()}),De.css({"overflow":"hidden","width":"100%","height":"100%"}),xe.after(d()))}function g(){if(!We&&!Be){G.formStore.dispatch({type:"savingForm"}),G.formStore.dispatch({type:"submitValid",aria:Ue}),Ue=!1;var t=G.formStore.getState();if(_e=!1,t.valid&&!R["default"].isEmpty(t.valid))return _e=!0,G.formStore.dispatch({type:"endSubmit"}),void G.formStore.dispatch({type:"submitFailLocate"});if((0,Y.inIframe)()&&!(0,Y.getCookie)("uvi")){var a=Ve();if(a){var n="/fx.html?p="+encodeURIComponent(Ve());return void(window.top.location.href=n)}}G.utils.formCacheId()&&!R["default"].isEmpty(G.utils.getCacheFilling(t.data))&&Ke(JSON.stringify(G.utils.getCacheFilling(t.data))),We=!0;var i=t.data;He=i;var l=!0;G.utils.getFormCaptcha()&&(l=new Promise(function(t){G.formStore.generateCaptcha().then(function(a){G.utils.setCaptchaToken(a.t),p("data:image/png;base64,"+a.img,function(){t()})})})),Promise.resolve(l).then(function(){var t=G.formStore.getFiles(),a=!1,n=(0,W["default"])("#submitWorker"),l=G.utils.getSubmitData(i);if(window.IN_WECHAT&&(l.cvs.c.ext||(l.cvs.c.ext={}),l.cvs.c.ext.cashier)){var o=y(i);l.cvs.c.ext.jp={"rdu":o}}if(n.length>0&&!R["default"].isEmpty(t))if(de){n=(0,W["default"])("#submitFrame");var r=(0,W["default"])('<input type="hidden" name="d" >').insertBefore(".submit").val(JSON.stringify(l));n.on("load",function(e){r.remove();var t=n.contents().find("body").html();try{S(JSON.parse(t))}catch(e){C()}}),R["default"].forEach(t,function(t,a){var n=(0,W["default"])("#"+a);if(n.length>0){var i=0;R["default"].forEach(t.fileList,function(t,l){n.find('[data-idx="'+l+'"]').attr("name","ATTA_"+a+"_"+i),i++})}}),a=!0,xe.submit()}else{var s=[],d=[];R["default"].forEach(t,function(t,a){var n=0;R["default"].forEach(t.fileList,function(t,i){s.push(t),d.push("ATTA_"+a+"_"+n),n++})}),R["default"].isEmpty(s)||(a=!0,n.fileupload("send",{files:s,paramName:d,url:Re,formData:{d:JSON.stringify(l)}}).success(S))}a||he.post(Re,{hideErrorAlert:!0,data:{d:JSON.stringify(l)}}).done(S).fail(function(t){C()})})}}function v(){var t=$e+"_"+G.utils.token();if(G.utils.getSettings("isOnlySubmitPerDay")){var a=new Date;a.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()),a.setHours(23,59,59,100),(0,Y.setCookie)(t,1,{domain:fe,expires:a,isExpiresDate:!0,path:"/"}),Ye[G.utils.token()]=a.getTime(),j["default"].set($e,JSON.stringify(Ye))}else if(G.utils.getSettings("isOnlySubmit")){(0,Y.setCookie)(t,2,{domain:fe,expires:ze,path:"/"});var n=new Date;n.setDate(n.getDate()+ze+1),n.setHours(0,0,0,0),Ye[G.utils.token()]=n.getTime(),j["default"].set($e,JSON.stringify(Ye))}}function y(t){var a=G.utils.getSettings(),n=null;return 2===a.afterSubmitPage&&(a.asIsJumpToLuxury&&R["default"].forEach(a.asJumpToLuxury,function(a,i){if(t[i]){var l=G.utils.getComponents(i),o=R["default"].find(l.options,{sId:t[i][0]});o&&(n=a[o.pid||o.id])}}),n||(n=a.asJumpTo||null)),n?(0,Y.linkify)(n):null}function b(t){var a=G.utils.getSettings(),n=t.link,i=t.randomCode,l=t.ticketValidationCode,o=t.ticketValidationQR,r=t.orderNo;if(n){var s=G.lang.asSubmitSucceed;a.asTextTitle&&(s=R["default"].escape(a.asTextTitle));var d='<div class="mask maskJumpInfo" id="submitJump"><div class="mj_content popInnerAnimation"><div class="mj_img"></div><p class="mj_succeedTips">'+s+'</p><div class="mj_jumpTips"><p class="mj_jtTitle mj_jtBLink">'+G.lang.succeedJumpTips({sec:3})+'</p><p class="mj_jtInfo">'+n+"</p>";"ja"===G.currentLang?d+='<p class="mj_jtTitle mj_jtALink">へ移動する</p>':"ru"===G.currentLang?d+='<p class="mj_jtTitle mj_jtALink">через 3 с.</p>':"it"===G.currentLang&&(d+='<p class="mj_jtTitle mj_jtALink">tra 3 secondi</p>'),d+="</div></div></div>",xe.after(d),K["default"].lockPageScroll(),Te.addClass("form-disabled");var u=(0,ee["default"])().time(),c=(0,W["default"])("#submitJump").find(".mj_jtBLink");"ru"!==G.currentLang&&"it"!==G.currentLang||(c=(0,W["default"])("#submitJump").find(".mj_jtALink"));var f=setInterval(function(){var t=(0,ee["default"])().time(),a=Math.max(Math.ceil(je-(t-u)/1e3),0);"ru"===G.currentLang?c.text("через "+a+" с."):"it"===G.currentLang?c.text("tra "+a+" secondi"):c.text(G.lang.succeedJumpTips({sec:a}))},300);return void setTimeout(function(){clearInterval(f),Be=!0,(0,W["default"])("#submitJump").remove(),K["default"].unLockPageScroll(),Te.removeClass("form-disabled"),Oe&&Oe.topFrameLocationHref&&Y.inIframe?window.top.location.href=n:location.href=n},1e3*je)}Be=!0,V["default"].unmountComponentAtNode(Ee[0]),V["default"].unmountComponentAtNode(Ie[0]);var h=(0,W["default"])(".main"),p="is-emptyTail";h.removeClass(p),t.needAlert&&G.formStore.setPaymentState({ordiNo:r}),V["default"].render(U["default"].createElement(G.Succeed,{settings:a,isMobile:Pe,randomCode:i,orderNo:r,needAlert:t.needAlert,ticketValidationCode:l,ticketValidationQR:o}),Ee[0]),a&&0!==a.asIsShowButton&&V["default"].render(U["default"].createElement(Q["default"],{isMobile:Pe}),Ie[0])}function S(t){if(Ge={},ke.trigger("captchaFin"),0!==t.r)return t.r===-850?(G.formStore.dispatch({type:"optionQuotaError",errorInfo:[].concat(t.e)}),_e=!0,We=!1):t.r===-851?(G.formStore.dispatch({type:"commodityQuotaError",errorInfo:[].concat(t.e)}),_e=!0,We=!1):t.r===-852?(G.formStore.dispatch({type:"duplicateDataError",errorId:t.e}),_e=!0,We=!1):t.r===-828?(G.formStore.dispatch({type:"MobileValidEmpty",errorId:G.utils.getValidMobile()}),_e=!0,We=!1):t.r===-829?(G.formStore.dispatch({type:"MobileValidCodeError",errorId:G.utils.getValidMobile()}),_e=!0,We=!1):t.r===-830?(_e=!0,We=!1,g()):E(t.r,Pe),void G.formStore.dispatch({type:"endSubmit"});We=!1,j["default"].remove(G.utils.formCacheId()),t.randomCode&&(Ge.randomCode=t.randomCode);var a=t.ext&&t.ext.ftkv;if(a){var n=t.ext.ftkv;Ge.tkvCode=n.code,Ge.tkvQrUrl=n.qrUrl}if(t.cashier){var i=R["default"].assign({},t.cashier),l=G.utils.getInnerFormPayInfo();if(window.IN_WECHAT||l.pvt){if(i.inWechat=window.IN_WECHAT,i.redirectUrl=y(He),i.randomCode=t.randomCode||null,a){var o=t.ext.ftkv;i.tkvCode=o.code,i.tkvQrUrl=o.qrUrl}i.t=G.utils.token()}G.formStore.dispatch({type:"cashierInfo",data:i})}else _(He,Ge);G.formStore.dispatch({type:"endSubmit"})}function C(){ae["default"].error("unkown error..",arguments)}function _(t,a){v();var n=y(t);b({link:n,randomCode:a.randomCode,ticketValidationCode:a.tkvCode,ticketValidationQR:a.tkvQrUrl})}function w(){Se!==be&&_(He,Ge)}function E(t,a){V["default"].unmountComponentAtNode(Ie[0]),[-52,-801,-802,-888,-840,-841].indexOf(t)>-1?(ke.css("backgroundColor","#FAFAFA"),V["default"].render(U["default"].createElement(G.HugeErrorHandler,{errorCode:t,isMobile:a}),Te[0])):V["default"].render(U["default"].createElement(G.ErrorHandler,{errorCode:t,settings:G.utils.getSettings(),style:G.utils.getStyle(),isMobile:a}),Ee[0])}function I(){"onresize"in window&&De.on("resize.windowResize",qe),"onorientationchange"in window&&De.on("orientationchange.windowResize",function(e){qe(),setTimeout(function(){qe()},600)}),(0,W["default"])(document).on("drop dragover",function(e){return e.preventDefault(),!1}),(0,W["default"])(".handleForm").on("drop dragover",function(e){return e.preventDefault(),!1}),Se===me?we.on("click.submit","#form_submit",g).on("keydown.submit","#form_submit",function(e){var t=this;13!==e.which&&32!==e.which||((0,W["default"])(this).blur(),Ue=!0,g(),setTimeout(function(){(0,W["default"])(t).focus()},10))}).on("form-submit",g).on("click.share",".f_shareBtn",f):Se===ge&&we.on("click.share",".f_shareBtn",f)}function N(t){var a=(G.utils.getStyle("themeColor")||"#2D8FD9").toUpperCase();if(a&&"#2D8FD9"!==a){var n=re["default"].convertToRGBObj.fromHex(a),i=[];i.push(".fb_tvGuide, .fbc_optionSvg.selected, .fbc_optionSvg:hover, .fbc_optionVal:hover .fbc_optionSvg, .fbc_optionsLi:focus .fbc_optionSvg{color:"+a+";}"),i.push(".fbc_commodityPrice, .fbc_dtIcon, .fbc_paImgState, .fbc_descriptionLink, .fbc_descriptionLink:visited, .fbc_foldBtn, .fbc_foldBtn:visited, .fbc_commodityNameJump:hover, .lg-countpicker-reduce, .lg-countpicker-increase, .fbc_addIcon:hover, .fbc_addIcon:active{color:"+a+";}"),i.push(".fbc_input:focus, .fbc_input.is_focus, .fbc_tabularInput:focus, .fbc_tabularInput.is_focus, .fbc_select.focus, .fbc_selectList, .fbc_paItem:hover, .fbc_uploadFile:hover,  .fbc_dtDropWrapper, .calendar_bDayItem .current-month.selected,.fbc_roItem.dragging, .lg-countpicker-reduce:hover, .lg-countpicker-increase:hover, .fbc_roItem:focus{border-color:"+a+";}"),i.push(".fbc_raHovered .fbc_raGroove{color:"+a+";background-color:rgba("+n.r+", "+n.g+", "+n.b+", 0.5);}.fbc_raItem.has-value .fbc_raNum, .fbc_raNum.has_value, .fbc_raHovered .fbc_raNum, .fbc_raFilled .fbc_raNum, .fbc_raFilled.fbc_raHovered .fbc_raNum, .lg-countpicker-reduce:active, .lg-countpicker-increase:active, .fbc_pccDot.active, .fbc_numItem.numSelected{background-color:"+a+";}"),i.push(".fbc_selectLi:hover, .calendar_switcher, .fb_ticketValidation, .fb_tvDecorate:before, .fb_tvDecorate:after{background-color:"+a+";}"),i.push(".fbc_selectLi.fbc_currentSelected, .calendar_hTitle, .calendar_hDecrease, .calendar_hIncrease, \n\t.calendar_hTitle.canSwitch .hasTopLayer, .calendar_bDayItem.current-month:hover, .calendar_bDayItem.current-month:hover a, \n\t.calendar_bDayItem.current-month:hover a:hover, .calendar_bDayItem.current-month:hover a:visited, \n\t.calendar_bDayItem.current-month.selected, .calendar_bDayItem.current-month.selected a, \n\t.fb_tvBorder, .calendar_bDayItem.current-month.selected a:hover, .calendar_bDayItem.current-month.selected a:visited{color:"+a+";border-color:"+a+";}\n\t.fbc_button.calendar_confirm,.calendar_cancel:active{background-color:"+a+";}\n\t.calendar_bDayItem.today{background-color:rgba("+n.r+", "+n.g+", "+n.b+", 0.5);}\n\t.calendar_cancel, .calendar_typeItem:hover .calendar_typeTitle, .calendar_typeItem.selected .calendar_typeTitle{color:"+a+";}.calendar_cancel:hover{border-color:"+a+";}"),t&&(i.push(".fbc_picOptionsChecked, .fbc_staticMap:hover{border-color:"+a+";box-shadow-color:"+a+";}"),i.push(".fbc_select .fbc_innerSelect:focus{box-shadow-color:"+a+";}"),i.push(".fbc_tabularInput.fbc_input, .fbc_tabularInput:focus{box-shadow-color:"+a+";}"));var l=Le?(0,W["default"])(Le).find("#formStyle"):(0,W["default"])("#formStyle");0===l.length?(Le?(0,W["default"])(Le).find("head"):(0,W["default"])("head")).append('<style id="formStyle" type="text/css">'+i.join("\n")+"</style>"):l.html(i.join("\n"))}}function k(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=G.utils.getStyle(),i=n.bodyStyle,l={};if((!t||i&&null!=i.bgOpacityValue&&R["default"].isNumber(i.bgOpacityValue)&&i.bgOpacityValue<1)&&n.background){switch(l.backgroundImage="url("+n.background+")",t&&(l.backgroundImage="url("+n.optBackground+")"),l.backgroundPosition="center center",l.backgroundRepeat="no-repeat",n.bgLayoutHorizontal||6){case 3:l.backgroundRepeat="repeat-x";break;case 4:l.backgroundSize="100% auto";break;case 5:l.backgroundPositionX="left";break;case 7:l.backgroundPositionX="right";break;case 6:default:l.backgroundPositionX="center"}switch(n.bgLayoutVertical||6){case 3:l.backgroundRepeat="repeat-y";break;case 4:l.backgroundSize="auto 100%";break;case 8:l.backgroundPositionY="top";break;case 9:l.backgroundPositionY="bottom";break;case 6:default:l.backgroundPositionY="center"}n.bgLayoutHorizontal===n.bgLayoutVertical&&(3===n.bgLayoutVertical?l.backgroundRepeat="repeat":4===n.bgLayoutVertical&&(l.backgroundSize="cover"));var o=!1;ae["default"].log("---> mode",Se,t),!t||Se!==me&&Se!==ye&&Se!==ve&&Se!==be||(o=!0),n.backgroundFixed||o?(l.overflowY=t?"scroll":"hidden",xe.addClass("coverForm")):xe.removeClass("coverForm"),l.backgroundSize&&!t&&se&&("cover"===l.backgroundSize||l.backgroundSize.indexOf("100%")>=0)&&(l.backgroundImage=null,l.backgroundSize=null,(0,W["default"])(".bg_ly").remove(),we.before('<img class="bg_ly" src="'+n.background+'" width="100%" height="100%" style="position: absolute; left: 0; right: 0;top: 0;bottom: 0; z-index: 0;">')),o?(0!==(0,W["default"])(".bg_ly").length&&(0,W["default"])(".bg_ly").remove(),xe.before('<div class="bg_ly" style="position: fixed; left: 0; right: 0;top: 0;bottom: 0; z-index: -1;background-image:'+l.backgroundImage+";"+(l.backgroundSize?"background-size:"+l.backgroundSize+";":"")+"background-repeat:"+l.backgroundRepeat+"; background-position: "+l.backgroundPosition+";"+(l.backgroundPositionX?"background-position-x:"+l.backgroundPositionX+";":"")+(l.backgroundPositionY?"background-position-y:"+l.backgroundPositionY+";":"")+'transform: translate3d(0,0,-1px);overflow: scroll;"></div>'),l.backgroundImage=null,l.backgroundSize=null):(0,W["default"])(".bg_ly").remove()}if(a)l.backgroundColor="transparent";else if(n.bgColor){var r=new oe.OColor(n.bgColor);l.backgroundColor=r.getHEX()}var s={};if(i&&(i.bgColor||null!=i.bgOpacityValue&&1!==i.bgOpacityValue)&&(i.bgColor&&(s.backgroundColor=i.bgColor),1!==i.bgOpacityValue)){var d=new oe.OColor(i.bgColor||"#ffffff");d.set("a",i.bgOpacityValue),s.zoom=1,se?(s.filter="progid:DXImageTransform.Microsoft.gradient(GradientType=1,startColorstr="+d.getIEFullHEX()+", endColorstr="+d.getIEFullHEX()+")",s["-ms-filter"]="progid:DXImageTransform.Microsoft.gradient(GradientType=1,startColorstr='"+d.getIEFullHEX()+"', endColorstr='"+d.getIEFullHEX()+"')",s.backgroundColor="transparent"):s.backgroundColor=d.getRGBA()}a&&(s.backgroundColor="transparent"),ae["default"].log("decorator"),ae["default"].log(l,s,ke.data("hasSet"),Ee.data("hasSet")),R["default"].isEmpty(l)||ke.data("hasSet")||(ke.data("hasSet","1"),ke.css(l)),R["default"].isEmpty(s)||Ee.data("hasSet")||(Ee.data("hasSet","1"),Ee.css(s)),n&&n.headerStyle&&0===n.headerStyle.bgOpacityValue&&i&&0===i.bgOpacityValue&&n.submitStyle&&0===n.submitStyle.bgOpacityValue&&we.css({boxShadow:"0 0 0"})}function T(t){we.trigger("viewRender",t)}function M(){we.bind("viewRender",function(e,t,a){N(t),k(t,(a||{}).opacityBg);var n=void 0,i=!1;if(n=G.utils.getStyle("bgColor")||null){var l=re["default"].convertToRGBObj.fromHex(n);i=re["default"].colorGrayLevel(l.r,l.g,l.b)<170}G.header.render(we);var r=G.utils.JHR();if(0===r||Se!==me&&Se!==ye&&Se!==be)if(Se===be){G.utils.formInfoInit(),v();var s=(0,Y.parseURL)(location.href),d=decodeURIComponent(s.params.rc||""),u=decodeURIComponent(s.params.rdu||""),c=decodeURIComponent(s.params.tkvc||""),f=decodeURIComponent(s.params.tkvqr||""),h=decodeURIComponent(s.params.no||"");b({needAlert:!0,orderNo:h,link:u,randomCode:d,ticketValidationCode:c,ticketValidationQR:f}),V["default"].unmountComponentAtNode(Ne[0]),G.copyright.render(Ne,i)}else{if(G.utils.formInfoInit(),Se!==ve&&Se!==ye){var p="images/form/form_shareQr.png";"cn"===window._SLD&&(p=ie["default"].CDN_PATH_WITHOUT_PROTOCOL+"images/form/form_shareQr.png"),0===G.utils.getSettings("isShowShare")||0!==(0,W["default"])(".f_shareBtn").length||t||we.append('<a class="f_shareBtn '+(i?"f_shareLight":"")+'" title="'+G.lang.sShareBtnTitle+'"><img src="'+p+'" ></a>')}if(Se!==ye||et||(0,W["default"])("body").addClass("readOnly").prepend('<p class="form_globalTips">'+G.lang.tFormViewTIps+"</p>"),Se===me){if(Je)try{G.utils.setDefaultValue(JSON.parse(Je)),G.formStore.setDefaultFillingData()}catch(e){ae["default"].error(e)}G.formStore.setUvdData();var m=G.utils.getParamsDt();if(m&&!R["default"].isEmpty(m)){var y=m.foc,S=o(m,["foc"]);try{G.utils.setDefaultValue(S),G.formStore.setDefaultFillingData(y)}catch(e){ae["default"].error(e)}}if(Xe)try{G.formStore.dispatch({type:"page",data:+Xe,aria:!1})}catch(e){ae["default"].error(e)}G.utils.hasAttachmentComponent()&&(de?xe.attr({"id":"submitWorker","action":Re,"target":"submitFrame","method":"post"}).append('<iframe id="submitFrame" name="submitFrame" class="f_submitWorker"/>'):(xe.append('<input type="file" id="submitWorker" class="f_submitWorker"/>'),(0,W["default"])("#submitWorker").fileupload({dataType:"json",replaceFileInput:!0,multiple:!0,progressall:function(e,t){var a=+(t.loaded/t.total*100);G.formStore.dispatch({type:"savingForm",progress:a})}})))}G.formStore.setIpLoc(),G.body.render(Ee),V["default"].unmountComponentAtNode(Ie[0]),G.submit.render(Ie),V["default"].unmountComponentAtNode(Ne[0]),G.copyright.render(Ne,i),De.trigger("$$stickyUpdate")}else G.utils.formInfoInit(),E(r,t),[-52,-801,-802,-888,-840,-841].indexOf(r)===-1&&(V["default"].unmountComponentAtNode(Ne[0]),G.copyright.render(Ne,i));window.setTimeout(function(){we.trigger("$$resize"),G.formStore.dispatch({type:"$$resize"})},500),window.setTimeout(function(){if(we.trigger("$$resize"),G.formStore.dispatch({type:"$$resize"}),De.trigger("$$stickyUpdate"),Se===me&&(0,Y.inIframe)()&&(0,Y.getCookie)("fx")&&(0,Y.getCookie)("fx")===Ve()){(0,Y.setCookie)("fx",null);var t=location.hostname.split(".");t.length>2?t[0]="":t=[""].concat(t),t=t.join("."),(0,Y.setCookie)("fx",null,{domain:t}),g()}},1500)}).on("paymentSucceed",w)}function x(t){var a=G.utils.formCacheId(),n=void 0,i=void 0,l=void 0,o=void 0;if(a&&(n=j["default"].get(a))?j["default"].remove(a):n=null,i=j["default"].get($e)){i=JSON.parse(i),ae["default"].log(i);var r={},s=(new Date).getTime();R["default"].forEach(i,function(t,a){s-t<=0&&(r[a]=t)}),i=r,j["default"].set($e,JSON.stringify(i))}else i={};(l=j["default"].get(Qe))?j["default"].remove(Qe):l=null,(o=j["default"].get("MKWXPAGEPOS"))?j["default"].remove("MKWXPAGEPOS"):o=null,Ke=function(t){j["default"].set(G.utils.formCacheId(),t)},Ze=function(t){j["default"].set($e,t)};var d=t(Ke);return window.onbeforeunload=d,"onpagehide"in window&&(window.inIOSCache=!0,window.onpagehide=d,window.addEventListener("pagehide",function(){d()},!1),window.addEventListener("blur",function(){d()},!1),window.onunload=d),"onpageshow"in window&&(window.onpageshow=function(){We||(Be=!1,We=!1,_e=!0)}),De.on("triggerSaveCache",d),{formCache:n,submitOnceInfoCache:i,pageReferrerCache:l,pageNumCache:o}}function D(){var t=G.formStore.getState(),a=G.utils.getCacheFilling(t.data),n={};return R["default"].forEach(a,function(t,a){t&&!R["default"].isEmpty(t)&&(n[a]=t)}),JSON.stringify(n)}function P(){return{$scrollContainer:Me,$window:De,$container:Te,$wrapper:ke,$form:we,$body:Ee,$submit:Ie,$copyright:Ne,$submitForm:xe}}function O(t){Me=t.$scrollContainer,De=t.$window,Te=t.$container,ke=t.$wrapper,we=t.$form,Ee=t.$body,Ie=t.$submit,Ne=t.$copyright,xe=t.$submitForm}function L(t){function a(a){Le=a,Se=t.setPageMode(),Ce=0!==G.utils.JHR(),Ce&&G.utils.JHR()===-840&&(Se=me),G.utils.setAsRaw(t.setRawInfo(),Se),ue&&(Se=ye),ae["default"].log(Se);var n=t.contentBinder(G.utils);if(O(n),"ar"===G.currentLang&&Te.attr("dir","rtl"),we.show(),Se===me){var i=x(s),l=i.formCache,o=i.submitOnceInfoCache,r=i.pageReferrerCache,d=i.pageNumCache;Je=l,Xe=d,Ye=o||{};var u=R["default"].assign({},Ye),c=((0,Y.getCookie)($e.toLowerCase())||"").split(",");c&&R["default"].forEach(c,function(t){t&&!u[t]&&(u[t]=1)});var f=$e+"_"+G.utils.token();if((G.utils.getSettings("isOnlySubmitPerDay")||G.utils.getSettings("isOnlySubmit"))&&((0,Y.getCookie)(f)||u[G.utils.token()])){var p=(0,Y.getCookie)(f);p?1===+p&&G.utils.getSettings("isOnlySubmit")?v():2===+p&&G.utils.getSettings("isOnlySubmitPerDay")&&v():v(),Ce=!0,G.utils.updateRawInfo("JHR",-827)}r&&G.utils.setCacheReferrer(r),!G.utils.getSettings("isOnlyWeChat")||window.IN_WECHAT&&window.WC_JSAPI_PARAMS||(et=!0,Se=ye,h()),G.utils.convertExtensions();var g=G.formExtends.getCheckIn();window.IN_WECHAT&&window.WC_JSAPI_PARAMS&&!G.utils.getVstWcState()&&g.isCheckIn&&g.info.ckiWeChat&&m(),t.setMessageIframe(function(){G.formStore.dispatch({type:"$$messenger"}),Oe=t.getPostSettings(),T([t.isMobile(),Oe])})}if(Se===me||Se===ye||Se===be)try{var y=G.utils.getSettings("isWcShare");0!==y&&null==y&&(y=1),t.setWechat({isWcShare:y},function(){window.setTimeout(function(){we.trigger("$$resize"),G.formStore.dispatch({type:"$$resize"})},500)})}catch(e){}I(),M(),T([t.isMobile(),t.getPostSettings()]),t.eventBind(),De.trigger("triggerSaveCache")}i.MKIsMobile=t.isMobile;var n={isMobile:t.isMobile,getCurrentWidth:t.getCurrentWidth,getMode:r},l=R["default"].assign({getContent:P},n);return G.formStore.inject(R["default"].assign({updateRawInfo:t.updateRawInfo,setRawInfo:t.setRawInfo,getContent:P,getPostSettings:t.getPostSettings},n)),G.header.inject(n),G.body.inject(l),G.submit.inject(l),G.copyright.inject(n),G.utils.init(),Pe=t.isMobile(),{init:a,dmwCheck:G.formStore.checkDMW,isMobile:t.isMobile(),updateContentBinder:O,__PRI_MK_GET_DT:D}}a.__esModule=!0;var F=n(8),R=l(F),A=n(25),W=l(A),B=n(14),U=l(B),H=n(26),V=l(H),z=n(27),j=l(z),G=n(141),q=n(156),Q=l(q),J=n(28),X=l(J),Y=n(38),K=l(Y),Z=n(39),ee=l(Z),te=n(37),ae=l(te),ne=n(6),ie=l(ne),le=n(32),oe=(l(le),n(55)),re=l(oe);n(81),n(82),n(83),n(84);var se=G.utils.isIE8,de=G.utils.isOldIE,ue=G.utils._IS_IRO,ce=location.hostname.split(".");ce.length>2?ce[0]="":ce=[""].concat(ce),ce=ce.join(".");var fe=ce;i.jQuery=i.$=W["default"];var he={ajax:X["default"].ajax,post:function(t,a){var n={url:t,type:"POST",dataType:"json"};return X["default"].ajax(W["default"].extend({mode:"abort"},a,n))},abort:X["default"].abort},pe=-1,me=1,ge=2,ve=3,ye=4,be=5,Se=pe,Ce=!1,_e=!0,we=void 0,Ee=void 0,Ie=void 0,Ne=void 0,ke=void 0,Te=void 0,Me=void 0,xe=void 0,De=void 0,Pe=void 0,Oe=void 0,Le=null,Fe="handler/web/form_runtime/",Re=Fe+"handleSubmit.php",Ae=Fe+"handleGenQr.php",We=!1,Be=!1,Ue=!1,He=null,Ve=function(){var t=null;if(parent!==window)try{t=parent.location.href}catch(e){t=document.referrer}return t},ze=7,je=3,Ge={},qe=R["default"].debounce(function(){we.trigger("$$resize"),G.formStore.dispatch({type:"$$resize"})},200),$e="MKSO",Qe="MKFPR",Je=null,Xe=null,Ye={},Ke=null,Ze=null,et=!1;a["default"]=L,t.exports=a["default"]}).call(a,function(){return this}())},function(t,a,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}a.__esModule=!0;var l=n(14),o=i(l),r=n(9),s=n(55),d=n(35),u=i(d),c=n(38),f=(i(c),/micromessenger/i.test(window.navigator.userAgent));a["default"]=o["default"].createClass({displayName:"SucceedReturn.react",_getHrefUrl:function(){var t="",a=u["default"].getSettings();if("2"==a.asButtonLinkType&&a.asButtonLink)t=a.asButtonLink;else{var n="";if(f){var i=+new Date;n=location.pathname!==u["default"].token()?"?wechat_hash="+i:/wechat_hash/.test(location.search)?location.search.replace(/wechat_hash=\d+(&?)/,"wechat_hash="+i+"$1"):""==location.search?"?wechat_hash="+i:location.search+"&wechat_hash="+i}window._SST&&(n+=n?"&":"?",n+="sst="+window._SST),t=location.origin+"/"+u["default"].token()+n}return t},render:function(){var t=u["default"].getStyle(),a=u["default"].getSettings(),n=this.props.isMobile,i=t.submitStyle||{},l=["","left","center","right"],c={textAlign:l[i.btnAlign||2]};if(i.bgColor&&(c.backgroundColor=i.bgColor),null!=i.bgOpacity&&1!==i.bgOpacityValue){var f=new s.OColor(i.bgColor||"#ffffff");f.set("a",i.bgOpacityValue),c.backgroundColor=f.getRGBA(),c.zoom=1,d.isIE8&&(c.filter="progid:DXImageTransform.Microsoft.gradient(GradientType=1,startColorstr="+f.getIEFullHEX()+", endColorstr="+f.getIEFullHEX()+")",c["-ms-filter"]="progid:DXImageTransform.Microsoft.gradient(GradientType=1,startColorstr='"+f.getIEFullHEX()+"', endColorstr='"+f.getIEFullHEX()+"')",c.backgroundColor="transparent")}if(i.background){c.backgroundImage="url("+i.background+")",c.backgroundPosition="center center",c.backgroundRepeat="no-repeat";var h=i.bgLayoutHorizontal||6,p=i.bgLayoutVertical||6;switch(h){case 3:c.backgroundRepeat="repeat-x";break;case 4:c.backgroundSize="100% auto";break;case 5:c.backgroundPositionX="left";break;case 7:c.backgroundPositionX="right";break;case 6:default:c.backgroundPositionX="center"}switch(p){case 3:c.backgroundRepeat="repeat-y";break;case 4:c.backgroundSize="auto 100%";break;case 8:c.backgroundPositionY="top";break;case 9:c.backgroundPositionY="bottom";break;case 6:default:c.backgroundPositionY="center"}3==h&&3==p&&(c.backgroundRepeat="repeat"),4==h&&4==p&&(c.backgroundSize="cover")}var m={width:"1"==i.isFormWith||this.props.isMobile?"100%":"auto",height:Math.floor(2.2*(i.submitFontSize||14))+(n?6:0),paddingTop:(i.submitFontSize||14)/2+(n?3:0),paddingBottom:(i.submitFontSize||14)/2+(n?3:0),paddingLeft:(i.submitFontSize||14)+6,paddingRight:(i.submitFontSize||14)+6,fontSize:i.submitFontSize,fontWeight:i.fontWeight?"bold":"normal",color:i.fontColor,background:i.btnColor};return o["default"].createElement("div",{className:"submit",style:c},o["default"].createElement("a",{className:"fb_submitBtn",style:m,href:this._getHrefUrl()},"asButtonText"in a?a.asButtonText||"":r.lang.gGoBack))}}),t.exports=a["default"]}]);